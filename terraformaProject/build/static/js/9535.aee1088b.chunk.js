"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[9535],{7648:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(65043),r=t(74117),s=t(73216),l=t(35475),i=t(42145),o=t(79456),d=t(66925),c=t(70579);const u=()=>{var e,n,t;const{t:u}=(0,r.Bd)(),m=(0,s.zy)(),p=new URLSearchParams(m.search).get("uuid"),{id:x}=(0,s.g)(),{userProfileData:h}=(0,o.d4)((e=>e.userProfile)),g=null!==(e=null===h||void 0===h||null===(n=h.getProfile)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_type)&&void 0!==e?e:"",v=e=>{var n;let t="";if(null!==(n=e.split("/")[2])&&void 0!==n&&n.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var n;return t=t+(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+e.slice(1)+" ",t})),t}var a;return t=(null===(a=e.split("/")[2][0])||void 0===a?void 0:a.toUpperCase())+e.split("/")[2].slice(1),t},y=e=>{let n="";if(null!==e&&void 0!==e&&e.includes("-")){n=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const t=n.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return n=t.join(" "),n}var t;return n=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",n},$=e=>{let n="";return null!==e&&void 0!==e&&e.includes("-")||(n=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),n;var t},f=m.pathname.split("/"),j=(0,a.useCallback)((()=>{if((null===f||void 0===f?void 0:f.length)>0){const e=null===f||void 0===f?void 0:f.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(u(y(f[2])))});if(e<5)return""!==f[3]?f[3].length>32?(0,c.jsxs)(c.Fragment,{children:[$(f[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(u(v(m.pathname)))})}),$(f[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!$(f[3])&&(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(u(y(f[2])))}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(u($(f[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(u(v(m.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(u(y(f[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(u(y(f[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(u(v(m.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(u(y(f[3])))})]});if(e<7){let e="";return p?e="?uuid=".concat(p):x&&(e="?uuid=".concat(x)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:u(y(f[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(f[2],"/").concat(f[3],"/").concat((""!==p||""!==x)&&e),className:"text-light-grey hover:underline",children:u(y(f[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[5]&&"".concat(u(y(f[4])))})]})}}}),[f]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(l.k2,{to:(0,d.Go)(g,i.ve.SUPER_ADMIN,"/".concat(i.bw.app,"/").concat(i.bw.dashboard),"/".concat(i.bw.app,"/").concat(i.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:u("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),j()]})})},m=a.memo(u)},81410:(e,n,t)=>{t.d(n,{A:()=>r});t(65043);var a=t(70579);const r=function(){return(0,a.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,n,t)=>{t.d(n,{A:()=>u});var a=t(65043),r=t(74117),s=t(73216),l=t(7648),i=t(33556),o=t(79456),d=t(75214),c=t(70579);const u=e=>{let{headerActionConst:n,headerTitle:t}=e;const{t:u}=(0,r.Bd)(),m=(0,o.wA)(),{show:p}=(0,o.d4)((e=>e.coursesManagement)),x=(0,s.zy)(),h=(0,a.useCallback)((()=>{m((0,d.oM)(!p))}),[p]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(i.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:u(null!==t&&void 0!==t?t:(e=>{let n="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(n=n+e[0].toUpperCase()+e.slice(1)+" ",n))),n}return n=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),n})(x.pathname))}),(0,c.jsx)(l.A,{})]}),n&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(n)return n()})()})]})})]})}},77941:(e,n,t)=>{t.d(n,{Z:()=>i,i:()=>o});var a,r,s=t(57528),l=t(70459);const i=(0,l.J1)(a||(a=(0,s.A)(["\nmutation CreateAnnouncement($title: String, $description: String, $announcementType: String, $emailAttachment: String, $pushImage: String, $platform: String, $userType: String, $userFilter: String, $userToExclude: [Int], $onlySendTo: [Int], $startDate: Date, $endDate: Date) {\n  createAnnouncement(title: $title, description: $description, announcement_type: $announcementType, email_attachment: $emailAttachment, push_image: $pushImage, platform: $platform, userType: $userType, userFilter: $userFilter, userToExclude: $userToExclude, onlySendTo: $onlySendTo, start_date: $startDate, end_date: $endDate) {\n    data {\n      id\n      uuid\n      user_id\n      title\n      description\n      announcement_type\n      email_attachment\n      push_image\n      platform\n      userType\n      userFilter\n      userToExclude\n      onlySendTo\n      start_date\n      end_date\n      status\n      created_at\n      updated_at\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}"]))),o=(0,l.J1)(r||(r=(0,s.A)(["\n  mutation UpdateReadAnnouncementsForUser {\n    updateReadAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))},80909:(e,n,t)=>{t.d(n,{NV:()=>u,bg:()=>m,tT:()=>p});var a,r,s,l,i,o,d=t(57528),c=t(70459);(0,c.J1)(a||(a=(0,d.A)(["\n  query FetchAnnouncementsWithFilters($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $title: String, $startDate: String, $endDate: String, $announcementType: String, $platform: String, $status: Int) {\n    fetchAnnouncementsWithFilters(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, title: $title, start_date: $startDate, end_date: $endDate, announcement_type: $announcementType, platform: $platform, status: $status) {\n      data {\n        announcementData {\n          id\n          uuid\n          user_id\n          title\n          description\n          announcement_type\n          email_attachment\n          push_image\n          platform\n          userType\n          userFilter\n          userToExclude\n          onlySendTo\n          start_date\n          end_date\n          status\n          created_at\n          updated_at\n        }\n        count\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }"])));const u=(0,c.J1)(r||(r=(0,d.A)(["\nquery GetUsersWithPagination($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $firstName: String, $lastName: String, $email: String, $status: Int, $gender: Int, $phoneNo: String) {\n  getUsersWithPagination(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, first_name: $firstName, last_name: $lastName, email: $email, status: $status, gender: $gender, phone_no: $phoneNo) {\n    data {\n      userList {\n        id\n        uuid\n        first_name\n        middle_name\n        last_name\n        user_name\n        email\n        gender\n        date_of_birth\n        phone_no\n        phone_country_id\n        role\n        profile_img\n        device_type\n        status\n        user_role_id\n        created_at\n        updated_at\n      }\n      count\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}\n"]))),m=((0,c.J1)(s||(s=(0,d.A)(["\n  query GetAnnouncementHistoryForUser($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getAnnouncementHistoryForUser(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"]))),(0,c.J1)(l||(l=(0,d.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))),p=(0,c.J1)(i||(i=(0,d.A)(["\n  query GetAnnouncementById($announcementId: String!) {\n    getAnnouncementById(announcementId: $announcementId) {\n      message\n      data {\n        title\n        uuid\n        description\n        createdAt\n      }\n    }\n  }\n"])));(0,c.J1)(o||(o=(0,d.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n        }\n        count\n      }\n    }\n  }\n"])))},9535:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var a=t(65043),r=t(74117),s=t(12209),l=t(73216),i=t(88250),o=t(31881),d=t(80909),c=t(42145),u=t(81410),m=t(77941),p=t(64526),x=t(79456),h=t(28939),g=t(70579);const v=()=>{var e,n,t,v,y,$,f,j;const{t:N}=(0,r.Bd)(),{id:A}=(0,l.g)(),_=(0,x.wA)(),{data:b,loading:w}=(0,i.I)(d.tT,{variables:{announcementId:A},skip:!A}),[S,F]=(0,o.n)(m.i);return(0,a.useEffect)((()=>{S().then((e=>{var n;const t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.updateReadAnnouncementsForUser;p.oR.success(null===t||void 0===t?void 0:t.message),_((0,h.aY)(!0))})).catch((e=>{var n,t,a,r;p.oR.error(null===e||void 0===e||null===(n=e.networkError)||void 0===n||null===(t=n.result)||void 0===t||null===(a=t.errors)||void 0===a||null===(r=a[0])||void 0===r?void 0:r.message)}))}),[]),(0,g.jsxs)(g.Fragment,{children:[(w||(null===F||void 0===F?void 0:F.loading))&&(0,g.jsx)(u.A,{}),(0,g.jsx)(s.A,{headerTitle:"System Alerts"}),(0,g.jsx)("div",{className:"overflow-hidden md:h-[calc(100%-141px)] border border-solid h-[calc(100%-118px)] rounded-xl border-border-primary",children:(0,g.jsxs)("div",{className:"flex flex-col h-full p-3 overflow-auto md:p-5",children:[(0,g.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-5",children:[(0,g.jsx)("h6",{children:N("System Alerts")}),(0,g.jsxs)("div",{className:"flex flex-wrap max-xmd:w-full max-xmd:mt-4",children:[(0,g.jsxs)("p",{children:[N("Time"),": ",(0,g.jsx)("span",{className:"font-bold",children:(0,c.CC)(null===b||void 0===b||null===(e=b.getAnnouncementById)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.createdAt)})]}),(0,g.jsxs)("p",{className:"ml-7 xmd:ml-12",children:[N("Date"),": ",(0,g.jsx)("span",{className:"font-bold",children:(0,c.Tw)(null===b||void 0===b||null===(t=b.getAnnouncementById)||void 0===t||null===(v=t.data)||void 0===v?void 0:v.createdAt)})]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"mb-2.5",children:null===b||void 0===b||null===(y=b.getAnnouncementById)||void 0===y||null===($=y.data)||void 0===$?void 0:$.title}),(0,g.jsx)("p",{dangerouslySetInnerHTML:{__html:null===b||void 0===b||null===(f=b.getAnnouncementById)||void 0===f||null===(j=f.data)||void 0===j?void 0:j.description}})]})]})})]})}}}]);
//# sourceMappingURL=9535.aee1088b.chunk.js.map
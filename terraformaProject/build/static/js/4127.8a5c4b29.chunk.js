"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[4127],{34127:(l,e,a)=>{a.r(e),a.d(e,{default:()=>y});var o=a(65043),s=a(74117),i=a(73216),r=a(64526),n=a(85290),t=a(82806),d=a(42145),m=a(41290),u=a(33556),c=a(34764),v=a(4453),b=a(12352),g=a(86111);const h=l=>g.AES.encrypt(JSON.stringify(l),"ABCabc@#").toString();var p=a(63516),w=a(31881),x=a(79456),f=a(28939),j=a(66925),N=a(70579);const y=()=>{const{t:l}=(0,s.Bd)(),[e,a]=(0,w.n)(v.wz),g=(0,i.Zp)(),[y,S]=(0,o.useState)(!1),{loginValidationSchema:k}=(0,b.A)(),A=(0,x.wA)(),C=(0,p.Wx)({initialValues:{email:"",password:""},validationSchema:k,onSubmit:l=>{e({variables:{login:{email:l.email,password:l.password}}}).then((l=>{var e,a,o,s,i,r,n,t,m,u,c,v,b,p,w;const x=null===l||void 0===l?void 0:l.data;var N,y,S,k,C,I;return localStorage.setItem("userId",h(null===x||void 0===x||null===(e=x.login)||void 0===e||null===(a=e.data)||void 0===a||null===(o=a.user)||void 0===o?void 0:o.uuid)),localStorage.setItem("authToken",h(null===x||void 0===x||null===(s=x.login)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.token)),localStorage.setItem("profileName",h(null===x||void 0===x||null===(r=x.login)||void 0===r||null===(n=r.data)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.first_name)),localStorage.setItem("userType",h(null===x||void 0===x||null===(m=x.login)||void 0===m||null===(u=m.data)||void 0===u||null===(c=u.user)||void 0===c||null===(v=c.user_type)||void 0===v?void 0:v.toString())),null!==x&&void 0!==x&&null!==(b=x.login)&&void 0!==b&&null!==(p=b.data)&&void 0!==p&&null!==(w=p.user)&&void 0!==w&&w.is_required_reset_password?(A((0,f.g0)(null===x||void 0===x||null===(N=x.login)||void 0===N||null===(y=N.data)||void 0===y||null===(S=y.user)||void 0===S?void 0:S.introductory_page)),g("/".concat(d.bw.app,"/").concat(d.bw.userProfilePasswordChange))):g((0,j.Go)(null===x||void 0===x||null===(k=x.login)||void 0===k||null===(C=k.data)||void 0===C||null===(I=C.user)||void 0===I?void 0:I.user_type,d.ve.SUPER_ADMIN,"/".concat(d.bw.app,"/").concat(d.bw.dashboard),"/".concat(d.bw.app,"/").concat(d.bw.subscriber)))})).catch((l=>{r.oR.error(l.networkError.result.errors[0].message)}))}}),I=(0,o.useCallback)((()=>{S((l=>!l))}),[]);return(0,N.jsxs)("div",{className:"flex w-full h-screen bg-white nm",children:[(0,N.jsx)("img",{className:"hidden object-cover md:block md:w-1/2",src:n,alt:"LoginImage",title:"image"}),(0,N.jsx)("div",{className:"flex items-center justify-center w-full px-5 md:w-1/2 md:px-12",children:(0,N.jsxs)("form",{className:"w-full max-w-[486px] bg-white",onSubmit:C.handleSubmit,children:[(0,N.jsx)("img",{className:"max-w-[302px] mb-5 md:mb-7 w-full mx-auto",src:t,alt:"logo",title:"image"}),(0,N.jsxs)("h1",{className:"mb-2 text-center md:mb-1 text-primary",children:[l("Welcome"),"  ",":)"]}),(0,N.jsx)("h6",{className:"mb-3 text-center md:mb-5",children:l("Login to Account")}),(0,N.jsx)("div",{className:"mb-3 md:mb-5",children:(0,N.jsx)(c.A,{placeholder:l("Email"),name:"email",onChange:C.handleChange,label:l("Email ID"),value:C.values.email,error:C.errors.email,loginInput:!0})}),(0,N.jsxs)("div",{className:"relative mb-5 md:mb-7",children:[(0,N.jsx)(c.A,{placeholder:"Password",name:"password",type:y?"text":"password",label:l("Password"),onChange:C.handleChange,value:C.values.password,error:C.errors.password,loginInput:!0}),(0,N.jsx)(m.A,{onClick:I,className:"absolute right-4 top-9 md:top-11",label:"",children:y?(0,N.jsx)(u.kU,{}):(0,N.jsx)(u.h3,{})})]}),(0,N.jsx)("div",{className:"mb-5 text-right md:mb-7",children:(0,N.jsxs)("a",{className:"inline-block text-sm font-normal align-baseline text-primary hover:text-primary hover:underline hover:cursor-pointer",href:"/forgot-password",children:[l(" Forgot Password"),"?"]})}),(0,N.jsx)(m.A,{className:"w-full btn-primary btn-normal btn-login",type:"submit",label:l("Login"),disabled:null===a||void 0===a?void 0:a.loading,title:"login"})]})})]})}}}]);
//# sourceMappingURL=4127.8a5c4b29.chunk.js.map
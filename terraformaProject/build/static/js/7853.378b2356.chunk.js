"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[7853],{7648:(e,a,s)=>{s.d(a,{A:()=>m});var l=s(65043),t=s(74117),n=s(73216),i=s(35475),r=s(42145),c=s(79456),d=s(66925),o=s(70579);const x=()=>{var e,a,s;const{t:x}=(0,t.Bd)(),m=(0,n.zy)(),h=new URLSearchParams(m.search).get("uuid"),{id:u}=(0,n.g)(),{userProfileData:p}=(0,c.d4)((e=>e.userProfile)),v=null!==(e=null===p||void 0===p||null===(a=p.getProfile)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.user_type)&&void 0!==e?e:"",f=e=>{var a;let s="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return s=s+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",s})),s}var l;return s=(null===(l=e.split("/")[2][0])||void 0===l?void 0:l.toUpperCase())+e.split("/")[2].slice(1),s},j=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const s=a.split(" ");for(let e=0;e<s.length;e++)s[e]=s[e][0].toUpperCase()+s[e].substring(1);return a=s.join(" "),a}var s;return a=(null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},b=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var s},g=m.pathname.split("/"),N=(0,l.useCallback)((()=>{if((null===g||void 0===g?void 0:g.length)>0){const e=null===g||void 0===g?void 0:g.length;if(e<4)return(0,o.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(x(j(g[2])))});if(e<5)return""!==g[3]?g[3].length>32?(0,o.jsxs)(o.Fragment,{children:[b(g[3])&&(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(x(f(m.pathname)))})}),b(g[3])&&(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!b(g[3])&&(0,o.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(x(j(g[2])))}),(0,o.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(x(b(g[3])))})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(x(f(m.pathname)))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(x(j(g[3])))})]}):(0,o.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(x(j(g[2])))});if(e<6)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(x(f(m.pathname)))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(x(j(g[3])))})]});if(e<7){let e="";return h?e="?uuid=".concat(h):u&&(e="?uuid=".concat(u)),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:x(j(g[2]))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(g[2],"/").concat(g[3],"/").concat((""!==h||""!==u)&&e),className:"text-light-grey hover:underline",children:x(j(g[3]))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:g[5]&&"".concat(x(j(g[4])))})]})}}}),[g]);return(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)(i.k2,{to:(0,d.Go)(v,r.ve.SUPER_ADMIN,"/".concat(r.bw.app,"/").concat(r.bw.dashboard),"/".concat(r.bw.app,"/").concat(r.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:x("Home")}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),N()]})})},m=l.memo(x)},75289:(e,a,s)=>{s.d(a,{A:()=>c});var l=s(65043),t=s(74117),n=s(41290),i=s(33556),r=s(70579);const c=e=>{let{onClose:a,action:s,show:c,warningText:d,disabled:o,isLoading:x}=e;const{t:m}=(0,t.Bd)(),[h,u]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{c&&setTimeout((()=>{u(!0)}),100)}),[c]),(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,r.jsxs)("div",{className:"".concat(c?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==d&&"Are you sure want to change status ?"!==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(h?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,r.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,r.jsxs)("div",{className:"flex items-center ",children:[(0,r.jsx)(i.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,r.jsx)("span",{className:"text-xl font-bold text-baseColor",children:m("Confirmation")})]}),(0,r.jsx)(n.A,{onClick:a,label:"",children:(0,r.jsx)(i.YY,{className:"text-error",fontSize:"14"})})]}),(0,r.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,r.jsx)("p",{children:m(d)})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:s,label:m("Yes"),disabled:o,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:a,label:m("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(h?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,r.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,r.jsx)(i.ZI,{className:"fill-white bg-primary"})}),(0,r.jsx)("h4",{children:m("Confirmation")})]}),(0,r.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:m(d)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:s,label:m("Yes"),disabled:o,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:m("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(h?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsx)("div",{className:"flex justify-center mb-5",children:(0,r.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,r.jsx)(i.Vl,{className:"stroke-2 fill-white"})})}),(0,r.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:m(d)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:s,label:m("Yes"),disabled:o,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:m("No"),title:"No"})]})]})})})]})]})}},81410:(e,a,s)=>{s.d(a,{A:()=>t});s(65043);var l=s(70579);const t=function(){return(0,l.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,a,s)=>{s.d(a,{A:()=>x});var l=s(65043),t=s(74117),n=s(73216),i=s(7648),r=s(33556),c=s(79456),d=s(75214),o=s(70579);const x=e=>{let{headerActionConst:a,headerTitle:s}=e;const{t:x}=(0,t.Bd)(),m=(0,c.wA)(),{show:h}=(0,c.d4)((e=>e.coursesManagement)),u=(0,n.zy)(),p=(0,l.useCallback)((()=>{m((0,d.oM)(!h))}),[h]);return(0,o.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,o.jsx)("div",{onClick:p,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,o.jsx)(r.Rt,{className:"ml-4"})}),(0,o.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,o.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,o.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,o.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:x(null!==s&&void 0!==s?s:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(u.pathname))}),(0,o.jsx)(i.A,{})]}),a&&(0,o.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},67583:(e,a,s)=>{s.d(a,{T:()=>r,y:()=>c});var l,t,n=s(57528),i=s(70459);const r=(0,i.J1)(l||(l=(0,n.A)(["\n  mutation CreateInvoice($invoiceData: CreateInvoiceDto!) {\n    createInvoice(invoiceData: $invoiceData) {\n      message\n      data {\n        uuid\n        title\n        date\n        invoice\n        status\n      }\n    }\n  }\n"]))),c=(0,i.J1)(t||(t=(0,n.A)(["\n  mutation DeleteInvoice($invoiceId: String!) {\n    deleteInvoice(invoiceId: $invoiceId) {\n      message\n    }\n  }\n"])))},87853:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var l,t=s(65043),n=s(12209),i=s(74117),r=s(33556),c=s(34764),d=s(77654),o=s(42145),x=s(32254),m=s(31881),h=s(88250),u=s(57528);const p=(0,s(70459).J1)(l||(l=(0,u.A)(["\n  query GetInvoicesWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getInvoicesWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        invoice {\n          uuid\n          title\n          date\n          invoice\n          status\n        }\n        count\n      }\n    }\n  }\n"])));var v=s(8848),f=s(64526),j=s(41290),b=s(75289),g=s(67583),N=s(81410),w=s(70579);const y=function(){var e,a,s,l,u,y;const{t:C}=(0,i.Bd)(),[A,k]=(0,t.useState)(""),[I,S]=(0,t.useState)(!1),[F,P]=(0,m.n)(g.y),O=[{name:C("Sr.No"),sortable:!1},{name:C("Title"),sortable:!0,fieldName:C("title")},{name:C("Date"),sortable:!0,fieldName:C("date")}],[E,U]=(0,t.useState)({sortOrder:"descend",sortField:"createdAt",limit:10,page:1,search:"",index:0}),{data:$,refetch:D,loading:R}=(0,h.I)(p,{variables:{sortOrder:"descend",sortField:"createdAt",limit:10,page:1,search:""}}),[z,M]=(0,t.useState)(E.limit),Y=(null===$||void 0===$||null===(e=$.getInvoicesWithPagination.data)||void 0===e?void 0:e.count)||0,T=Math.ceil(Y/z),W=(0,t.useCallback)((e=>{const a={...E,page:e,index:(e-1)*E.limit};U(a),x.A.saveState("filterValueInvoice",JSON.stringify(a))}),[E.limit]);(0,t.useEffect)((()=>{M(E.limit)}),[E.limit]);const _=(0,t.useCallback)((e=>{U({...E,search:e.target.value})}),[]);(0,t.useEffect)((()=>{const{index:e,...a}=E;D(a).catch((e=>f.oR.error(e)))}),[E]);const B=(0,t.useCallback)((e=>{k(e),S(!0)}),[]),J=(0,t.useCallback)((()=>{S(!1)}),[]),L=(0,t.useCallback)((()=>{F({variables:{invoiceId:A}}).then((e=>{var a;const s=e.data;f.oR.success(null===s||void 0===s||null===(a=s.deleteInvoice)||void 0===a?void 0:a.message),D(),S(!1)})).catch((e=>{f.oR.error(e.networkError.result.errors[0].message),S(!1)}))}),[A]),V=(0,t.useCallback)((async e=>{const a=await(0,o.Do)(e);fetch(a).then((a=>{a.blob().then((a=>{const s=window.URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=e,l.click()}))}))}),[]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.A,{}),(R||(null===P||void 0===P?void 0:P.loading))&&(0,w.jsx)(N.A,{}),(0,w.jsxs)("div",{className:"p-3 border border-solid md:p-5 rounded-xl border-border-primary ".concat(R||null!==P&&void 0!==P&&P.loading?"pointer-events-none":""),children:[(0,w.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5 md:gap-5",children:[(0,w.jsx)("h6",{className:"w-full md:w-auto",children:C("Download Invoice")}),(0,w.jsxs)("div",{className:"flex flex-wrap w-full gap-3 md:gap-5 md:w-auto",children:[(0,w.jsx)("div",{className:"w-full md:w-[236px]",children:(0,w.jsx)(c.A,{type:"text",id:"table-search",value:E.search,placeholder:C("Search"),onChange:_,inputIcon:(0,w.jsx)(r.vj,{fontSize:"18",className:"font-normal"})})}),(0,w.jsxs)("div",{className:"flex flex-wrap items-center w-full gap-4 xmd:w-auto",children:[(0,w.jsx)("span",{className:"leading-5.5 w-full xmd:w-auto whitespace-nowrap",children:"Sort By"}),(0,w.jsx)("div",{className:"w-full xmd:w-[150px]",children:(0,w.jsx)(v.A,{className:"w-full -mt-2",label:"",name:"appInvoice",onChange:e=>{const a=e.target.value,[s,l]=a.split(":");U({...E,sortField:s,sortOrder:l})},value:E.sortField+":"+E.sortOrder,error:"",options:o.uh,id:"appInvoice"})})]})]})]}),(0,w.jsxs)("div",{className:"overflow-auto custom-dataTable",children:[(0,w.jsxs)("table",{children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[null===O||void 0===O?void 0:O.map((e=>(0,w.jsx)("th",{scope:"col",className:"".concat("sr_no"===e.fieldName?"max-w-[90px] min-w-[90px]":""," ").concat("title"===e.fieldName?"min-w-[350px]":""),children:(0,w.jsxs)("div",{className:"flex items-center ".concat("sr_no"===e.fieldName?"pl-2":"min-w-[20px]"),children:[e.name,e.sortable&&(0,w.jsxs)("button",{onClick:()=>{return a=e.fieldName,void U({...E,sortField:a,sortOrder:"ascend"===E.sortOrder?"descend":"ascend"});var a},children:[(""===E.sortOrder||E.sortField!==e.fieldName)&&(0,w.jsx)(r.xs,{className:"fill-white"}),"ascend"===E.sortOrder&&E.sortField===e.fieldName&&(0,w.jsx)(r.xD,{className:"ml-1 fill-white"}),"descend"===E.sortOrder&&E.sortField===e.fieldName&&(0,w.jsx)(r.xR,{className:"ml-1 fill-white"})]})]})},e.name))),(0,w.jsx)("th",{scope:"col",children:(0,w.jsx)("div",{className:"flex items-center",children:C("Action")})})]})}),(0,w.jsx)("tbody",{children:null===$||void 0===$||null===(a=$.getInvoicesWithPagination.data)||void 0===a||null===(s=a.invoice)||void 0===s?void 0:s.map(((e,a)=>{const s=(null===E||void 0===E?void 0:E.index)+a+1;return(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{scope:"row",className:"text-left pl-7",children:s}),(0,w.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.title}),(0,w.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.date}),(0,w.jsx)("td",{children:(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsxs)("button",{className:"hover:underline text-primary btn-group items-center justify-start flex",type:"button",onClick:()=>V(e.invoice),children:[(0,w.jsx)(r.f5,{className:"fill-primary"}),"Download"]}),(0,w.jsx)(j.A,{className:"bg-transparent cursor-pointer btn-default",onClick:()=>B(null===e||void 0===e?void 0:e.uuid),label:"",children:(0,w.jsx)(r.lM,{className:"fill-error"})})]})})]},null===e||void 0===e?void 0:e.uuid)}))})]}),(void 0===(null===$||void 0===$||null===(l=$.getInvoicesWithPagination)||void 0===l?void 0:l.data)||null===(null===$||void 0===$||null===(u=$.getInvoicesWithPagination)||void 0===u?void 0:u.data)||0===(null===$||void 0===$||null===(y=$.getInvoicesWithPagination.data)||void 0===y?void 0:y.count))&&(0,w.jsx)("div",{className:"flex justify-center",children:(0,w.jsx)("div",{children:"No Data"})})]}),(0,w.jsxs)("div",{className:"flex flex-wrap items-center gap-2 px-5 mt-2 md:gap-5 text-slate-700",children:[(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("span",{className:"mr-2 text-sm whitespace-nowrap",children:C("Per Page")}),(0,w.jsx)("select",{value:E.limit,className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",onChange:e=>(e=>{const a=Number(e),s={...E,limit:a,page:1,index:0,search:""};U(s),x.A.saveState("filterValueInvoice",JSON.stringify(s))})(e.target.value),children:null===o.aj||void 0===o.aj?void 0:o.aj.map((e=>(0,w.jsx)("option",{children:e},e)))})]}),(0,w.jsx)("div",{children:(0,w.jsx)(d.A,{currentPage:E.page,totalPages:T,onPageChange:W,recordsPerPage:z})})]})]}),I&&(0,w.jsx)(b.A,{warningText:o.jl,onClose:J,action:L,show:I})]})}}}]);
//# sourceMappingURL=7853.378b2356.chunk.js.map
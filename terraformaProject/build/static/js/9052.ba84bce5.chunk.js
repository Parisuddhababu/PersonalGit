"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[9052],{7648:(e,a,t)=>{t.d(a,{A:()=>g});var n=t(65043),r=t(74117),s=t(73216),i=t(35475),o=t(42145),l=t(79456),d=t(66925),c=t(70579);const u=()=>{var e,a,t;const{t:u}=(0,r.Bd)(),g=(0,s.zy)(),m=new URLSearchParams(g.search).get("uuid"),{id:p}=(0,s.g)(),{userProfileData:x}=(0,l.d4)((e=>e.userProfile)),h=null!==(e=null===x||void 0===x||null===(a=x.getProfile)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.user_type)&&void 0!==e?e:"",y=e=>{var a;let t="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return t=t+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",t})),t}var n;return t=(null===(n=e.split("/")[2][0])||void 0===n?void 0:n.toUpperCase())+e.split("/")[2].slice(1),t},v=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const t=a.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return a=t.join(" "),a}var t;return a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},b=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var t},C=g.pathname.split("/"),j=(0,n.useCallback)((()=>{if((null===C||void 0===C?void 0:C.length)>0){const e=null===C||void 0===C?void 0:C.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:C[2]&&"".concat(u(v(C[2])))});if(e<5)return""!==C[3]?C[3].length>32?(0,c.jsxs)(c.Fragment,{children:[b(C[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(i.k2,{to:"/".concat(o.bw.app,"/").concat(C[2]),className:"text-light-grey hover:underline",children:"".concat(u(y(g.pathname)))})}),b(C[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!b(C[3])&&(0,c.jsx)("span",{className:"text-primary",children:C[2]&&"".concat(u(v(C[2])))}),(0,c.jsx)("span",{className:"text-primary",children:C[3]&&"".concat(u(b(C[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(i.k2,{to:"/".concat(o.bw.app,"/").concat(C[2]),className:"text-light-grey hover:underline",children:"".concat(u(y(g.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:C[3]&&"".concat(u(v(C[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:C[2]&&"".concat(u(v(C[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(i.k2,{to:"/".concat(o.bw.app,"/").concat(C[2]),className:"text-light-grey hover:underline",children:"".concat(u(y(g.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:C[3]&&"".concat(u(v(C[3])))})]});if(e<7){let e="";return m?e="?uuid=".concat(m):p&&(e="?uuid=".concat(p)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(i.k2,{to:"/".concat(o.bw.app,"/").concat(C[2]),className:"text-light-grey hover:underline",children:u(v(C[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(i.k2,{to:"/".concat(o.bw.app,"/").concat(C[2],"/").concat(C[3],"/").concat((""!==m||""!==p)&&e),className:"text-light-grey hover:underline",children:u(v(C[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:C[5]&&"".concat(u(v(C[4])))})]})}}}),[C]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(i.k2,{to:(0,d.Go)(h,o.ve.SUPER_ADMIN,"/".concat(o.bw.app,"/").concat(o.bw.dashboard),"/".concat(o.bw.app,"/").concat(o.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:u("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),j()]})})},g=n.memo(u)},12209:(e,a,t)=>{t.d(a,{A:()=>u});var n=t(65043),r=t(74117),s=t(73216),i=t(7648),o=t(33556),l=t(79456),d=t(75214),c=t(70579);const u=e=>{let{headerActionConst:a,headerTitle:t}=e;const{t:u}=(0,r.Bd)(),g=(0,l.wA)(),{show:m}=(0,l.d4)((e=>e.coursesManagement)),p=(0,s.zy)(),x=(0,n.useCallback)((()=>{g((0,d.oM)(!m))}),[m]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:x,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(o.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:u(null!==t&&void 0!==t?t:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(p.pathname))}),(0,c.jsx)(i.A,{})]}),a&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},2978:(e,a,t)=>{t.d(a,{Ge:()=>x,RD:()=>h,x4:()=>p,yR:()=>y});var n,r,s,i,o,l,d,c,u,g=t(57528),m=t(70459);const p=(0,m.J1)(n||(n=(0,g.A)(["\nmutation UpdateCategory($categoryData: UpdateCategoryDto!) {\n  updateCategory(categoryData: $categoryData) {\n      data {\n        description\n        image_url\n        name\n        uuid\n        status\n      }\n      message\n    }\n  }\n"]))),x=((0,m.J1)(r||(r=(0,g.A)(["\nmutation updateSubCategory($subCategoryData: UpdateSubCategoryDto!) {\n    updateSubCategory(subCategoryData: $subCategoryData) {\n      data {\n        description\n        image_url\n        name\n        uuid\n        status\n      }\n      message\n    }\n  }\n"]))),(0,m.J1)(s||(s=(0,g.A)(["\nmutation ActiveDeActiveSubCategory($status: Float!, $subCategoryId: String!) {\n  activeDeActiveSubCategory(status: $status, subCategoryId: $subCategoryId) {\n    data {\n      uuid\n      status\n      name\n      image_url\n      description\n    }\n    message\n  }\n}\n"]))),(0,m.J1)(i||(i=(0,g.A)(["\nmutation ActiveDeActiveCategory($status: Float!, $categoryId: String!) {\n  activeDeActiveCategory(status: $status, categoryId: $categoryId) {\n    data {\n      uuid\n      status\n      name\n      image_url\n      description\n    }\n    message     \n  }\n}\n"])))),h=((0,m.J1)(o||(o=(0,g.A)(["\nmutation deleteSubCategory($subCategoryId: String!) {\n  deleteSubCategory(subCategoryId: $subCategoryId) {\n    data {\n      uuid\n      name\n      image_url\n      description\n    }\n    message\n  }\n}\n"]))),(0,m.J1)(l||(l=(0,g.A)(["\nmutation DeleteCategory($categoryId: String!) {\n  deleteCategory(categoryId: $categoryId) {\n    data {\n      uuid\n      name\n      image_url\n      description\n    }\n    message\n  }\n}\n"])))),y=((0,m.J1)(d||(d=(0,g.A)(["\nmutation CreateSubCategory($subCategoryData: CreateSubCategoryDto!) {\n  createSubCategory(subCategoryData: $subCategoryData) {\n    data {\n      uuid\n      name\n      image_url\n      description\n    }\n    message\n  }\n}\n"]))),(0,m.J1)(c||(c=(0,g.A)(["\nmutation CreateCategory($categoryData: CreateCategoryDto!) {\n  createCategory(categoryData: $categoryData) {\n    data {\n      uuid\n      name\n      image_url\n      description\n      status\n    }\n    message\n  }\n}\n"]))));(0,m.J1)(u||(u=(0,g.A)(["\nmutation GroupDeleteCategories($groupDeleteCategoriesId: [Int]) {\n  groupDeleteCategories(id: $groupDeleteCategoriesId) {\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}"])))},97178:(e,a,t)=>{t.d(a,{Go:()=>g,OU:()=>p,fk:()=>m,gT:()=>x});var n,r,s,i,o,l,d,c=t(57528),u=t(70459);(0,u.J1)(n||(n=(0,c.A)(["\n  query GetSubCategories($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getSubCategories(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      data {\n        subCategories {\n          uuid\n          name\n          image_url\n          description\n          status\n          category {\n            uuid\n            name\n            description\n            image_url\n            status\n          }\n        }\n        count\n      }\n    }\n  }\n  "])));const g=(0,u.J1)(r||(r=(0,c.A)(["\n    query GetCategories($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n      getCategories(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n        data {\n          categories {\n            description\n            image_url\n            name\n            uuid\n            status\n          }\n          count\n        }\n        message\n      }\n    }\n  "]))),m=(0,u.J1)(s||(s=(0,c.A)(["\n  query GetActiveCategories($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getActiveCategories(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      data {\n        categories {\n          description\n          image_url\n          name\n          uuid\n          status\n        }\n        count\n      }\n      message\n    }\n  }\n"]))),p=(0,u.J1)(i||(i=(0,c.A)(["\n  query GetCategoriesAndCourseCountWithPagination($limit: Float!, $page: Float!, $search: String!) {\n    getCategoriesAndCourseCountWithPagination(limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        count\n        categories {\n          uuid\n          status\n          name\n          description\n          image_url\n          course_count\n        }\n      }\n    }\n  }\n"]))),x=((0,u.J1)(o||(o=(0,c.A)(["\n  query GetSubCategoryById($getSubCategoryByIdId: String!) {\n    getSubCategoryById(id: $getSubCategoryByIdId) {\n      data {\n        uuid\n        name\n        image_url\n        description\n        status\n        category {\n          name\n          uuid\n          image_url\n          status\n        }\n      }\n      message\n    }\n  }\n"]))),(0,u.J1)(l||(l=(0,c.A)(["\n  query GetCategoryById($categoryId: String!) {\n    getCategoryById(categoryId: $categoryId) {\n      data {\n        uuid\n        name\n        image_url\n        description\n        status\n      }\n      message\n    }\n  }\n"]))));(0,u.J1)(d||(d=(0,c.A)(["\nquery GetActiveSubCategoriesByCategoryId($categoryId: String!) {\n  getActiveSubCategoriesByCategoryId(category_id: $categoryId) {\n    data {\n      uuid\n      name\n      image_url\n      description\n      status\n    }\n    message\n  }\n}\n"])))},9052:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var n=t(65043),r=t(74117),s=t(73216),i=t(64526),o=t(42145),l=t(41290),d=t(34764),c=t(33556),u=t(91188),g=t(97178),m=t(2978),p=t(12352),x=t(66925),h=t(88250),y=t(31881),v=t(63516),b=t(12209),C=t(70579);const j=()=>{const{t:e}=(0,r.Bd)(),a=(0,s.g)(),{data:t,refetch:j}=(0,h.I)(g.gT,{variables:{categoryId:a.id},skip:!a.id}),[N,$]=(0,y.n)(m.yR),[f,S]=(0,y.n)(m.x4),[A,w]=(0,n.useState)(!1),[I,D]=(0,n.useState)(!1),[F,_]=(0,n.useState)(!1),k=(0,s.Zp)(),{addManageCategoryValidationSchema:U}=(0,p.A)();(0,n.useEffect)((()=>{w(!0),D(!0),a.id&&_(!0)}),[]),(0,n.useEffect)((()=>{a.id&&j({categoryId:a.id}).catch((e=>i.oR.error(e)))}),[a.id]),(0,n.useEffect)((()=>{if(t&&a.id){var e;const a=null===t||void 0===t||null===(e=t.getCategoryById)||void 0===e?void 0:e.data;J.setValues({categoryName:null===a||void 0===a?void 0:a.name,description:null===a||void 0===a?void 0:a.description,status:null===a||void 0===a?void 0:a.status}).catch((e=>i.oR.error(e)))}}),[t]);const J=(0,v.Wx)({initialValues:{categoryName:"",description:"",status:"1"},validationSchema:U,onSubmit:e=>{const t={categoryName:e.categoryName,description:e.description,status:parseInt(e.status)};a.id?f({variables:{categoryData:{id:a.id,description:t.description,image_url:"",name:t.categoryName,status:t.status}}}).then((e=>{var a;const t=e.data;i.oR.success(null===t||void 0===t||null===(a=t.updateCategory)||void 0===a?void 0:a.message),J.resetForm(),B()})).catch((e=>{i.oR.error(e.networkError.result.errors[0].message)})):N({variables:{categoryData:{description:t.description,image_url:"",name:t.categoryName,status:t.status}}}).then((e=>{const a=e.data;i.oR.success(a.createCategory.message),J.resetForm(),B()})).catch((e=>{i.oR.error(e.networkError.result.errors[0].message)}))}}),B=(0,n.useCallback)((()=>{k(-1)}),[]),R=(0,n.useCallback)((e=>{J.setFieldValue(e.target.name,(0,x.AW)(e))}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(b.A,{headerTitle:"Tag"}),A&&(0,C.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(A?"":"hidden"),children:(0,C.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(I?"":"opacity-0 transform -translate-y-full scale-150 "," transition-all duration-300 "),children:(0,C.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,C.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,C.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:F?"Update Tag":"Add Tag"}),(0,C.jsx)(l.A,{onClick:B,label:e(""),title:"".concat(e("Close")),children:(0,C.jsx)("span",{className:"text-xl-22",children:(0,C.jsx)(c.YY,{className:"text-error"})})})]}),(0,C.jsx)("div",{className:"w-full",children:(0,C.jsxs)("form",{onSubmit:J.handleSubmit,children:[(0,C.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto",children:[(0,C.jsxs)("div",{className:"mb-2 text-right",children:[e("Fields marked with")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})," ",e("are mandatory.")]}),(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(d.A,{placeholder:e("Tag Name"),required:!0,name:"categoryName",onChange:J.handleChange,label:e("Tag Name"),value:J.values.categoryName,error:J.errors.categoryName&&J.touched.categoryName?J.errors.categoryName:"",onBlur:R})}),(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(d.A,{placeholder:e("Tag Description"),required:!0,name:"description",onChange:J.handleChange,label:e("Tag Description"),value:J.values.description,error:J.errors.description&&J.touched.description?J.errors.description:""})}),(0,C.jsx)("div",{children:(0,C.jsx)(u.A,{required:!0,checked:J.values.status,onChange:J.handleChange,name:"status",radioOptions:o.f_,label:e("Status")})})]}),(0,C.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:[(0,C.jsx)(l.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",type:"submit",label:a.id?e("Update"):e("Save"),disabled:(null===$||void 0===$?void 0:$.loading)||(null===S||void 0===S?void 0:S.loading),title:"".concat(a.id?e("Update"):e("Save")," disabled={(loading?.loading) || (updateLoading?.loading)}")}),(0,C.jsx)(l.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",label:e("Cancel"),onClick:B,title:"".concat(e("Cancel"))})]})]})})]})})})})]})}}}]);
//# sourceMappingURL=9052.ba84bce5.chunk.js.map
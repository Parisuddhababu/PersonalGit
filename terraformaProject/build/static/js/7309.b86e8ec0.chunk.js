"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[7309],{7648:(e,l,i)=>{i.d(l,{A:()=>c});var a=i(65043),t=i(74117),n=i(73216),o=i(35475),d=i(42145),r=i(79456),s=i(66925),u=i(70579);const v=()=>{var e,l,i;const{t:v}=(0,t.Bd)(),c=(0,n.zy)(),m=new URLSearchParams(c.search).get("uuid"),{id:p}=(0,n.g)(),{userProfileData:x}=(0,r.d4)((e=>e.userProfile)),h=null!==(e=null===x||void 0===x||null===(l=x.getProfile)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.user_type)&&void 0!==e?e:"",g=e=>{var l;let i="";if(null!==(l=e.split("/")[2])&&void 0!==l&&l.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var l;return i=i+(null===(l=e[0])||void 0===l?void 0:l.toUpperCase())+e.slice(1)+" ",i})),i}var a;return i=(null===(a=e.split("/")[2][0])||void 0===a?void 0:a.toUpperCase())+e.split("/")[2].slice(1),i},y=e=>{let l="";if(null!==e&&void 0!==e&&e.includes("-")){l=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const i=l.split(" ");for(let e=0;e<i.length;e++)i[e]=i[e][0].toUpperCase()+i[e].substring(1);return l=i.join(" "),l}var i;return l=(null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",l},b=e=>{let l="";return null!==e&&void 0!==e&&e.includes("-")||(l=(null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),l;var i},f=c.pathname.split("/"),j=(0,a.useCallback)((()=>{if((null===f||void 0===f?void 0:f.length)>0){const e=null===f||void 0===f?void 0:f.length;if(e<4)return(0,u.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(v(y(f[2])))});if(e<5)return""!==f[3]?f[3].length>32?(0,u.jsxs)(u.Fragment,{children:[b(f[3])&&(0,u.jsx)("span",{className:"text-primary",children:(0,u.jsx)(o.k2,{to:"/".concat(d.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(v(g(c.pathname)))})}),b(f[3])&&(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!b(f[3])&&(0,u.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(v(y(f[2])))}),(0,u.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(v(b(f[3])))})]}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-primary",children:(0,u.jsx)(o.k2,{to:"/".concat(d.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(v(g(c.pathname)))})}),(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,u.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(v(y(f[3])))})]}):(0,u.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(v(y(f[2])))});if(e<6)return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-primary",children:(0,u.jsx)(o.k2,{to:"/".concat(d.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(v(g(c.pathname)))})}),(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,u.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(v(y(f[3])))})]});if(e<7){let e="";return m?e="?uuid=".concat(m):p&&(e="?uuid=".concat(p)),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"text-primary",children:(0,u.jsx)(o.k2,{to:"/".concat(d.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:v(y(f[2]))})}),(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,u.jsx)("span",{className:"text-primary",children:(0,u.jsx)(o.k2,{to:"/".concat(d.bw.app,"/").concat(f[2],"/").concat(f[3],"/").concat((""!==m||""!==p)&&e),className:"text-light-grey hover:underline",children:v(y(f[3]))})}),(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,u.jsx)("span",{className:"text-primary",children:f[5]&&"".concat(v(y(f[4])))})]})}}}),[f]);return(0,u.jsx)("div",{className:"w-full",children:(0,u.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,u.jsxs)("span",{children:[(0,u.jsx)(o.k2,{to:(0,s.Go)(h,d.ve.SUPER_ADMIN,"/".concat(d.bw.app,"/").concat(d.bw.dashboard),"/".concat(d.bw.app,"/").concat(d.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:v("Home")}),(0,u.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),j()]})})},c=a.memo(v)},38133:(e,l,i)=>{i.d(l,{A:()=>o});i(65043);var a=i(41290),t=i(33556),n=i(70579);const o=e=>{let{data:l,onClick:i,className:o,setData:d}=e;return(0,n.jsx)(a.A,{className:"bg-transparent btn-default ".concat(o),onClick:()=>{i(null===l||void 0===l?void 0:l.uuid),d&&d(l)},label:"",title:"Edit",children:(0,n.jsx)(t.ff,{})})}},75289:(e,l,i)=>{i.d(l,{A:()=>r});var a=i(65043),t=i(74117),n=i(41290),o=i(33556),d=i(70579);const r=e=>{let{onClose:l,action:i,show:r,warningText:s,disabled:u,isLoading:v}=e;const{t:c}=(0,t.Bd)(),[m,p]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{r&&setTimeout((()=>{p(!0)}),100)}),[r]),(0,d.jsxs)(d.Fragment,{children:[v&&(0,d.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,d.jsxs)("div",{className:"".concat(r?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==s&&"Are you sure want to change status ?"!==s&&(0,d.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(m?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,d.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,d.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,d.jsxs)("div",{className:"flex items-center ",children:[(0,d.jsx)(o.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,d.jsx)("span",{className:"text-xl font-bold text-baseColor",children:c("Confirmation")})]}),(0,d.jsx)(n.A,{onClick:l,label:"",children:(0,d.jsx)(o.YY,{className:"text-error",fontSize:"14"})})]}),(0,d.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,d.jsx)("p",{children:c(s)})}),(0,d.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,d.jsx)(n.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:i,label:c("Yes"),disabled:u,title:"Yes"}),(0,d.jsx)(n.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:l,label:c("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==s&&(0,d.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(m?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,d.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,d.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,d.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,d.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,d.jsx)(o.ZI,{className:"fill-white bg-primary"})}),(0,d.jsx)("h4",{children:c("Confirmation")})]}),(0,d.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:c(s)}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,d.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:i,label:c("Yes"),disabled:u,title:"Yes"}),(0,d.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:l,label:c("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==s&&(0,d.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(m?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,d.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,d.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,d.jsx)("div",{className:"flex justify-center mb-5",children:(0,d.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,d.jsx)(o.Vl,{className:"stroke-2 fill-white"})})}),(0,d.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:c(s)}),(0,d.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,d.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:i,label:c("Yes"),disabled:u,title:"Yes"}),(0,d.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:l,label:c("No"),title:"No"})]})]})})})]})]})}},62500:(e,l,i)=>{i.d(l,{A:()=>d});var a=i(65043),t=i(41290),n=i(33556),o=i(70579);const d=e=>{let{data:l,setObj:i,setIsDelete:d,className:r,customClick:s}=e;const u=(0,a.useCallback)((()=>{i(l),!s&&d(!0),s&&s(l)}),[]);return(0,o.jsx)(t.A,{className:"bg-transparent cursor-pointer btn-default btn-icon ".concat(r),onClick:u,label:"",title:"Delete",children:(0,o.jsx)(n.lM,{className:"fill-error"})})}},12209:(e,l,i)=>{i.d(l,{A:()=>v});var a=i(65043),t=i(74117),n=i(73216),o=i(7648),d=i(33556),r=i(79456),s=i(75214),u=i(70579);const v=e=>{let{headerActionConst:l,headerTitle:i}=e;const{t:v}=(0,t.Bd)(),c=(0,r.wA)(),{show:m}=(0,r.d4)((e=>e.coursesManagement)),p=(0,n.zy)(),x=(0,a.useCallback)((()=>{c((0,s.oM)(!m))}),[m]);return(0,u.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,u.jsx)("div",{onClick:x,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,u.jsx)(d.Rt,{className:"ml-4"})}),(0,u.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,u.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,u.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,u.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:v(null!==i&&void 0!==i?i:(e=>{let l="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(l=l+e[0].toUpperCase()+e.slice(1)+" ",l))),l}return l=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),l})(p.pathname))}),(0,u.jsx)(o.A,{})]}),l&&(0,u.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(l)return l()})()})]})})]})}},16515:(e,l,i)=>{i.d(l,{A2:()=>u,Mq:()=>c,d4:()=>v,e5:()=>s});var a,t,n,o,d=i(57528),r=i(70459);const s=(0,r.J1)(a||(a=(0,d.A)(["mutation CreateEquipment($equipmentData: CreateEquipmentDto!) {\n    createEquipment(equipmentData: $equipmentData) {\n      message\n      data {\n        uuid\n        name\n        volume {\n          uuid\n          volume\n          volume_cubic_yard\n        }\n      }\n    }\n  }"]))),u=(0,r.J1)(t||(t=(0,d.A)(["mutation UpdateEquipment($equipmentData: UpdateEquipmentDto!) {\n    updateEquipment(equipmentData: $equipmentData) {\n      message\n    }\n  }"]))),v=(0,r.J1)(n||(n=(0,d.A)(["mutation DeleteEquipment($equipmentId: String!) {\n  deleteEquipment(equipmentId: $equipmentId) {\n    message\n  }\n}"]))),c=(0,r.J1)(o||(o=(0,d.A)(["mutation GetEquipmentByName($equipmentName: String!) {\n  getEquipmentByName(equipmentName: $equipmentName) {\n    message\n    data {\n      uuid\n      name\n      volume {\n        uuid\n        volume\n        volume_cubic_yard\n      }\n    }\n  }\n}"])))},12283:(e,l,i)=>{i.d(l,{Z:()=>r,o:()=>d});var a,t,n=i(57528),o=i(70459);const d=(0,o.J1)(a||(a=(0,n.A)(["query GetEquipmentsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getEquipmentsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        equipments {\n          uuid\n          name\n          volume {\n            uuid\n            volume\n            volume_cubic_yard\n          }\n        }\n        count\n      }\n    }\n  }"]))),r=(0,o.J1)(t||(t=(0,n.A)(["query GetEquipments {\n    getEquipments {\n      message\n      data {\n        uuid\n        name\n        volume {\n          uuid\n          volume\n          volume_cubic_yard\n        }\n      }\n    }\n  }"])))},4009:(e,l,i)=>{i.d(l,{v:()=>d,w:()=>r});var a,t,n=i(57528),o=i(70459);const d=(0,o.J1)(a||(a=(0,n.A)(["\nquery GetLocationsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $citySearch: String!, $locationSearch: String!) {\n  getLocationsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, citySearch: $citySearch, locationSearch: $locationSearch) {\n    message\n    data {\n      location {\n        uuid\n        location\n        city\n        zoneCount\n      }\n      count\n    }\n  }\n}"]))),r=(0,o.J1)(t||(t=(0,n.A)(["query GetLocations {\n  getLocations {\n    message\n    data {\n      uuid\n      location\n      city\n      diversion_percentage\n      zoneCount\n    }\n  }\n}"])))},16484:(e,l,i)=>{i.d(l,{HV:()=>u,ci:()=>s,hX:()=>r});var a,t,n,o=i(57528),d=i(70459);const r=(0,d.J1)(a||(a=(0,o.A)(["query GetMaterialsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getMaterialsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        materials {\n          uuid\n          name\n          material_types {\n            uuid\n            type\n            weight\n          }\n        }\n        count\n      }\n    }\n  }"]))),s=(0,d.J1)(t||(t=(0,o.A)(["query GetMaterials {\n    getMaterials {\n      message\n      data {\n        uuid\n        name\n        material_types {\n          uuid\n          type\n          weight\n        }\n      }\n    }\n  }"]))),u=(0,d.J1)(n||(n=(0,o.A)(["query GetMaterialById($materialId: String!) {\n    getMaterialById(materialId: $materialId) {\n      message\n      data {\n        uuid\n        name\n        material_types {\n          uuid\n          type\n          weight\n        }\n        id\n      }\n    }\n  }"])))},67309:(e,l,i)=>{i.r(l),i.d(l,{DiversionReportPopUpcontent:()=>W,default:()=>B,diversionReportEnum:()=>V});var a,t=i(65043),n=i(8848),o=i(12209),d=i(33556),r=i(63516),s=i(74117),u=i(41290),v=i(42145),c=i(62500),m=i(77654),p=i(32254),x=i(4009),h=i(31881),g=i(88250),y=i(57528),b=i(70459);const f=(0,b.J1)(a||(a=(0,y.A)(["query GetDiversionReportTemplateWithPagination($locationId: String!, $sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!) {\n  getDiversionReportTemplateWithPagination(locationId: $locationId, sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page) {\n    message\n    data {\n      diversionReport {\n        uuid\n        service_type\n        is_service_type_updated\n        material {\n          uuid\n          name\n        }\n        is_material_updated\n        material_type {\n          uuid\n          type\n          weight\n        }\n        is_material_type_updated\n        equipment {\n          uuid\n          name\n        }\n        is_equipment_updated\n        volume {\n          uuid\n          volume\n          volume_cubic_yard\n        }\n        is_volume_updated\n        location {\n          uuid\n          location\n          city\n        }\n        subscriber {\n          uuid\n        }\n      }\n      count\n    }\n  }\n}"])));var j,_,N,w,R=i(16484),D=i(12283),T=i(64526),k=i(79456),S=i(29872),q=i(12352);const C=(0,b.J1)(j||(j=(0,y.A)(["mutation CreateDiversionReportTemplate($diversionReportTemplateData: CreateDiverReportTemplateDto!) {\n    createDiversionReportTemplate(diversionReportTemplateData: $diversionReportTemplateData) {\n      message\n    }\n  }"]))),A=(0,b.J1)(_||(_=(0,y.A)(["mutation UpdateDiversionReportTemplate($diversionReportTemplateData: UpdateDiversionTemplateDto!) {\n    updateDiversionReportTemplate(diversionReportTemplateData: $diversionReportTemplateData) {\n      message\n    }\n  }"]))),I=(0,b.J1)(N||(N=(0,y.A)(["mutation DeleteDiversionReportTemplate($diversionReportTemplateId: String!) {\n    deleteDiversionReportTemplate(diversionReportTemplateId: $diversionReportTemplateId) {\n      message\n    }\n  }"]))),E=(0,b.J1)(w||(w=(0,y.A)(["mutation GetDiversionTemplateById($templateId: String!) {\n  getDiversionTemplateById(templateId: $templateId) {\n    data {\n      uuid\n        service_type\n        is_service_type_updated\n        material {\n          uuid\n          name\n        }\n        is_material_updated\n        material_type {\n          uuid\n          type\n          weight\n        }\n        is_material_type_updated\n        equipment {\n          uuid\n          name\n        }\n        is_equipment_updated\n        volume {\n          uuid\n          volume\n          volume_cubic_yard\n        }\n        is_volume_updated\n        location {\n          uuid\n          location\n          city\n        }\n        subscriber {\n          uuid\n        }\n    }\n  }\n}\n"])));var $=i(75289),F=i(38133),P=i(66251),O=i(35475),M=i(16515),U=i(70579);let V=function(e){return e.Update="Update",e.Create="Create",e}({});const W={Update:"Update Service",Create:"Add New Service"},B=()=>{var e,l,i,a,y,b,j,_,N,w,B,Y,J,L,z,G,H,Z,X,K,Q,ee,le,ie,ae,te;const{t:ne}=(0,s.Bd)(),[oe,de]=(0,t.useState)(),[re,se]=(0,t.useState)(!1),[ue,ve]=(0,t.useState)([]),[ce,me]=(0,t.useState)([]),[pe,xe]=(0,t.useState)([{name:"Select Material Type",key:""}]),[he,ge]=(0,t.useState)([]),[ye,be]=(0,t.useState)([{name:"Select Volume Type",key:""}]),{userProfileData:fe}=(0,k.d4)((e=>e.userProfile)),[je,{loading:_e}]=(0,h.n)(I),[Ne,{loading:we}]=(0,h.n)(C),[Re,{loading:De}]=(0,h.n)(A),[Te]=(0,h.n)(E),{data:ke,loading:Se}=(0,g.I)(x.w,{fetchPolicy:"network-only",skip:(null===fe||void 0===fe||null===(e=fe.getProfile)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.user_type)===v.ve.SUPER_ADMIN}),{refetch:qe}=(0,g.I)(R.HV,{fetchPolicy:"network-only",skip:!0}),{refetch:Ce}=(0,g.I)(R.ci,{fetchPolicy:"network-only",skip:!0}),{refetch:Ae}=(0,g.I)(D.Z,{fetchPolicy:"network-only",skip:!0}),[Ie]=(0,h.n)(M.Mq),Ee=(0,k.d4)((e=>e.diversionReportTemplate)),$e=(0,k.wA)(),[Fe,Pe]=(0,t.useState)(!1),{diversionReportValidationSchema:Oe}=(0,q.A)(),Me=(0,r.Wx)({initialValues:{diversionReportTemplateData:{equipment_id:"",location_id:"",material_id:"",material_type_id:"",service_type:"",volume_id:"",equipment:"",volume_name:""}},validationSchema:Oe,onSubmit:e=>{Qe(e)}}),[Ue,Ve]=(0,t.useState)({limit:v.Wt,page:v.k2,sortOrder:"descend",search:"",sortField:"createdAt",locationId:"",index:0});(0,t.useEffect)((()=>{var e,l,i,a,t,n,o,d,r,s,u,c,m,p,x,h,g,y,b,f,j,_,N,w;null!==ke&&void 0!==ke&&null!==(e=ke.getLocations)&&void 0!==e&&e.data&&null!==fe&&void 0!==fe&&null!==(l=fe.getProfile)&&void 0!==l&&null!==(i=l.data)&&void 0!==i&&i.user_type&&(null===fe||void 0===fe||null===(a=fe.getProfile)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.user_type)===v.ve.SUBSCRIBER_ADMIN&&(ve(null===ke||void 0===ke||null===(u=ke.getLocations)||void 0===u||null===(c=u.data)||void 0===c?void 0:c.map((e=>({name:null===e||void 0===e?void 0:e.location,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid})))),We({limit:v.Wt,page:v.k2,sortOrder:"descend",search:"",sortField:"createdAt",locationId:null===ke||void 0===ke||null===(m=ke.getLocations)||void 0===m||null===(p=m.data[0])||void 0===p?void 0:p.uuid}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Me.setFieldValue("diversionReportTemplateData.location_id",null===ke||void 0===ke||null===(x=ke.getLocations)||void 0===x||null===(h=x.data[0])||void 0===h?void 0:h.uuid));null!==ke&&void 0!==ke&&null!==(n=ke.getLocations)&&void 0!==n&&n.data&&null!==fe&&void 0!==fe&&null!==(o=fe.getProfile)&&void 0!==o&&null!==(d=o.data)&&void 0!==d&&d.user_type&&(null===fe||void 0===fe||null===(r=fe.getProfile)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.user_type)===v.ve.DIVERSION_ADMIN&&(ve(null===ke||void 0===ke||null===(g=ke.getLocations)||void 0===g||null===(y=g.data)||void 0===y?void 0:y.map((e=>({name:null===e||void 0===e?void 0:e.location,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid})))),We({limit:v.Wt,page:v.k2,sortOrder:"descend",search:"",sortField:"createdAt",locationId:null===fe||void 0===fe||null===(b=fe.getProfile)||void 0===b||null===(f=b.data)||void 0===f||null===(j=f.branch_locations[0])||void 0===j?void 0:j.uuid}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Me.setFieldValue("diversionReportTemplateData.location_id",null===fe||void 0===fe||null===(_=fe.getProfile)||void 0===_||null===(N=_.data)||void 0===N||null===(w=N.branch_locations[0])||void 0===w?void 0:w.uuid))}),[null===ke||void 0===ke?void 0:ke.getLocations,fe]);const{refetch:We}=(0,g.I)(f,{fetchPolicy:"network-only",skip:!0}),[Be,Ye]=(0,t.useState)(Ue.limit),Je=null!==(i=null===Ee||void 0===Ee||null===(a=Ee.diversionTemplateData)||void 0===a?void 0:a.count)&&void 0!==i?i:0,Le=Math.ceil(Je/Be),ze=(0,t.useCallback)((e=>{const l={...Ue,page:e,index:(e-1)*Ue.limit};Ve(l),We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:e,sortOrder:null===Ue||void 0===Ue?void 0:Ue.sortOrder,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===Ue||void 0===Ue?void 0:Ue.locationId}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),p.A.saveState("filterDiversionReport",JSON.stringify(l))}),[Ue.limit]);(0,t.useEffect)((()=>{Ye(Ue.limit)}),[Ue.limit]);const Ge=[{name:ne("Sr.No"),sortable:!1},{name:ne("Service Type"),sortable:!0,fieldName:"service_type"},{name:ne("Material Category"),sortable:!0,fieldName:"material.name"},{name:ne("Material Type"),sortable:!0,fieldName:"material_type.type"},{name:ne("Equipment"),sortable:!0,fieldName:"equipment.name"},{name:ne("Volume"),sortable:!0,fieldName:"volume.volume"}],He=(0,t.useCallback)((()=>{var e,l;const i=null===(e=Me.values)||void 0===e||null===(l=e.diversionReportTemplateData)||void 0===l?void 0:l.location_id;Me.resetForm(),Me.setFieldValue("diversionReportTemplateData.location_id",i),Pe(!1),se(!1)}),[null===Me||void 0===Me?void 0:Me.values]),Ze=()=>{Ce().then((e=>{var l,i,a;me(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getMaterials)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((e=>({name:null===e||void 0===e?void 0:e.name,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid}))))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Ae().then((e=>{var l,i,a,t,n,o;const d={};(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getEquipments)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((e=>{var l,i;return d["".concat(null===e||void 0===e?void 0:e.uuid)]={volume:null===e||void 0===e||null===(l=e.volume)||void 0===l?void 0:l.volume,uuid:null===e||void 0===e||null===(i=e.volume)||void 0===i?void 0:i.uuid},{name:null===e||void 0===e?void 0:e.volume,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid}})))&&$e((0,S.x1)(d)),ge(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.getEquipments)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.map((e=>({name:null===e||void 0===e?void 0:e.name,key:null===e||void 0===e?void 0:e.name}))))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Pe(!0)},Xe=(0,t.useCallback)((e=>{var l,i;de(e),$e((0,P.v_)(null===V||void 0===V?void 0:V.Update)),Ze(),Ie({variables:{equipmentName:null===e||void 0===e||null===(l=e.equipment)||void 0===l?void 0:l.name}}).then((e=>{var l,i,a;const t=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getEquipmentByName)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((e=>{var l,i;return{name:null===e||void 0===e||null===(l=e.volume)||void 0===l?void 0:l.volume,key:"".concat(null===e||void 0===e||null===(i=e.volume)||void 0===i?void 0:i.uuid,"_").concat(null===e||void 0===e?void 0:e.uuid)}}));t&&be([{name:"Select Volume Type",key:""},...t])})).catch((e=>T.oR.error(e.networkError.result.errors[0].message))),Te({variables:{templateId:null===e||void 0===e?void 0:e.uuid}}).then((e=>{var l,i,a,t,n,o,d,r,s,u;const v=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionTemplateById)||void 0===i?void 0:i.data;Me.setValues({diversionReportTemplateData:{equipment_id:null===v||void 0===v||null===(a=v.equipment)||void 0===a?void 0:a.uuid,location_id:null===v||void 0===v||null===(t=v.location)||void 0===t?void 0:t.uuid,material_id:null===v||void 0===v||null===(n=v.material)||void 0===n?void 0:n.uuid,material_type_id:null===v||void 0===v||null===(o=v.material_type)||void 0===o?void 0:o.uuid,service_type:null===v||void 0===v?void 0:v.service_type,volume_id:null===v||void 0===v||null===(d=v.volume)||void 0===d?void 0:d.uuid,equipment:null===v||void 0===v||null===(r=v.equipment)||void 0===r?void 0:r.name,volume_name:"".concat(null===v||void 0===v||null===(s=v.volume)||void 0===s?void 0:s.uuid,"_").concat(null===v||void 0===v||null===(u=v.equipment)||void 0===u?void 0:u.uuid)}})})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),qe({materialId:null===e||void 0===e||null===(i=e.material)||void 0===i?void 0:i.uuid}).then((e=>{var l,i,a,t;const n=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getMaterialById)||void 0===i||null===(a=i.data)||void 0===a||null===(t=a.material_types)||void 0===t?void 0:t.map((e=>({name:null===e||void 0===e?void 0:e.type,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid})));n&&xe([{name:"Select Material Type"},...n])})).catch((e=>T.oR.error(e)))}),[]),Ke=(0,t.useCallback)((()=>{je({variables:{diversionReportTemplateId:null===oe||void 0===oe?void 0:oe.uuid}}).then((e=>{var l,i;T.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.deleteDiversionReportTemplate)||void 0===i?void 0:i.message),se(!1),We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:null===Ue||void 0===Ue?void 0:Ue.page,sortOrder:null===Ue||void 0===Ue?void 0:Ue.sortOrder,search:null===Ue||void 0===Ue?void 0:Ue.search,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===Ue||void 0===Ue?void 0:Ue.locationId}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)}))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)}))}),[oe]),Qe=e=>{var l,i;Ee.popupType===(null===V||void 0===V?void 0:V.Create)?Ne({variables:{diversionReportTemplateData:{equipment_id:e.diversionReportTemplateData.equipment_id,material_id:e.diversionReportTemplateData.material_id,material_type_id:e.diversionReportTemplateData.material_type_id,service_type:e.diversionReportTemplateData.service_type,volume_id:e.diversionReportTemplateData.volume_id,location_id:null===e||void 0===e||null===(l=e.diversionReportTemplateData)||void 0===l?void 0:l.location_id}}}).then((l=>{var i,a,t;T.oR.success(null===l||void 0===l||null===(i=l.data)||void 0===i||null===(a=i.createDiversionReportTemplate)||void 0===a?void 0:a.message),We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:null===Ue||void 0===Ue?void 0:Ue.page,sortOrder:null===Ue||void 0===Ue?void 0:Ue.sortOrder,search:null===Ue||void 0===Ue?void 0:Ue.search,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===e||void 0===e||null===(t=e.diversionReportTemplateData)||void 0===t?void 0:t.location_id}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),He()})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})):Re({variables:{diversionReportTemplateData:{equipment_id:e.diversionReportTemplateData.equipment_id,material_id:e.diversionReportTemplateData.material_id,material_type_id:e.diversionReportTemplateData.material_type_id,service_type:e.diversionReportTemplateData.service_type,volume_id:e.diversionReportTemplateData.volume_id,location_id:null===e||void 0===e||null===(i=e.diversionReportTemplateData)||void 0===i?void 0:i.location_id,diversion_report_template_id:null===oe||void 0===oe?void 0:oe.uuid}}}).then((e=>{var l,i;T.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateDiversionReportTemplate)||void 0===i?void 0:i.message),We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:null===Ue||void 0===Ue?void 0:Ue.page,sortOrder:null===Ue||void 0===Ue?void 0:Ue.sortOrder,search:null===Ue||void 0===Ue?void 0:Ue.search,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===Ue||void 0===Ue?void 0:Ue.locationId}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),He()})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)}))};(0,t.useEffect)((()=>{var e,l,i,a;""!==(null===Me||void 0===Me||null===(e=Me.values)||void 0===e||null===(l=e.diversionReportTemplateData)||void 0===l?void 0:l.location_id)&&(We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:null===Ue||void 0===Ue?void 0:Ue.page,sortOrder:null===Ue||void 0===Ue?void 0:Ue.sortOrder,search:null===Ue||void 0===Ue?void 0:Ue.search,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===Me||void 0===Me||null===(i=Me.values)||void 0===i||null===(a=i.diversionReportTemplateData)||void 0===a?void 0:a.location_id}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Ve((e=>{var l,i;return{...e,locationId:null===Me||void 0===Me||null===(l=Me.values)||void 0===l||null===(i=l.diversionReportTemplateData)||void 0===i?void 0:i.location_id}})))}),[null===Me||void 0===Me||null===(y=Me.values)||void 0===y||null===(b=y.diversionReportTemplateData)||void 0===b?void 0:b.location_id]);const el=(0,t.useCallback)((()=>{var e,l,i,a,t;$e((0,P.v_)(null===V||void 0===V?void 0:V.Create)),""!==(null===Me||void 0===Me||null===(e=Me.values)||void 0===e||null===(l=e.diversionReportTemplateData)||void 0===l?void 0:l.location_id)||""!=(null===fe||void 0===fe||null===(i=fe.getProfile)||void 0===i||null===(a=i.data)||void 0===a||null===(t=a.branch_locations[0])||void 0===t?void 0:t.uuid)?Ze():T.oR.error("Please Select location")}),[null===Me||void 0===Me||null===(j=Me.values)||void 0===j||null===(_=j.diversionReportTemplateData)||void 0===_?void 0:_.location_id]),ll=(0,t.useCallback)((e=>{var l,i,a;null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.value&&(Me.setFieldValue("diversionReportTemplateData.material_id",null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value),qe({materialId:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value}).then((e=>{var l,i,a,t;Me.setFieldValue("diversionReportTemplateData.material_type_id","");const n=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getMaterialById)||void 0===i||null===(a=i.data)||void 0===a||null===(t=a.material_types)||void 0===t?void 0:t.map((e=>({name:null===e||void 0===e?void 0:e.type,key:null===e||void 0===e?void 0:e.uuid,uuid:null===e||void 0===e?void 0:e.uuid})));n&&xe([{name:"Select Material Type"},...n])})).catch((e=>T.oR.error(e))))}),[]),il=(0,t.useCallback)((e=>{var l,i,a;null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.value&&(Me.setFieldValue("diversionReportTemplateData.equipment",null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value),Ie({variables:{equipmentName:null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value}}).then((e=>{var l,i,a;const t=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getEquipmentByName)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.map((e=>{var l,i;return{name:null===e||void 0===e||null===(l=e.volume)||void 0===l?void 0:l.volume,key:"".concat(null===e||void 0===e||null===(i=e.volume)||void 0===i?void 0:i.uuid,"_").concat(null===e||void 0===e?void 0:e.uuid)}}));t&&be([{name:"Select Volume Type",key:""},...t])})).catch((e=>T.oR.error(e.networkError.result.errors[0].message))))}),[]),al=(0,t.useCallback)((e=>{var l;if(null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.value){var i,a;const l=null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.value.split("_");Me.setFieldValue("diversionReportTemplateData.volume_name",null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value),Me.setFieldValue("diversionReportTemplateData.volume_id",l[0]),Me.setFieldValue("diversionReportTemplateData.equipment_id",l[1])}}),[]),tl=null===Me||void 0===Me||null===(N=Me.errors)||void 0===N?void 0:N.diversionReportTemplateData,nl=null===Me||void 0===Me||null===(w=Me.touched)||void 0===w?void 0:w.diversionReportTemplateData;return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(o.A,{headerActionConst:()=>{var e,l,i,a,t,o;return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{className:"flex w-full gap-3 xmd:gap-5 lg:w-auto ".concat(Se?"pointer-events-none":""),children:(0,U.jsx)(n.A,{className:"w-[212px] -mt-2 max-md:mr-2",label:"",inputIcon:(0,U.jsx)(d.T5,{fontSize:"18"}),name:"diversionReportTemplateData.location_id",onChange:e=>{null===Me||void 0===Me||Me.setFieldValue("diversionReportTemplateData.location_id",e.target.value)},value:null===Me||void 0===Me||null===(e=Me.values)||void 0===e||null===(l=e.diversionReportTemplateData)||void 0===l?void 0:l.location_id,error:null===Me||void 0===Me||null===(i=Me.errors)||void 0===i||null===(a=i.diversionReportTemplateData)||void 0===a?void 0:a.location_id,options:ue,id:"userLocation",disabled:(null===fe||void 0===fe||null===(t=fe.getProfile)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.user_type)!==v.ve.SUBSCRIBER_ADMIN})})})}}),(0,U.jsxs)("div",{className:"mb-3 bg-white rounded-xl overflow-auto border border-[#c8ced3] mx-7 p-3 md:p-5",children:[(0,U.jsxs)("div",{className:"flex flex-col justify-between gap-3 mb-3 sm:gap-5 md:mb-5 btn-group sm:flex-row",children:[(0,U.jsx)("h6",{className:"w-full leading-7 xmd:w-auto",children:ne("Service List")}),(0,U.jsxs)("div",{className:"flex items-center gap-3",children:[(0,U.jsx)(O.N_,{className:"btn btn-secondary btn-normal md:max-w-[3.125rem] !px-2.5 md:!px-4",to:"/".concat(v.bw.app,"/").concat(v.bw.diversionSettings,"/?locationId=").concat(null===Me||void 0===Me||null===(B=Me.values)||void 0===B||null===(Y=B.diversionReportTemplateData)||void 0===Y?void 0:Y.location_id),children:(0,U.jsx)("span",{className:"w-5 h-5",children:(0,U.jsx)(d.de,{fontSize:"20",className:"w-5 h-5"})})}),(0,U.jsx)(u.A,{className:"btn-normal btn btn-secondary whitespace-nowrap",type:"button",label:ne("+ Add New Service"),onClick:el})]})]}),(0,U.jsxs)("div",{className:"w-full mb-3 overflow-auto bg-white border sm:w-auto rounded-t-xl custom-dataTable border-border-primary",children:[(0,U.jsxs)("table",{children:[(0,U.jsx)("thead",{children:(0,U.jsxs)("tr",{children:[null===Ge||void 0===Ge?void 0:Ge.map((e=>(0,U.jsx)("th",{scope:"col",children:(0,U.jsxs)("div",{className:"flex items-center ".concat("Status"==e.name?"justify-center":""),children:[e.name,e.sortable&&(0,U.jsxs)("button",{onClick:()=>{return l=e.fieldName,Ve({...Ue,sortField:l,sortOrder:"ascend"===Ue.sortOrder?"descend":"ascend"}),void We({limit:null===Ue||void 0===Ue?void 0:Ue.limit,page:null===Ue||void 0===Ue?void 0:Ue.page,sortOrder:"ascend"===Ue.sortOrder?"descend":"ascend",sortField:l,locationId:null===Ue||void 0===Ue?void 0:Ue.locationId}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)}));var l},children:[(""===Ue.sortOrder||Ue.sortField!==e.fieldName)&&(0,U.jsx)(d.xs,{className:"w-3 h-3 ml-1 fill-white"}),"ascend"===Ue.sortOrder&&Ue.sortField===e.fieldName&&(0,U.jsx)(d.xD,{className:"ml-1 fill-white"}),"descend"===Ue.sortOrder&&Ue.sortField===e.fieldName&&(0,U.jsx)(d.xR,{className:"ml-1 fill-white"})]})]})},e.name))),(0,U.jsx)("th",{scope:"col",children:(0,U.jsx)("div",{className:"flex items-center",children:ne("Action")})})]})}),(0,U.jsx)("tbody",{children:null===Ee||void 0===Ee||null===(J=Ee.diversionTemplateData)||void 0===J||null===(L=J.diversionReport)||void 0===L?void 0:L.map(((e,l)=>{var i,a,t,n;const o=(null===Ue||void 0===Ue?void 0:Ue.index)+l+1;return(0,U.jsxs)("tr",{children:[(0,U.jsx)("td",{className:"text-left",children:o}),(0,U.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.service_type}),(0,U.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(i=e.material)||void 0===i?void 0:i.name}),(0,U.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(a=e.material_type)||void 0===a?void 0:a.type}),(0,U.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(t=e.equipment)||void 0===t?void 0:t.name}),(0,U.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(n=e.volume)||void 0===n?void 0:n.volume}),(0,U.jsx)("td",{className:"text-left",children:(0,U.jsxs)("div",{className:"btn-group",children:[(0,U.jsx)(F.A,{data:e,setData:de,onClick:()=>Xe(e)}),(0,U.jsx)(c.A,{data:e,setObj:de,setIsDelete:se})]})})]},null===e||void 0===e?void 0:e.uuid)}))})]}),(0===(null===Ee||void 0===Ee||null===(z=Ee.diversionTemplateData)||void 0===z?void 0:z.count)||null===(null===Ee||void 0===Ee||null===(G=Ee.diversionTemplateData)||void 0===G?void 0:G.count))&&(0,U.jsx)("div",{className:"flex justify-center",children:(0,U.jsx)("div",{children:ne("No Data")})})]}),(0,U.jsxs)("div",{className:"flex flex-wrap items-center mt-2",children:[(0,U.jsxs)("div",{className:"flex items-center mr-3 md:mr-7",children:[(0,U.jsx)("span",{className:"text-sm font-normal text-gray-700 whitespace-nowrap ",children:ne("Per Page")}),(0,U.jsx)("select",{value:Ue.limit,className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",onChange:e=>(e=>{Ye(Number(e));const l={...Ue,limit:parseInt(e),page:1,search:"",index:0};We({limit:parseInt(e),page:1,sortOrder:Ue.sortOrder,sortField:null===Ue||void 0===Ue?void 0:Ue.sortField,locationId:null===Ue||void 0===Ue?void 0:Ue.locationId}).then((e=>{var l,i;$e((0,P.YE)(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.getDiversionReportTemplateWithPagination)||void 0===i?void 0:i.data))})).catch((e=>{var l,i,a;return T.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(i=l.result)||void 0===i||null===(a=i.errors[0])||void 0===a?void 0:a.message)})),Ve(l),p.A.saveState("filterDiversionReport",JSON.stringify(l))})(e.target.value),children:null===v.aj||void 0===v.aj?void 0:v.aj.map((e=>(0,U.jsx)("option",{children:e},e)))})]}),(0,U.jsx)(m.A,{currentPage:Ue.page,totalPages:Le,onPageChange:ze,recordsPerPage:Be})]}),Fe&&(0,U.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(Fe?"":"hidden"),children:(0,U.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,U.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,U.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,U.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,U.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:ne(W[null===Ee||void 0===Ee?void 0:Ee.popupType])}),(0,U.jsx)(u.A,{onClick:()=>He(),label:ne(""),children:(0,U.jsx)("span",{className:"text-xl-22",children:(0,U.jsx)(d.YY,{className:"text-error"})})})]}),(0,U.jsx)("div",{className:"w-full",children:(0,U.jsxs)("form",{onSubmit:Me.handleSubmit,children:[(0,U.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,U.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,U.jsx)(n.A,{placeholder:ne("Select Service Type"),name:"diversionReportTemplateData.service_type",onChange:Me.handleChange,id:"service_id",label:ne("Service Type"),required:!0,options:v.Ub,value:null===Me||void 0===Me||null===(H=Me.values)||void 0===H||null===(Z=H.diversionReportTemplateData)||void 0===Z?void 0:Z.service_type,error:null!==tl&&void 0!==tl&&tl.service_type&&null!==nl&&void 0!==nl&&nl.service_type?null===tl||void 0===tl?void 0:tl.service_type:""})}),(0,U.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,U.jsx)(n.A,{placeholder:ne("Select Material Category"),name:"diversionReportTemplateData.material_id",onChange:ll,id:"material_id",label:ne("Material Category"),required:!0,options:ce,value:null===Me||void 0===Me||null===(X=Me.values)||void 0===X||null===(K=X.diversionReportTemplateData)||void 0===K?void 0:K.material_id,error:null!==tl&&void 0!==tl&&tl.material_id&&null!==nl&&void 0!==nl&&nl.material_id?null===tl||void 0===tl?void 0:tl.material_id:""})}),(0,U.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,U.jsx)(n.A,{name:"diversionReportTemplateData.material_type_id",onChange:Me.handleChange,id:"material_type_id",label:ne("Material Type"),required:!0,options:pe,value:null===Me||void 0===Me||null===(Q=Me.values)||void 0===Q||null===(ee=Q.diversionReportTemplateData)||void 0===ee?void 0:ee.material_type_id,error:null!==tl&&void 0!==tl&&tl.material_type_id&&null!==nl&&void 0!==nl&&nl.material_type_id?null===tl||void 0===tl?void 0:tl.material_type_id:""})}),(0,U.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,U.jsx)(n.A,{placeholder:ne("Select Equipment"),name:"diversionReportTemplateData.equipment",onChange:il,id:"equipment",label:ne("Equipment"),required:!0,options:he,value:null===Me||void 0===Me||null===(le=Me.values)||void 0===le||null===(ie=le.diversionReportTemplateData)||void 0===ie?void 0:ie.equipment,error:null!==tl&&void 0!==tl&&tl.equipment&&null!==nl&&void 0!==nl&&nl.equipment?null===tl||void 0===tl?void 0:tl.equipment:""})}),(0,U.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,U.jsx)(n.A,{name:"diversionReportTemplateData.volume_name",onChange:al,id:"volume",label:ne("Volume"),required:!0,options:ye,value:null===Me||void 0===Me||null===(ae=Me.values)||void 0===ae||null===(te=ae.diversionReportTemplateData)||void 0===te?void 0:te.volume_name,error:null!==tl&&void 0!==tl&&tl.volume_name&&null!==nl&&void 0!==nl&&nl.volume_name?null===tl||void 0===tl?void 0:tl.volume_name:""})})]}),(0,U.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,U.jsx)(u.A,{className:"btn-primary btn-normal w-full md:w-auto min-w-[160px]",type:"submit",label:ne(null===Ee||void 0===Ee?void 0:Ee.popupType),disabled:we||De})})]})})]})})})}),re&&(0,U.jsx)($.A,{warningText:v.jl,onClose:He,action:Ke,show:re,disabled:_e})]})]})}}}]);
//# sourceMappingURL=7309.b86e8ec0.chunk.js.map
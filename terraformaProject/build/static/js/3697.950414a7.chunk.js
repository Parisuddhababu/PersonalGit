"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[3697],{7648:(e,a,t)=>{t.d(a,{A:()=>x});var l=t(65043),r=t(74117),s=t(73216),n=t(35475),i=t(42145),o=t(79456),c=t(66925),d=t(70579);const m=()=>{var e,a,t;const{t:m}=(0,r.Bd)(),x=(0,s.zy)(),u=new URLSearchParams(x.search).get("uuid"),{id:p}=(0,s.g)(),{userProfileData:h}=(0,o.d4)((e=>e.userProfile)),g=null!==(e=null===h||void 0===h||null===(a=h.getProfile)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.user_type)&&void 0!==e?e:"",v=e=>{var a;let t="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return t=t+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",t})),t}var l;return t=(null===(l=e.split("/")[2][0])||void 0===l?void 0:l.toUpperCase())+e.split("/")[2].slice(1),t},j=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const t=a.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return a=t.join(" "),a}var t;return a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},f=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var t},y=x.pathname.split("/"),N=(0,l.useCallback)((()=>{if((null===y||void 0===y?void 0:y.length)>0){const e=null===y||void 0===y?void 0:y.length;if(e<4)return(0,d.jsx)("span",{className:"text-primary",children:y[2]&&"".concat(m(j(y[2])))});if(e<5)return""!==y[3]?y[3].length>32?(0,d.jsxs)(d.Fragment,{children:[f(y[3])&&(0,d.jsx)("span",{className:"text-primary",children:(0,d.jsx)(n.k2,{to:"/".concat(i.bw.app,"/").concat(y[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),f(y[3])&&(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!f(y[3])&&(0,d.jsx)("span",{className:"text-primary",children:y[2]&&"".concat(m(j(y[2])))}),(0,d.jsx)("span",{className:"text-primary",children:y[3]&&"".concat(m(f(y[3])))})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-primary",children:(0,d.jsx)(n.k2,{to:"/".concat(i.bw.app,"/").concat(y[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,d.jsx)("span",{className:"text-primary",children:y[3]&&"".concat(m(j(y[3])))})]}):(0,d.jsx)("span",{className:"text-primary",children:y[2]&&"".concat(m(j(y[2])))});if(e<6)return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-primary",children:(0,d.jsx)(n.k2,{to:"/".concat(i.bw.app,"/").concat(y[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,d.jsx)("span",{className:"text-primary",children:y[3]&&"".concat(m(j(y[3])))})]});if(e<7){let e="";return u?e="?uuid=".concat(u):p&&(e="?uuid=".concat(p)),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-primary",children:(0,d.jsx)(n.k2,{to:"/".concat(i.bw.app,"/").concat(y[2]),className:"text-light-grey hover:underline",children:m(j(y[2]))})}),(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,d.jsx)("span",{className:"text-primary",children:(0,d.jsx)(n.k2,{to:"/".concat(i.bw.app,"/").concat(y[2],"/").concat(y[3],"/").concat((""!==u||""!==p)&&e),className:"text-light-grey hover:underline",children:m(j(y[3]))})}),(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,d.jsx)("span",{className:"text-primary",children:y[5]&&"".concat(m(j(y[4])))})]})}}}),[y]);return(0,d.jsx)("div",{className:"w-full",children:(0,d.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,d.jsxs)("span",{children:[(0,d.jsx)(n.k2,{to:(0,c.Go)(g,i.ve.SUPER_ADMIN,"/".concat(i.bw.app,"/").concat(i.bw.dashboard),"/".concat(i.bw.app,"/").concat(i.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:m("Home")}),(0,d.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),N()]})})},x=l.memo(m)},12209:(e,a,t)=>{t.d(a,{A:()=>m});var l=t(65043),r=t(74117),s=t(73216),n=t(7648),i=t(33556),o=t(79456),c=t(75214),d=t(70579);const m=e=>{let{headerActionConst:a,headerTitle:t}=e;const{t:m}=(0,r.Bd)(),x=(0,o.wA)(),{show:u}=(0,o.d4)((e=>e.coursesManagement)),p=(0,s.zy)(),h=(0,l.useCallback)((()=>{x((0,c.oM)(!u))}),[u]);return(0,d.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,d.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,d.jsx)(i.Rt,{className:"ml-4"})}),(0,d.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,d.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,d.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,d.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:m(null!==t&&void 0!==t?t:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(p.pathname))}),(0,d.jsx)(n.A,{})]}),a&&(0,d.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},76755:(e,a,t)=>{t.d(a,{P:()=>o,v:()=>i});var l,r,s=t(57528),n=t(70459);const i=(0,n.J1)(l||(l=(0,s.A)(["\nquery GetManualCategories($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getManualCategories(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        manualCategories {\n          name\n          uuid\n          children {\n            name\n            uuid\n            image_url\n          }\n        }\n        count\n      }\n    }\n  }"]))),o=(0,n.J1)(r||(r=(0,s.A)(["\nquery GetItemByCategoriesPagination($itemCategoryId: String!, $sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n  getItemByCategoriesPagination(itemCategoryId: $itemCategoryId, sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n    message\n    data {\n      count\n      itemByCategories {\n        uuid\n        name\n        url\n        image\n      }\n    }\n  }\n}"])))},3697:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var l=t(65043),r=t(74117),s=t(73216),n=t(88250),i=t(77654),o=t(33556),c=t(42145),d=t(64526),m=t(32254),x=t(41290),u=t(76755),p=t(12209),h=t(70579);const g=()=>{var e,a,t,g,v,j,f,y,N,b,w,C,k,P;const S=(0,s.zy)(),{id:$}=(0,s.g)(),F=new URLSearchParams(S.search).get("guide_name"),{data:U,refetch:A}=(0,n.I)(u.P,{variables:{limit:c.Wt,page:c.k2,sortField:"createdAt",sortOrder:"descend",search:"",itemCategoryId:$}}),{t:O}=(0,r.Bd)(),B=(0,s.Zp)(),[I,M]=(0,l.useState)(""),[R,D]=(0,l.useState)({limit:c.Wt,page:c.k2,sortField:"createdAt",sortOrder:"descend",search:"",index:0}),E=[{name:O("Sr.No"),sortable:!1},{name:O("User Manuals"),sortable:!0,fieldName:"name"},{name:O("Download"),sortable:!1}];(0,l.useEffect)((()=>{A(R).catch((e=>d.oR.error(e)))}),[R]);const[_,z]=(0,l.useState)(R.limit),G=(null===U||void 0===U||null===(e=U.getItemByCategoriesPagination)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count)||0,J=Math.ceil(G/_),L=(0,l.useCallback)((e=>{const a={...R,page:e,index:(e-1)*R.limit};D(a),m.A.saveState("filterUserManual",JSON.stringify(a))}),[]);return(0,l.useEffect)((()=>{z(R.limit)}),[R.limit]),(0,l.useEffect)((()=>{var e;const a=null===S||void 0===S||null===(e=S.state)||void 0===e?void 0:e.selectedUuid;M(a)}),[I]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.A,{headerTitle:"User Manuals"}),(0,h.jsxs)("div",{className:"p-5 overflow-auto border border-solid rounded-xl border-border-primary",children:[(0,h.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5 md:gap-5",children:[(0,h.jsx)("h6",{children:F}),(0,h.jsxs)("div",{className:"flex flex-wrap w-full gap-3 md:flex-nowrap md:gap-5 md:w-auto ",children:[(0,h.jsx)(x.A,{className:"w-full btn btn-primary md:w-[50px]",label:"",title:"",children:(0,h.jsx)(o.PE,{className:"order-2 fill-white",fontSize:"18"})}),(0,h.jsx)(x.A,{className:"w-full btn btn-secondary btn-normal md:w-[50px]",onClick:function(){B("/".concat(c.bw.app,"/").concat(c.bw.itemByCategory,"/").concat(c.bw.itemByCategoryGrid,"/").concat($))},type:"submit",label:"",title:"Sort",children:(0,h.jsx)(o.Nj,{className:"order-2",fontSize:"18"})})]})]}),(0,h.jsxs)("div",{className:"w-full mb-3 overflow-auto bg-white border sm:w-auto rounded-t-xl custom-dataTable border-border-primary",children:[(0,h.jsxs)("table",{children:[(0,h.jsx)("thead",{children:(0,h.jsx)("tr",{children:null===E||void 0===E?void 0:E.map(((e,a)=>(0,h.jsx)("th",{scope:"col",className:"items-center ".concat(e.name==O("Download")&&"w-[16%]"," ").concat(e.name==O("Sr.No")&&"pl-7"),children:(0,h.jsxs)("div",{className:"flex items-center",children:[e.name,e.sortable&&(0,h.jsxs)("a",{onClick:()=>{return a=e.fieldName,void D({...R,sortField:a,sortOrder:"ascend"===R.sortOrder?"descend":"ascend"});var a},children:[(""===R.sortOrder||R.sortField!==e.fieldName)&&(0,h.jsx)(o.xs,{className:"fill-white"}),"ascend"===R.sortOrder&&R.sortField===e.fieldName&&(0,h.jsx)(o.xD,{className:"ml-1 fill-white"}),"descend"===R.sortOrder&&R.sortField===e.fieldName&&(0,h.jsx)(o.xR,{className:"ml-1 fill-white"})]})]})},"".concat(a+1))))})}),(0,h.jsx)("tbody",{children:null===U||void 0===U||null===(t=U.getItemByCategoriesPagination)||void 0===t||null===(g=t.data)||void 0===g||null===(v=g.itemByCategories)||void 0===v?void 0:v.map(((e,a)=>{const t=(null===R||void 0===R?void 0:R.index)+a+1;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"text-left pl-7",scope:"row",children:t}),(0,h.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.name}),(0,h.jsx)("td",{children:(0,h.jsx)("a",{download:!0,target:"_blank",rel:"noreferrer",onClick:async()=>{const a=await(0,c.Do)(e.url);fetch(a).then((a=>{a.blob().then((a=>{const t=window.URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download=null===e||void 0===e?void 0:e.name,l.click()}))}))},children:(0,h.jsxs)("div",{className:"flex items-center justify-start gap-2 cursor-pointer hover:underline text-primary btn-group",children:[(0,h.jsx)(o.f5,{className:"fill-primary"}),"Download"]})})})]},e.uuid)}))})]}),(0===(null===U||void 0===U||null===(j=U.getCategories)||void 0===j||null===(f=j.data)||void 0===f?void 0:f.count)||null===(null===U||void 0===U||null===(y=U.getCategories)||void 0===y?void 0:y.data))&&(0,h.jsx)("div",{className:"flex justify-center",children:(0,h.jsx)("div",{children:O("No Data")})})]}),(0,h.jsxs)("div",{className:"flex flex-wrap items-center gap-5 mt-2",children:[(0,h.jsx)("span",{className:"text-xs text-slate-400",children:"".concat(null===(null===U||void 0===U||null===(N=U.getItemByCategoriesPagination)||void 0===N||null===(b=N.data)||void 0===b?void 0:b.count)||void 0===(null===U||void 0===U||null===(w=U.getItemByCategoriesPagination)||void 0===w||null===(C=w.data)||void 0===C?void 0:C.count)?"0":null===U||void 0===U||null===(k=U.getItemByCategoriesPagination)||void 0===k||null===(P=k.data)||void 0===P?void 0:P.count)+O(" Total Records")}),(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("span",{className:"text-sm font-normal text-gray-700 ",children:O("Per Page")}),(0,h.jsx)("select",{className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",onChange:e=>(e=>{z(Number(e));const a={...R,limit:parseInt(e),page:1,search:"",index:0};D(a),m.A.saveState("filterUserManual",JSON.stringify(a))})(e.target.value),value:R.limit,children:null===c.aj||void 0===c.aj?void 0:c.aj.map((e=>(0,h.jsx)("option",{children:e},e)))})]}),(0,h.jsx)(i.A,{currentPage:R.page,totalPages:J,onPageChange:L,recordsPerPage:_})]})]})]})}}}]);
//# sourceMappingURL=3697.950414a7.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[3287],{75289:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(65043),s=a(74117),n=a(41290),i=a(33556),r=a(70579);const o=e=>{let{onClose:t,action:a,show:o,warningText:c,disabled:d,isLoading:m}=e;const{t:x}=(0,s.Bd)(),[u,b]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{o&&setTimeout((()=>{b(!0)}),100)}),[o]),(0,r.jsxs)(r.Fragment,{children:[m&&(0,r.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,r.jsxs)("div",{className:"".concat(o?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==c&&"Are you sure want to change status ?"!==c&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,r.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,r.jsxs)("div",{className:"flex items-center ",children:[(0,r.jsx)(i.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,r.jsx)("span",{className:"text-xl font-bold text-baseColor",children:x("Confirmation")})]}),(0,r.jsx)(n.A,{onClick:t,label:"",children:(0,r.jsx)(i.YY,{className:"text-error",fontSize:"14"})})]}),(0,r.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,r.jsx)("p",{children:x(c)})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:a,label:x("Yes"),disabled:d,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:t,label:x("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==c&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,r.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,r.jsx)(i.ZI,{className:"fill-white bg-primary"})}),(0,r.jsx)("h4",{children:x("Confirmation")})]}),(0,r.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:x(c)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:a,label:x("Yes"),disabled:d,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:t,label:x("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==c&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsx)("div",{className:"flex justify-center mb-5",children:(0,r.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,r.jsx)(i.Vl,{className:"stroke-2 fill-white"})})}),(0,r.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:x(c)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:a,label:x("Yes"),disabled:d,title:"Yes"}),(0,r.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:t,label:x("No"),title:"No"})]})]})})})]})]})}},5729:(e,t,a)=>{a.d(t,{Ey:()=>d,U3:()=>c,bP:()=>o});var l,s,n,i=a(57528),r=a(70459);const o=(0,r.J1)(l||(l=(0,i.A)(["\nmutation CreateLocation($locationData: CreateLocation!) {\n    createLocation(locationData: $locationData) {\n      message\n      data {\n        uuid\n        location\n        city\n      }\n    }\n  }\n"]))),c=(0,r.J1)(s||(s=(0,i.A)(["\nmutation DeleteLocation($locationId: String!) {\n  deleteLocation(locationId: $locationId) {\n    message\n  }\n}"]))),d=(0,r.J1)(n||(n=(0,i.A)(["\nmutation UpdateLocation($locationData: UpdateLocationDto!) {\n    updateLocation(locationData: $locationData) {\n      message\n      data {\n        uuid\n        location\n        city\n      }\n    }\n  }\n"])))},4009:(e,t,a)=>{a.d(t,{v:()=>r,w:()=>o});var l,s,n=a(57528),i=a(70459);const r=(0,i.J1)(l||(l=(0,n.A)(["\nquery GetLocationsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $citySearch: String!, $locationSearch: String!) {\n  getLocationsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, citySearch: $citySearch, locationSearch: $locationSearch) {\n    message\n    data {\n      location {\n        uuid\n        location\n        city\n        zoneCount\n      }\n      count\n    }\n  }\n}"]))),o=(0,i.J1)(s||(s=(0,n.A)(["query GetLocations {\n  getLocations {\n    message\n    data {\n      uuid\n      location\n      city\n      diversion_percentage\n      zoneCount\n    }\n  }\n}"])))},76718:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var l=a(65043);const s=a.p+"static/media/introductory-bg.c3eeb6b1ba4f5f3af7d4.png";var n=a(92382),i=(a(4430),a(69078),a(74117)),r=a(41290),o=a(82806);const c=a.p+"static/media/intro-img1.f03f016d5761a6e5a2c2.png";var d=a(70579);const m=e=>{let{next:t}=e;const{t:a}=(0,i.Bd)();return(0,d.jsxs)("div",{className:"p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:[(0,d.jsx)("picture",{className:"max-md:max-w-[210px] block sm:mb-9",children:(0,d.jsx)("img",{src:o,alt:"Introductory Background",height:"80",width:"301",title:"Introductory Background"})}),(0,d.jsxs)("div",{className:"flex max-sm:flex-wrap max-sm:mb-5",children:[(0,d.jsx)("h1",{className:"text-xl md:text-2xl lg:text-xl-30 max-sm:text-center max-sm:order-2 sm:mb-10 sm:w-[56%] lg:leading-normal",children:"Welcome to Terra Forma Systems Introductory Journey"}),(0,d.jsx)("picture",{className:"sm:pl-5 max-sm:mb-5 max-sm:mx-auto sm:-mt-20 lg:-mt-24 w-[80%] max-sm:max-w-[350px] sm:w-[44%]",children:(0,d.jsx)("img",{src:c,alt:"Introductory Image",className:"w-full",height:"363",width:"417",title:"Introductory Image"})})]}),(0,d.jsx)(r.A,{className:"w-full sm:w-[166px] btn-primary btn-normal btn-login",type:"submit",label:a("Get Started"),onClick:t,title:"".concat(a("Get Started"))})]})};var x=a(33556);const u=a.p+"static/media/intro-img2.b182dd22a5ec23d42a66.png";var b=a(72096);const h=e=>{let{next:t,previous:a}=e;return(0,d.jsxs)("div",{className:"relative p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:[(0,d.jsx)("h2",{className:"mb-2 text-xl md:text-2xl lg:text-xl-30 md:mb-6 lg:leading-normal",children:(0,b.t)("Let\u2019s make the change Together")}),(0,d.jsxs)("a",{href:"#",className:"absolute text-xs font-bold text-success sm:text-xs-14 top-5 right-5 sm:top-7 sm:right-7",onClick:t,children:[(0,b.t)("SKIP")," >>"]}),(0,d.jsxs)("div",{className:"flex max-sm:flex-wrap",children:[(0,d.jsxs)("div",{className:"w-full sm:w-[56%] mb-2.5 sm:max-w-[460px]",children:[(0,d.jsxs)("div",{className:"flex items-center py-2.5 border-b border-solid lg:py-4 border-border-primary last:border-none",children:[(0,d.jsx)("span",{className:"text-xl-22 md:text-2xl mr-2.5",children:(0,d.jsx)(x.j6,{className:"fill-success"})}),(0,d.jsx)("p",{className:"font-semibold",children:(0,b.t)("Comprehensive Dashboards")})]}),(0,d.jsxs)("div",{className:"flex items-center py-2.5 border-b border-solid lg:py-4 border-border-primary last:border-none",children:[(0,d.jsx)("span",{className:"text-xl-22 md:text-2xl mr-2.5",children:(0,d.jsx)(x.OJ,{className:"fill-success"})}),(0,d.jsx)("p",{className:"font-semibold",children:(0,b.t)("Empowering Education Portal")})]}),(0,d.jsxs)("div",{className:"flex items-center py-2.5 border-b border-solid lg:py-4 border-border-primary last:border-none",children:[(0,d.jsx)("span",{className:"text-xl-22 md:text-2xl mr-2.5",children:(0,d.jsx)(x.zt,{className:"fill-success"})}),(0,d.jsx)("p",{className:"font-semibold",children:(0,b.t)("Effortless Report Tracking")})]}),(0,d.jsxs)("div",{className:"flex items-center py-2.5 border-b border-solid lg:py-4 border-border-primary last:border-none",children:[(0,d.jsx)("span",{className:"text-xl-22 md:text-2xl mr-2.5",children:(0,d.jsx)(x.sI,{className:"fill-success"})}),(0,d.jsx)("p",{className:"font-semibold",children:(0,b.t)("Streamlined Waste Management")})]})]}),(0,d.jsx)("picture",{className:"sm:pl-5 mx-2 mb-2 lg:-mt-2 max-sm:mx-auto w-[80%] max-sm:max-w-[350px] sm:w-[44%] ml-auto",children:(0,d.jsx)("img",{src:u,alt:"Introductory Image",className:"w-full",height:"363",width:"417",title:"Introductory Image"})})]}),(0,d.jsx)(r.A,{className:"w-full sm:w-[140px] btn-normal btn-secondary btn-normal btn-login",type:"submit",label:(0,b.t)("Back"),onClick:a,title:"".concat((0,b.t)("Back"))}),(0,d.jsx)(r.A,{className:"w-full sm:ml-5 max-sm:mt-2.5 lg:ml-7 sm:w-[140px] btn-primary btn-normal btn-login",type:"submit",label:(0,b.t)("Next"),onClick:t,title:"".concat((0,b.t)("Next"))})]})};var p=a(34764),g=a(31881),f=a(88250),v=a(5729),w=a(64526),j=a(63516),y=a(18232),N=a(42145),k=a(4009),C=a(75289);const S=a.p+"static/media/final-image.06a9b2bdf58438cf2eb1.png";var A,I=a(79456),L=a(57528);const $=(0,a(70459).J1)(A||(A=(0,L.A)(["\nquery ChangeStatusOfIntroductoryPage($userId: String!) {\n    changeStatusOfIntroductoryPage(userId: $userId) {\n      message\n    }\n  }"])));var E=a(73216);const P=e=>{var t,a;let{previous:s}=e;const[n]=(0,g.n)(v.bP),i=(0,E.Zp)(),[o,c]=(0,l.useState)([]),[m,x]=(0,g.n)(v.U3),[u,h]=(0,l.useState)(!1),[A,L]=(0,l.useState)([]),{userProfileData:P}=(0,I.d4)((e=>e.userProfile)),D=null===P||void 0===P||null===(t=P.getProfile)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.uuid,{data:B,refetch:F}=(0,f.I)($,{variables:{userId:D},skip:!0}),{data:_,refetch:Y}=(0,f.I)(k.v,{variables:{limit:N.Wt,page:N.k2,sortField:"createdAt",sortOrder:"descend",citySearch:"",locationSearch:""}}),J=(0,j.Wx)({initialValues:{uuid:"",location:"",city:"",selectedLocation:[]},onSubmit:async e=>{J.values.location&&J.values.city&&n({variables:{locationData:{location:e.location,city:e.city}}}).then((e=>{var t;const a=e.data;w.oR.success(null===a||void 0===a||null===(t=a.createLocation)||void 0===t?void 0:t.message),Y(),J.resetForm()})).catch((e=>{var t,a,l;w.oR.error(null===e||void 0===e||null===(t=e.networkError)||void 0===t||null===(a=t.result)||void 0===a||null===(l=a.errors[0])||void 0===l?void 0:l.message)}))}});(0,l.useEffect)((()=>{if(_){var e,t,a;const l=[];null===_||void 0===_||null===(e=_.getLocationsWithPagination)||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.location)||void 0===a||a.map((e=>{l.push({name:null===e||void 0===e?void 0:e.location,code:null===e||void 0===e?void 0:e.uuid})})),c(l),L(l),0===J.values.selectedLocation.length&&J.setFieldValue("selectedLocation",l)}}),[_]);const O=(0,l.useCallback)((()=>{const e=o.filter((e=>!A.find((t=>t.code===e.code)))).map((e=>e.code));m({variables:{locationId:e[0]}}).then((e=>{const t=e.data;w.oR.success(t.deleteLocation.message),Y(),h(!1)})).catch((e=>{400===e.networkError.statusCode?(w.oR.error(e.networkError.result.errors[0].message),h(!1)):w.oR.error(e.networkError.result.errors[0].message)}))}),[o,A]),T=(0,l.useCallback)((()=>{J.setFieldValue("selectedLocation",o),h(!1)}),[]),z=(0,l.useCallback)((()=>{F().then((e=>{var t,a;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.changeStatusOfIntroductoryPage)&&void 0!==a&&a.message&&i("/".concat(N.bw.app,"/").concat(N.bw.dashboard))}))}),[]);return(0,d.jsxs)("div",{className:"-mx-2.5 relative p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:[(0,d.jsx)("h2",{className:"mb-2 text-xl md:text-2xl lg:text-xl-30 md:mb-6 lg:leading-normal",children:(0,b.t)("Add Your Location")}),(0,d.jsxs)("div",{className:"flex max-sm:flex-wrap",children:[(0,d.jsxs)("div",{className:"w-full sm:w-[56%] mb-2.5 sm:max-w-[460px]",children:[(0,d.jsx)("div",{className:"mb-5 last:mb-0",children:(0,d.jsx)("div",{className:"w-[calc(100%-110px)]",children:(0,d.jsx)(p.A,{placeholder:(0,b.t)("Enter Location"),label:(0,b.t)("Enter Location"),name:"location",id:"location",type:"text",onChange:J.handleChange,value:J.values.location})})}),(0,d.jsxs)("div",{className:"flex mb-5 last:mb-0",children:[(0,d.jsx)("div",{className:"w-[calc(100%-110px)]",children:(0,d.jsx)(p.A,{placeholder:(0,b.t)("Enter City"),label:(0,b.t)("Enter City"),name:"city",id:"city",type:"text",onChange:J.handleChange,value:J.values.city})}),(0,d.jsx)(r.A,{label:(0,b.t)("Add Location"),onClick:J.handleSubmit,className:"whitespace-nowrap underline text-primary mt-5 ml-2.5",title:"".concat((0,b.t)("Add Location"))})]})]}),(0,d.jsx)("picture",{className:"sm:pl-5 mx-2 mb-2 lg:-mt-20 max-sm:mx-auto w-[80%] max-sm:max-w-[350px] sm:w-[44%] ml-auto",children:(0,d.jsx)("img",{src:S,alt:"Introductory Image",className:"w-full",height:"363",width:"417"})})]}),(0,d.jsx)("div",{className:"max-h-[206px] overflow-hidden my-5",children:(0,d.jsx)(y.q,{multiple:!0,value:o,onChange:e=>(e=>{L(e.value),h(!0)})(e),options:o,id:"selectedLocation",name:"selectedLocation",optionLabel:"name",className:"w-full md:w-14rem p-cross"})}),(0,d.jsx)(r.A,{className:"w-full sm:w-[140px] btn-normal btn-secondary btn-normal btn-login",type:"submit",label:(0,b.t)("Back"),onClick:s,title:"".concat((0,b.t)("Back"))}),(0,d.jsx)(r.A,{className:"w-full sm:ml-5 max-sm:mt-2.5 lg:ml-7 sm:w-[140px] btn-primary btn-normal btn-login",type:"submit",label:(0,b.t)("Begin"),onClick:z,title:"".concat((0,b.t)("Begin"))}),u&&(0,d.jsx)(C.A,{warningText:N.jl,onClose:T,action:O,show:u,disabled:null===x||void 0===x?void 0:x.loading})]},"slider-list")},D=()=>{const e=(0,l.useRef)(null),t=()=>{e.current&&e.current.slickNext()},a=()=>{e.current&&e.current.slickPrev()};return(0,d.jsx)("div",{className:"container w-full [&_.slick-track]:flex [&_.slick-slide]:h-full [&_.slick-slide]:my-auto px-6 md:px-7 max-w-introductory-container z-1 [&_.slick-list]:rounded-xl [&_.slick-list]:bg-white [&_.slick-list]:shadow-outline ",children:(0,d.jsxs)(n.A,{dots:!0,infinite:!1,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:0,ref:e,children:[(0,d.jsx)("div",{className:"p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:(0,d.jsx)(m,{next:t})}),(0,d.jsx)("div",{className:"p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:(0,d.jsx)(h,{next:t,previous:a})}),(0,d.jsx)("div",{className:"p-10 bg-white lg:py-20 lg:pl-20 lg:pr-12 rounded-xl",children:(0,d.jsx)(P,{previous:a})})]})})},B=()=>{const e=(0,E.Zp)(),{userProfileData:t}=(0,I.d4)((e=>e.userProfile));return(0,l.useEffect)((()=>{var a,l;null!==t&&void 0!==t&&null!==(a=t.getProfile)&&void 0!==a&&null!==(l=a.data)&&void 0!==l&&l.introductory_page&&e("/".concat(N.bw.app,"/").concat(N.bw.dashboard))}),[t]),(0,d.jsxs)("div",{className:"relative flex items-center justify-center w-full h-screen bg-accents-2 nm",children:[(0,d.jsx)("picture",{className:"absolute bottom-0 right-0 w-1/2 max-w-[700px]",children:(0,d.jsx)("img",{src:s,className:"w-full ml-auto",alt:"Introductory Background",height:"699",width:"638"})}),(0,d.jsx)(D,{})]})}}}]);
//# sourceMappingURL=3287.987b2751.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[8447],{7648:(e,a,s)=>{s.d(a,{A:()=>x});var l=s(65043),t=s(74117),r=s(73216),n=s(35475),c=s(42145),i=s(79456),d=s(66925),o=s(70579);const m=()=>{var e,a,s;const{t:m}=(0,t.Bd)(),x=(0,r.zy)(),p=new URLSearchParams(x.search).get("uuid"),{id:h}=(0,r.g)(),{userProfileData:u}=(0,i.d4)((e=>e.userProfile)),v=null!==(e=null===u||void 0===u||null===(a=u.getProfile)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.user_type)&&void 0!==e?e:"",j=e=>{var a;let s="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return s=s+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",s})),s}var l;return s=(null===(l=e.split("/")[2][0])||void 0===l?void 0:l.toUpperCase())+e.split("/")[2].slice(1),s},f=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const s=a.split(" ");for(let e=0;e<s.length;e++)s[e]=s[e][0].toUpperCase()+s[e].substring(1);return a=s.join(" "),a}var s;return a=(null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},b=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(s=e[0])||void 0===s?void 0:s.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var s},N=x.pathname.split("/"),y=(0,l.useCallback)((()=>{if((null===N||void 0===N?void 0:N.length)>0){const e=null===N||void 0===N?void 0:N.length;if(e<4)return(0,o.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))});if(e<5)return""!==N[3]?N[3].length>32?(0,o.jsxs)(o.Fragment,{children:[b(N[3])&&(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(n.k2,{to:"/".concat(c.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(j(x.pathname)))})}),b(N[3])&&(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!b(N[3])&&(0,o.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))}),(0,o.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(b(N[3])))})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(n.k2,{to:"/".concat(c.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(j(x.pathname)))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(f(N[3])))})]}):(0,o.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))});if(e<6)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(n.k2,{to:"/".concat(c.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(j(x.pathname)))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(f(N[3])))})]});if(e<7){let e="";return p?e="?uuid=".concat(p):h&&(e="?uuid=".concat(h)),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(n.k2,{to:"/".concat(c.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:m(f(N[2]))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:(0,o.jsx)(n.k2,{to:"/".concat(c.bw.app,"/").concat(N[2],"/").concat(N[3],"/").concat((""!==p||""!==h)&&e),className:"text-light-grey hover:underline",children:m(f(N[3]))})}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,o.jsx)("span",{className:"text-primary",children:N[5]&&"".concat(m(f(N[4])))})]})}}}),[N]);return(0,o.jsx)("div",{className:"w-full",children:(0,o.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,o.jsxs)("span",{children:[(0,o.jsx)(n.k2,{to:(0,d.Go)(v,c.ve.SUPER_ADMIN,"/".concat(c.bw.app,"/").concat(c.bw.dashboard),"/".concat(c.bw.app,"/").concat(c.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:m("Home")}),(0,o.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),y()]})})},x=l.memo(m)},75289:(e,a,s)=>{s.d(a,{A:()=>i});var l=s(65043),t=s(74117),r=s(41290),n=s(33556),c=s(70579);const i=e=>{let{onClose:a,action:s,show:i,warningText:d,disabled:o,isLoading:m}=e;const{t:x}=(0,t.Bd)(),[p,h]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{i&&setTimeout((()=>{h(!0)}),100)}),[i]),(0,c.jsxs)(c.Fragment,{children:[m&&(0,c.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,c.jsxs)("div",{className:"".concat(i?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==d&&"Are you sure want to change status ?"!==d&&(0,c.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,c.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,c.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,c.jsxs)("div",{className:"flex items-center ",children:[(0,c.jsx)(n.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,c.jsx)("span",{className:"text-xl font-bold text-baseColor",children:x("Confirmation")})]}),(0,c.jsx)(r.A,{onClick:a,label:"",children:(0,c.jsx)(n.YY,{className:"text-error",fontSize:"14"})})]}),(0,c.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,c.jsx)("p",{children:x(d)})}),(0,c.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,c.jsx)(r.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:s,label:x("Yes"),disabled:o,title:"Yes"}),(0,c.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:a,label:x("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==d&&(0,c.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,c.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,c.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,c.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,c.jsx)(n.ZI,{className:"fill-white bg-primary"})}),(0,c.jsx)("h4",{children:x("Confirmation")})]}),(0,c.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:x(d)}),(0,c.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,c.jsx)(r.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:s,label:x("Yes"),disabled:o,title:"Yes"}),(0,c.jsx)(r.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:x("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==d&&(0,c.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,c.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,c.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,c.jsx)("div",{className:"flex justify-center mb-5",children:(0,c.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,c.jsx)(n.Vl,{className:"stroke-2 fill-white"})})}),(0,c.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:x(d)}),(0,c.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,c.jsx)(r.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:s,label:x("Yes"),disabled:o,title:"Yes"}),(0,c.jsx)(r.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:x("No"),title:"No"})]})]})})})]})]})}},81410:(e,a,s)=>{s.d(a,{A:()=>t});s(65043);var l=s(70579);const t=function(){return(0,l.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,a,s)=>{s.d(a,{A:()=>m});var l=s(65043),t=s(74117),r=s(73216),n=s(7648),c=s(33556),i=s(79456),d=s(75214),o=s(70579);const m=e=>{let{headerActionConst:a,headerTitle:s}=e;const{t:m}=(0,t.Bd)(),x=(0,i.wA)(),{show:p}=(0,i.d4)((e=>e.coursesManagement)),h=(0,r.zy)(),u=(0,l.useCallback)((()=>{x((0,d.oM)(!p))}),[p]);return(0,o.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,o.jsx)("div",{onClick:u,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,o.jsx)(c.Rt,{className:"ml-4"})}),(0,o.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,o.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,o.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,o.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:m(null!==s&&void 0!==s?s:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(h.pathname))}),(0,o.jsx)(n.A,{})]}),a&&(0,o.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},41709:(e,a,s)=>{s.d(a,{A:()=>c});s(65043);var l=s(41290),t=s(33556),r=s(42145),n=s(70579);const c=function(e){var a;let{rejectedUserPopup:s,rejectedUsersData:c,oncancel:i}=e;return(0,n.jsx)(n.Fragment,{children:s&&(0,n.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(s?"":"hidden"),children:(0,n.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(s?"":"opacity-0 transform -translate-y-full scale-150 "," transition-all duration-300 "),children:(0,n.jsx)("div",{className:"w-full mx-5 sm:max-w-[1200px]",children:(0,n.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,n.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:"Uploaded Employee Details"}),(0,n.jsx)(l.A,{onClick:()=>i(),label:"",title:"Close",children:(0,n.jsx)("span",{className:"text-xl-22",children:(0,n.jsx)(t.YY,{className:"text-error"})})})]}),(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-3 p-5 md:gap-10",children:[(0,n.jsxs)("p",{className:"font-bold max-md:px-5",children:["Total User: ",(0,n.jsx)("span",{className:"font-regular",children:c.totalCount})]}),(0,n.jsxs)("p",{className:"font-bold text-success max-md:px-5",children:["Success User: ",(0,n.jsx)("span",{className:"font-regular",children:c.successCount})]}),(0,n.jsxs)("p",{className:"font-bold text-error max-md:px-5",children:["Rejected User: ",(0,n.jsx)("span",{className:"font-regular",children:c.rejectCount})]})]}),(0,n.jsx)("div",{className:"flex items-center justify-between px-5",children:(0,n.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:"Rejected Employee List"})}),(0,n.jsx)("div",{className:"w-full p-5 max-h-[calc(100vh-260px)] overflow-auto",children:(0,n.jsx)("div",{className:"overflow-auto custom-dataTable",children:(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:null===r.Np||void 0===r.Np?void 0:r.Np.map(((e,a)=>(0,n.jsx)("th",{scope:"col",className:"whitespace-nowrap",children:(0,n.jsx)("div",{className:"flex items-center",children:e.name})},"".concat(a+1))))})}),(0,n.jsx)("tbody",{children:null===(a=c.rejectedUsers)||void 0===a?void 0:a.map(((e,a)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-left pl-7",scope:"row",children:a+1}),(0,n.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.first_name}),(0,n.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.last_name}),(0,n.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.email}),(0,n.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.phone_number}),(0,n.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.role}),(0,n.jsx)("td",{className:"text-left min-w-[300px]",children:null===e||void 0===e?void 0:e.reason})]},null===e||void 0===e?void 0:e.uuid)))})]})})})]})})})})})}},13960:(e,a,s)=>{s.d(a,{gv:()=>i});var l=s(77578),t=s(42145),r=s(64526),n=s(86213);const c=async()=>{const e=await localStorage.getItem("authToken");return e&&await(0,l.A)(e)},i=async e=>{let{files:a,companyId:s,branchId:l,onImportCallBack:n,setRejectedUserPopup:c,setRejectedUsersData:i,employeeType:o}=e;try{if(a){const e=["csv"],m=t.w3,x=Array.from(a).filter((a=>{var s;const l=null===(s=a.name.split(".").pop())||void 0===s?void 0:s.toLowerCase(),t=a.size;return e.includes(l)?!(t>m)||(r.oR.error("Please make sure your file is must be less than 5MB."),!1):(r.oR.error("Invalid file type: ".concat(a.name)),!1)}));x.length>0?await d({companyId:s,branchId:l,onImportCallBack:n,setRejectedUserPopup:c,setRejectedUsersData:i,employeeType:o,validFiles:x}):r.oR.error("Invalid file type Please enter valid attachment")}}catch(m){}},d=async e=>{let{companyId:a,branchId:s,onImportCallBack:l,setRejectedUserPopup:t,setRejectedUsersData:r,validFiles:n,employeeType:c}=e;const i=new FormData;i.append("file",n[0]),i.append("location_id",s),"3"===c?await m({formData:i,onImportCallBack:l,setRejectedUserPopup:t,setRejectedUsersData:r}):(i.append("company_id",a),i.append("type",c||"1"),await o({formData:i,onImportCallBack:l,setRejectedUserPopup:t,setRejectedUsersData:r}))},o=async e=>{let{formData:a,onImportCallBack:s,setRejectedUserPopup:l,setRejectedUsersData:i}=e;try{const e=await c();s(!0),n.A.post("".concat(t.JR,"users/import-csv"),a,{headers:{authorization:"Bearer ".concat(e)}}).then((e=>{var a,t,n,c,d;(s(!1),(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.rejectedUsers)||void 0===n?void 0:n.length)>0)&&(l(!0),i(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data));r.oR.success(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message)})).catch((e=>{s(!1),r.oR.error(null===e||void 0===e?void 0:e.message)}))}catch(d){}},m=async e=>{let{formData:a,onImportCallBack:s,setRejectedUserPopup:l,setRejectedUsersData:i}=e;try{const e=await c();s(!0),n.A.post("".concat(t.JR,"users/import-employee-user-csv"),a,{headers:{authorization:"Bearer ".concat(e)}}).then((e=>{var a,t,n,c,d;(s(!1),(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.rejectedUsers)||void 0===n?void 0:n.length)>0)&&(l(!0),i(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data));r.oR.success(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.message)})).catch((e=>{s(!1),r.oR.error(null===e||void 0===e?void 0:e.message)}))}catch(d){}}}}]);
//# sourceMappingURL=8447.bcc92f24.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[9849],{7648:(e,a,t)=>{t.d(a,{A:()=>x});var s=t(65043),l=t(74117),n=t(73216),r=t(35475),i=t(42145),d=t(79456),o=t(66925),c=t(70579);const m=()=>{var e,a,t;const{t:m}=(0,l.Bd)(),x=(0,n.zy)(),u=new URLSearchParams(x.search).get("uuid"),{id:p}=(0,n.g)(),{userProfileData:h}=(0,d.d4)((e=>e.userProfile)),b=null!==(e=null===h||void 0===h||null===(a=h.getProfile)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.user_type)&&void 0!==e?e:"",v=e=>{var a;let t="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return t=t+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",t})),t}var s;return t=(null===(s=e.split("/")[2][0])||void 0===s?void 0:s.toUpperCase())+e.split("/")[2].slice(1),t},f=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const t=a.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return a=t.join(" "),a}var t;return a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},j=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var t},N=x.pathname.split("/"),g=(0,s.useCallback)((()=>{if((null===N||void 0===N?void 0:N.length)>0){const e=null===N||void 0===N?void 0:N.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))});if(e<5)return""!==N[3]?N[3].length>32?(0,c.jsxs)(c.Fragment,{children:[j(N[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),j(N[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!j(N[3])&&(0,c.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))}),(0,c.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(j(N[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(f(N[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:N[2]&&"".concat(m(f(N[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(x.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:N[3]&&"".concat(m(f(N[3])))})]});if(e<7){let e="";return u?e="?uuid=".concat(u):p&&(e="?uuid=".concat(p)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(N[2]),className:"text-light-grey hover:underline",children:m(f(N[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(N[2],"/").concat(N[3],"/").concat((""!==u||""!==p)&&e),className:"text-light-grey hover:underline",children:m(f(N[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:N[5]&&"".concat(m(f(N[4])))})]})}}}),[N]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(r.k2,{to:(0,o.Go)(b,i.ve.SUPER_ADMIN,"/".concat(i.bw.app,"/").concat(i.bw.dashboard),"/".concat(i.bw.app,"/").concat(i.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:m("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),g()]})})},x=s.memo(m)},75289:(e,a,t)=>{t.d(a,{A:()=>d});var s=t(65043),l=t(74117),n=t(41290),r=t(33556),i=t(70579);const d=e=>{let{onClose:a,action:t,show:d,warningText:o,disabled:c,isLoading:m}=e;const{t:x}=(0,l.Bd)(),[u,p]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{d&&setTimeout((()=>{p(!0)}),100)}),[d]),(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,i.jsxs)("div",{className:"".concat(d?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==o&&"Are you sure want to change status ?"!==o&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,i.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,i.jsxs)("div",{className:"flex items-center ",children:[(0,i.jsx)(r.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,i.jsx)("span",{className:"text-xl font-bold text-baseColor",children:x("Confirmation")})]}),(0,i.jsx)(n.A,{onClick:a,label:"",children:(0,i.jsx)(r.YY,{className:"text-error",fontSize:"14"})})]}),(0,i.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,i.jsx)("p",{children:x(o)})}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,i.jsx)(n.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:t,label:x("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(n.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:a,label:x("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==o&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,i.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,i.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,i.jsx)(r.ZI,{className:"fill-white bg-primary"})}),(0,i.jsx)("h4",{children:x("Confirmation")})]}),(0,i.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:x(o)}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,i.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:t,label:x("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:x("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==o&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(u?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,i.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,i.jsx)("div",{className:"flex justify-center mb-5",children:(0,i.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,i.jsx)(r.Vl,{className:"stroke-2 fill-white"})})}),(0,i.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:x(o)}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,i.jsx)(n.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:t,label:x("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(n.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:x("No"),title:"No"})]})]})})})]})]})}},62500:(e,a,t)=>{t.d(a,{A:()=>i});var s=t(65043),l=t(41290),n=t(33556),r=t(70579);const i=e=>{let{data:a,setObj:t,setIsDelete:i,className:d,customClick:o}=e;const c=(0,s.useCallback)((()=>{t(a),!o&&i(!0),o&&o(a)}),[]);return(0,r.jsx)(l.A,{className:"bg-transparent cursor-pointer btn-default btn-icon ".concat(d),onClick:c,label:"",title:"Delete",children:(0,r.jsx)(n.lM,{className:"fill-error"})})}},81410:(e,a,t)=>{t.d(a,{A:()=>l});t(65043);var s=t(70579);const l=function(){return(0,s.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,a,t)=>{t.d(a,{A:()=>m});var s=t(65043),l=t(74117),n=t(73216),r=t(7648),i=t(33556),d=t(79456),o=t(75214),c=t(70579);const m=e=>{let{headerActionConst:a,headerTitle:t}=e;const{t:m}=(0,l.Bd)(),x=(0,d.wA)(),{show:u}=(0,d.d4)((e=>e.coursesManagement)),p=(0,n.zy)(),h=(0,s.useCallback)((()=>{x((0,o.oM)(!u))}),[u]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(i.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:m(null!==t&&void 0!==t?t:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(p.pathname))}),(0,c.jsx)(r.A,{})]}),a&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},70153:(e,a,t)=>{t.d(a,{H2:()=>d,Kn:()=>o,Pl:()=>c});var s,l,n,r=t(57528),i=t(70459);const d=(0,i.J1)(s||(s=(0,r.A)(["\n  mutation CreateWasteAuditReport($wasteAuditData: CreateWasteAuditReport!) {\n    createWasteAuditReport(wasteAuditData: $wasteAuditData) {\n      message\n      data {\n        uuid\n        title\n        date\n        attachment\n        waste_audit_highlights {\n          uuid\n          highlight\n        }\n        performance_current\n        performance_potential\n        performance_capture_rate\n        status\n      }\n    }\n  }\n"]))),o=(0,i.J1)(l||(l=(0,r.A)(["\n  mutation DeleteWasteAuditReport($reportId: String!) {\n    deleteWasteAuditReport(reportId: $reportId) {\n      message\n    }\n  }\n"]))),c=(0,i.J1)(n||(n=(0,r.A)(["\n  mutation CreateWasteAuditReportRequest($wasteAuditData: WasteAuditReportRequestDto!) {\n    createWasteAuditReportRequest(wasteAuditData: $wasteAuditData) {\n      message\n    }\n  }\n"])))},99849:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var s,l,n=t(65043),r=t(41290),i=t(8848),d=t(12209),o=t(33556),c=t(74117),m=t(57528),x=t(70459);const u=(0,x.J1)(s||(s=(0,m.A)(["\n  query GetWasteAuditReportWithPagination($filterData: WasteAuditReportListDto!) {\n    getWasteAuditReportWithPagination(filterData: $filterData) {\n      message\n      data {\n        reports {\n          uuid\n          title\n          date\n          attachment\n          waste_audit_highlights {\n            uuid\n            highlight\n          }\n          performance_current\n          performance_potential\n          performance_capture_rate\n          status\n        }\n        count\n      }\n    }\n  }\n"]))),p=(0,x.J1)(l||(l=(0,m.A)(["\n  query GetTenantsContractorsCompanies($companyType: Float!) {\n    getTenantsContractorsCompanies(company_type: $companyType) {\n      message\n      data {\n        name\n        status\n        type\n        uuid\n        website_url\n        description\n        attachments\n      }\n    }\n  }\n"])));var h=t(31881),b=t(88250),v=t(77654),f=t(42145),j=t(32254),N=t(64526),g=t(70153),w=t(75289),y=t(63516),C=t(31899),A=t.n(C),k=(t(25015),t(5937)),I=t(12352),R=t(86178),S=t.n(R),D=t(79456),_=t(62500),W=t(81410),P=t(70579);const E=function(){var e,a,t,s,l,m,x,C,R,E,F;const{t:M}=(0,c.Bd)(),Y=[{name:M("Sr.No"),sortable:!1},{name:M("Title And Highlights"),sortable:!0,fieldName:M("title")},{name:M("Date"),sortable:!0,fieldName:M("date")}],[T,U]=(0,n.useState)({sortOrder:"descend",sortField:"createdAt",limit:10,page:1,index:0}),[O,q]=(0,n.useState)(!1),{requestReportSchema:L}=(0,I.A)(),[z,B]=(0,n.useState)([]),[$,J]=(0,n.useState)([]),[H]=(0,h.n)(g.Pl),[V,G]=(0,n.useState)(!1),[K,Z]=(0,h.n)(g.Kn),{data:Q,refetch:X,loading:ee}=(0,b.I)(u,{variables:{filterData:{sortOrder:"descend",sortField:"createdAt",limit:10,page:1}}}),{data:ae}=(0,b.I)(p,{variables:{companyType:2}}),[te,se]=(0,n.useState)(be()),[le,ne]=(0,n.useState)(!1),[re,ie]=(0,n.useState)(!1),[de,oe]=(0,n.useState)(null),[ce,me]=(0,n.useState)(T.limit),xe=(null===Q||void 0===Q||null===(e=Q.getWasteAuditReportWithPagination)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count)||0,ue=Math.ceil(xe/ce),[pe,he]=(0,n.useState)({});function be(){return{width:window.innerWidth,height:window.innerHeight}}const ve={branchId:"",companyId:"",selectedDate:new Date},fe=(0,y.Wx)({initialValues:ve,validationSchema:L,onSubmit:e=>{H({variables:{wasteAuditData:{branch_id:null===e||void 0===e?void 0:e.branchId,company_id:null===e||void 0===e?void 0:e.companyId,date:S()(null===e||void 0===e?void 0:e.selectedDate).format("MM/YYYY")}}}).then((e=>{const a=e.data.createWasteAuditReportRequest;N.oR.success(null===a||void 0===a?void 0:a.message),q(!1),fe.resetForm()})).catch((e=>{var a,t,s,l;N.oR.error(null===e||void 0===e||null===(a=e.networkError)||void 0===a||null===(t=a.result)||void 0===t||null===(s=t.errors)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.message)}))}}),{data:je}=(0,b.I)(k.B,{variables:{companyId:fe.values.companyId},skip:!fe.values.companyId});(0,n.useEffect)((()=>{if(null!==je&&void 0!==je&&je.subscriberLocations){var e,a;const t=[];null===je||void 0===je||null===(e=je.subscriberLocations)||void 0===e||null===(a=e.data)||void 0===a||a.map((e=>{t.push({name:e.location,key:null===e||void 0===e?void 0:e.uuid})})),B(t)}}),[je]),(0,n.useEffect)((()=>{var e;if(null!==ae&&void 0!==ae&&null!==(e=ae.getTenantsContractorsCompanies)&&void 0!==e&&e.data){var a,t;const e=[];null===ae||void 0===ae||null===(a=ae.getTenantsContractorsCompanies)||void 0===a||null===(t=a.data)||void 0===t||t.map((a=>{e.push({name:a.name,key:null===a||void 0===a?void 0:a.uuid})})),J(e)}}),[ae]);const Ne=(0,n.useCallback)((e=>{const a=e.target.value,[t,s]=a.split(":");U({...T,sortField:t,sortOrder:s})}),[T]);(0,n.useEffect)((()=>{const{index:e,...a}=T;X({filterData:a}).catch((e=>N.oR.error(e)))}),[T]),(0,n.useEffect)((()=>{const e=()=>{se(be())};return(()=>{const e=te.width<768;ne(e)})(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[te]);const ge=(0,n.useCallback)((()=>{q(!0)}),[]),we=(0,n.useCallback)((()=>{ie(!re)}),[]),{userProfileData:ye}=(0,D.d4)((e=>e.userProfile)),Ce=null!==(t=null===ye||void 0===ye||null===(s=ye.getProfile)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.user_type)&&void 0!==t?t:"",Ae=(0,n.useCallback)((()=>(0,P.jsxs)(P.Fragment,{children:[!le&&(0,P.jsxs)("div",{className:"flex items-center w-full gap-3 ml-3 max-md:flex-wrap xmd:w-auto md:ml-0",children:[(0,P.jsx)("span",{className:"leading-5.5 w-full md:w-auto whitespace-nowrap",children:"Sort By"}),(0,P.jsx)("div",{className:"w-full xmd:w-[150px]",children:(0,P.jsx)(i.A,{className:"w-full -mt-2",label:"",name:"appInvoice",onChange:Ne,value:T.sortField+":"+T.sortOrder,error:"",options:f.mH,id:"appInvoice"})})]}),(Ce===f.ve.SUBSCRIBER_EMPLOYEE||Ce===f.ve.SUBSCRIBER_ADMIN)&&(0,P.jsx)(r.A,{className:"btn btn-secondary btn-normal whitespace-nowrap xmd:w-[160px] ml-3 md:ml-0",type:"button",label:M("+ New Request"),onClick:ge}),le&&(0,P.jsx)(r.A,{className:"btn ".concat(re?"btn-primary":"border-primary border btn-secondary"," w-10 ml-auto mr-2 md:w-[50px]"),type:"submit",label:"",onClick:we,children:(0,P.jsx)(o.Jh,{className:"order-2",fontSize:"17"})})]})),[T,Ce]);(0,n.useEffect)((()=>{me(T.limit)}),[T.limit]);const ke=(0,n.useCallback)((e=>{U({...T,sortField:e,sortOrder:"ascend"===T.sortOrder?"descend":"ascend"})}),[T]),Ie=(0,n.useCallback)((e=>{const a={...T,page:e,index:(e-1)*T.limit};U(a),j.A.saveState("filterValueWasteAudit",JSON.stringify(a))}),[T.limit]),Re=(0,n.useCallback)((()=>{G(!1)}),[]),Se=(0,n.useCallback)((()=>{K({variables:{reportId:null===pe||void 0===pe?void 0:pe.uuid}}).then((e=>{var a;const t=e.data;N.oR.success(null===t||void 0===t||null===(a=t.deleteWasteAudit)||void 0===a?void 0:a.message),X(),G(!1)})).catch((e=>{N.oR.error(e.networkError.result.errors[0].message),G(!1)}))}),[pe]),De=(0,n.useCallback)((async e=>{const a=await(0,f.Do)(e);fetch(a).then((a=>{a.blob().then((a=>{const t=window.URL.createObjectURL(a),s=document.createElement("a");s.href=t,s.download=e,s.click()}))}))}),[]),_e=(0,n.useCallback)((()=>{q(!1),fe.resetForm()}),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.A,{headerActionConst:Ae,headerTitle:"Waste Audit Reports"}),(ee||(null===Z||void 0===Z?void 0:Z.loading))&&(0,P.jsx)(W.A,{}),(0,P.jsx)("div",{children:(0,P.jsx)("div",{className:"w-full mb-3 overflow-auto bg-white border rounded-xl rounded-t-xl border-border-primary",children:(0,P.jsxs)("div",{className:"w-full mb-3 overflow-auto sm:w-auto custom-dataTable audit-table",children:[(0,P.jsxs)("table",{children:[(0,P.jsx)("thead",{children:(0,P.jsxs)("tr",{children:[null===Y||void 0===Y?void 0:Y.map((e=>(0,P.jsx)("th",{scope:"col",children:(0,P.jsxs)("div",{className:"flex items-center",children:[e.name,e.sortable&&(0,P.jsxs)("button",{onClick:()=>ke(e.fieldName),title:"",children:[(""===T.sortOrder||T.sortField!==e.fieldName)&&(0,P.jsx)(o.xs,{className:"fill-white"}),"ascend"===T.sortOrder&&T.sortField===e.fieldName&&(0,P.jsx)(o.xD,{className:"ml-1 fill-white"}),"descend"===T.sortOrder&&T.sortField===e.fieldName&&(0,P.jsx)(o.xR,{className:"ml-1 fill-white"})]})]})},e.name))),(0,P.jsx)("th",{scope:"col",children:(0,P.jsx)("div",{className:"flex items-center",children:M("Action")})})]})}),(0,P.jsx)("tbody",{className:"border border-solid border-border-primary text-baseColor",children:null===Q||void 0===Q||null===(m=Q.getWasteAuditReportWithPagination)||void 0===m||null===(x=m.data)||void 0===x||null===(C=x.reports)||void 0===C?void 0:C.map(((e,a)=>{var t;const s=(null===T||void 0===T?void 0:T.index)+a+1;return(0,P.jsxs)("tr",{className:"h-[60px] text-base cursor-pointer bg-accents-2",children:[(0,P.jsx)("td",{className:"text-left ".concat(de===a?"align-top":""),children:s}),(0,P.jsxs)("td",{className:"text-left font-bold ".concat(de===a?"align-top":""),children:[(0,P.jsx)("p",{className:"".concat(de===a&&"mb-5"),children:M(null===e||void 0===e?void 0:e.title)}),(0,P.jsxs)("div",{className:"".concat(de===a?"mb-2 flex gap-5 2xl:gap-[30px] flex-wrap":"h-0 hidden"),children:[(0,P.jsxs)("div",{className:"p-5 border border-solid border-border-primary rounded-xl bg-light-blue",children:[(0,P.jsx)("p",{className:"mb-3 font-semibold",children:"Top Three Recyclable Materials in the Garbage"}),(0,P.jsx)("ul",{className:"font-normal list-disc list-inside",children:null===e||void 0===e||null===(t=e.waste_audit_highlights)||void 0===t?void 0:t.map((e=>(0,P.jsx)("li",{className:"text-sm leading-6",children:null===e||void 0===e?void 0:e.highlight},null===e||void 0===e?void 0:e.uuid)))})]}),(0,P.jsxs)("div",{className:"p-5 border border-solid border-border-primary rounded-xl bg-light-blue",children:[(0,P.jsx)("p",{className:"mb-3 font-semibold",children:"Waste Diversion Performance"}),(0,P.jsxs)("div",{className:"flex justify-center",children:[(0,P.jsxs)("div",{className:"border-r px-[30px] flex justify-center flex-col items-center ",children:[(0,P.jsx)("p",{className:"font-normal text-sm mb-2.5",children:"Current"}),(0,P.jsxs)("span",{className:"text-4xl text-primary leading-11",children:[null===e||void 0===e?void 0:e.performance_current,"%"]})]}),(0,P.jsxs)("div",{className:"border-r px-[30px] flex justify-center flex-col items-center",children:[(0,P.jsx)("p",{className:"font-normal text-sm mb-2.5",children:"Potential"}),(0,P.jsxs)("span",{className:"text-4xl text-primary leading-11",children:[null===e||void 0===e?void 0:e.performance_potential,"%"]})]}),(0,P.jsxs)("div",{className:"px-[30px] flex justify-center flex-col items-center",children:[(0,P.jsx)("p",{className:"text-sm font-normal whitespace-nowrap",children:"Capture Rate"}),(0,P.jsxs)("span",{className:"text-4xl text-primary leading-11",children:[null===e||void 0===e?void 0:e.performance_capture_rate,"%"]})]})]})]})]})]}),(0,P.jsx)("td",{className:"text-left ".concat(de===a?"align-top":""),children:null===e||void 0===e?void 0:e.date}),(0,P.jsx)("td",{className:"text-left ".concat(de===a?"align-top":""," "),children:(0,P.jsxs)("div",{className:"flex items-center text-primary ",children:[(0,P.jsxs)("button",{className:"flex items-center gap-1 underline",type:"button",onClick:()=>De(e.attachment),children:[(0,P.jsx)(o.f5,{}),M("Download")]}),(0,P.jsx)(_.A,{className:"ml-2",data:e,setObj:he,setIsDelete:G}),(0,P.jsx)("button",{onClick:()=>(e=>{oe(de===e?null:e)})(a),className:"flex cursor-pointer items-center justify-center ".concat(de===a?"rotate-180 ml-3":"ml-3"),title:"",children:(0,P.jsx)(o.jN,{})})]})})]},null===e||void 0===e?void 0:e.uuid)}))})]}),0===(null===Q||void 0===Q||null===(R=Q.getWasteAuditReportWithPagination)||void 0===R||null===(E=R.data)||void 0===E?void 0:E.count)&&(0,P.jsx)("div",{className:"flex justify-center",children:(0,P.jsx)("div",{children:"No Data"})})]})})}),(0,P.jsxs)("div",{className:"flex flex-wrap items-center gap-2 px-5 mt-2 md:gap-5 text-slate-700",children:[(0,P.jsxs)("div",{className:"flex items-center",children:[(0,P.jsx)("span",{className:"mr-2 text-sm whitespace-nowrap",children:M("Per Page")}),(0,P.jsx)("select",{value:T.limit,className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",onChange:e=>(e=>{const a=Number(e),t={...T,limit:a,page:1,index:0};U(t),j.A.saveState("filterValueWasteAudit",JSON.stringify(t))})(e.target.value),children:null===f.aj||void 0===f.aj?void 0:f.aj.map((e=>(0,P.jsx)("option",{children:e},e)))})]}),(0,P.jsx)("div",{children:(0,P.jsx)(v.A,{currentPage:T.page,totalPages:ue,onPageChange:Ie,recordsPerPage:ce})})]}),V&&(0,P.jsx)(w.A,{warningText:f.jl,onClose:Re,action:Se,show:V}),O&&(0,P.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(O?"":"hidden"),children:(0,P.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,P.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,P.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,P.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:M("Request Report")}),(0,P.jsx)(r.A,{onClick:_e,label:M(""),title:"".concat(M("Close")),children:(0,P.jsx)("span",{className:"text-xl-22",children:(0,P.jsx)(o.YY,{className:"text-error"})})})]}),(0,P.jsx)("div",{className:"w-full",children:(0,P.jsxs)("form",{children:[(0,P.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] flex justify-between overflow-auto flex-wrap",children:[(0,P.jsxs)("div",{className:"mb-5 sm:w-[calc(50%-10px)] sm:inline-block request-report",children:[(0,P.jsxs)("label",{children:["Select Date",(0,P.jsx)("span",{className:"text-error",children:" *"})]}),(0,P.jsx)(A(),{selected:fe.values.selectedDate,onChange:e=>(e=>{fe.setFieldValue("selectedDate",e)})(e),dateFormat:"MM/yyyy",showMonthYearPicker:!0,placeholderText:"MM/YYYY",className:"customInput",maxDate:new Date})]}),(0,P.jsx)("div",{className:"mb-5 sm:w-[calc(50%-20px)] sm:inline-block",children:(0,P.jsx)(i.A,{placeholder:M("Select Contractor Company"),className:"w-full",label:M("Contractor Company"),inputIcon:(0,P.jsx)("span",{className:"text-xs",children:(0,P.jsx)(o.jN,{className:"fill-dark-grey"})}),onChange:fe.handleChange,value:fe.values.companyId,options:$,name:"companyId",id:"companyId",error:fe.errors.companyId&&fe.touched.companyId?fe.errors.companyId:"",required:!0})}),(null===fe||void 0===fe||null===(F=fe.values)||void 0===F?void 0:F.companyId)&&(0,P.jsx)("div",{className:"mb-5 sm:w-[calc(50%-10px)] sm:inline-block",children:(0,P.jsx)(i.A,{placeholder:M("Select Location"),className:"w-full",label:M("Location"),inputIcon:(0,P.jsx)("span",{className:"text-xs",children:(0,P.jsx)(o.jN,{className:"fill-dark-grey"})}),onChange:fe.handleChange,value:fe.values.branchId,options:z,name:"branchId",id:"branchId",error:fe.errors.branchId&&fe.touched.branchId?fe.errors.branchId:"",required:!0})})]}),(0,P.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,P.jsx)(r.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",type:"button",label:M("Schedule"),onClick:fe.handleSubmit,title:"".concat(M("Schedule"))})})]})})]})})})})]})}}}]);
//# sourceMappingURL=9849.8ce06314.chunk.js.map
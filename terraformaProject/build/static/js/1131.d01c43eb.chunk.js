"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[1131],{7648:(e,a,l)=>{l.d(a,{A:()=>u});var t=l(65043),i=l(74117),s=l(73216),r=l(35475),n=l(42145),d=l(79456),o=l(66925),c=l(70579);const m=()=>{var e,a,l;const{t:m}=(0,i.Bd)(),u=(0,s.zy)(),x=new URLSearchParams(u.search).get("uuid"),{id:v}=(0,s.g)(),{userProfileData:h}=(0,d.d4)((e=>e.userProfile)),p=null!==(e=null===h||void 0===h||null===(a=h.getProfile)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.user_type)&&void 0!==e?e:"",b=e=>{var a;let l="";if(null!==(a=e.split("/")[2])&&void 0!==a&&a.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var a;return l=l+(null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+e.slice(1)+" ",l})),l}var t;return l=(null===(t=e.split("/")[2][0])||void 0===t?void 0:t.toUpperCase())+e.split("/")[2].slice(1),l},g=e=>{let a="";if(null!==e&&void 0!==e&&e.includes("-")){a=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const l=a.split(" ");for(let e=0;e<l.length;e++)l[e]=l[e][0].toUpperCase()+l[e].substring(1);return a=l.join(" "),a}var l;return a=(null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",a},j=e=>{let a="";return null!==e&&void 0!==e&&e.includes("-")||(a=(null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),a;var l},f=u.pathname.split("/"),w=(0,t.useCallback)((()=>{if((null===f||void 0===f?void 0:f.length)>0){const e=null===f||void 0===f?void 0:f.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(m(g(f[2])))});if(e<5)return""!==f[3]?f[3].length>32?(0,c.jsxs)(c.Fragment,{children:[j(f[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(n.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(m(b(u.pathname)))})}),j(f[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!j(f[3])&&(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(m(g(f[2])))}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(m(j(f[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(n.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(m(b(u.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(m(g(f[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:f[2]&&"".concat(m(g(f[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(n.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:"".concat(m(b(u.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[3]&&"".concat(m(g(f[3])))})]});if(e<7){let e="";return x?e="?uuid=".concat(x):v&&(e="?uuid=".concat(v)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(n.bw.app,"/").concat(f[2]),className:"text-light-grey hover:underline",children:m(g(f[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(n.bw.app,"/").concat(f[2],"/").concat(f[3],"/").concat((""!==x||""!==v)&&e),className:"text-light-grey hover:underline",children:m(g(f[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:f[5]&&"".concat(m(g(f[4])))})]})}}}),[f]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(r.k2,{to:(0,o.Go)(p,n.ve.SUPER_ADMIN,"/".concat(n.bw.app,"/").concat(n.bw.dashboard),"/".concat(n.bw.app,"/").concat(n.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:m("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),w()]})})},u=t.memo(m)},38133:(e,a,l)=>{l.d(a,{A:()=>r});l(65043);var t=l(41290),i=l(33556),s=l(70579);const r=e=>{let{data:a,onClick:l,className:r,setData:n}=e;return(0,s.jsx)(t.A,{className:"bg-transparent btn-default ".concat(r),onClick:()=>{l(null===a||void 0===a?void 0:a.uuid),n&&n(a)},label:"",title:"Edit",children:(0,s.jsx)(i.ff,{})})}},75289:(e,a,l)=>{l.d(a,{A:()=>d});var t=l(65043),i=l(74117),s=l(41290),r=l(33556),n=l(70579);const d=e=>{let{onClose:a,action:l,show:d,warningText:o,disabled:c,isLoading:m}=e;const{t:u}=(0,i.Bd)(),[x,v]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{d&&setTimeout((()=>{v(!0)}),100)}),[d]),(0,n.jsxs)(n.Fragment,{children:[m&&(0,n.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,n.jsxs)("div",{className:"".concat(d?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==o&&"Are you sure want to change status ?"!==o&&(0,n.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(x?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,n.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,n.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,n.jsxs)("div",{className:"flex items-center ",children:[(0,n.jsx)(r.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,n.jsx)("span",{className:"text-xl font-bold text-baseColor",children:u("Confirmation")})]}),(0,n.jsx)(s.A,{onClick:a,label:"",children:(0,n.jsx)(r.YY,{className:"text-error",fontSize:"14"})})]}),(0,n.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,n.jsx)("p",{children:u(o)})}),(0,n.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,n.jsx)(s.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:l,label:u("Yes"),disabled:c,title:"Yes"}),(0,n.jsx)(s.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:a,label:u("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==o&&(0,n.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(x?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,n.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,n.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,n.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,n.jsx)(r.ZI,{className:"fill-white bg-primary"})}),(0,n.jsx)("h4",{children:u("Confirmation")})]}),(0,n.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:u(o)}),(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,n.jsx)(s.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:l,label:u("Yes"),disabled:c,title:"Yes"}),(0,n.jsx)(s.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:u("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==o&&(0,n.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(x?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,n.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,n.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,n.jsx)("div",{className:"flex justify-center mb-5",children:(0,n.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,n.jsx)(r.Vl,{className:"stroke-2 fill-white"})})}),(0,n.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:u(o)}),(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,n.jsx)(s.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:l,label:u("Yes"),disabled:c,title:"Yes"}),(0,n.jsx)(s.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:a,label:u("No"),title:"No"})]})]})})})]})]})}},62500:(e,a,l)=>{l.d(a,{A:()=>n});var t=l(65043),i=l(41290),s=l(33556),r=l(70579);const n=e=>{let{data:a,setObj:l,setIsDelete:n,className:d,customClick:o}=e;const c=(0,t.useCallback)((()=>{l(a),!o&&n(!0),o&&o(a)}),[]);return(0,r.jsx)(i.A,{className:"bg-transparent cursor-pointer btn-default btn-icon ".concat(d),onClick:c,label:"",title:"Delete",children:(0,r.jsx)(s.lM,{className:"fill-error"})})}},12209:(e,a,l)=>{l.d(a,{A:()=>m});var t=l(65043),i=l(74117),s=l(73216),r=l(7648),n=l(33556),d=l(79456),o=l(75214),c=l(70579);const m=e=>{let{headerActionConst:a,headerTitle:l}=e;const{t:m}=(0,i.Bd)(),u=(0,d.wA)(),{show:x}=(0,d.d4)((e=>e.coursesManagement)),v=(0,s.zy)(),h=(0,t.useCallback)((()=>{u((0,o.oM)(!x))}),[x]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(n.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:m(null!==l&&void 0!==l?l:(e=>{let a="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(a=a+e[0].toUpperCase()+e.slice(1)+" ",a))),a}return a=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),a})(v.pathname))}),(0,c.jsx)(r.A,{})]}),a&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(a)return a()})()})]})})]})}},16484:(e,a,l)=>{l.d(a,{HV:()=>c,ci:()=>o,hX:()=>d});var t,i,s,r=l(57528),n=l(70459);const d=(0,n.J1)(t||(t=(0,r.A)(["query GetMaterialsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getMaterialsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        materials {\n          uuid\n          name\n          material_types {\n            uuid\n            type\n            weight\n          }\n        }\n        count\n      }\n    }\n  }"]))),o=(0,n.J1)(i||(i=(0,r.A)(["query GetMaterials {\n    getMaterials {\n      message\n      data {\n        uuid\n        name\n        material_types {\n          uuid\n          type\n          weight\n        }\n      }\n    }\n  }"]))),c=(0,n.J1)(s||(s=(0,r.A)(["query GetMaterialById($materialId: String!) {\n    getMaterialById(materialId: $materialId) {\n      message\n      data {\n        uuid\n        name\n        material_types {\n          uuid\n          type\n          weight\n        }\n        id\n      }\n    }\n  }"])))},81131:(e,a,l)=>{l.r(a),l.d(a,{default:()=>E});var t,i,s,r=l(65043),n=l(88250),d=l(31881),o=l(77654),c=l(41290),m=l(12209),u=l(33556),x=l(34764),v=l(42145),h=l(74117),p=l(64526),b=l(32254),g=l(75812),j=l(63516),f=l(12352),w=l(16484),y=l(57528),N=l(70459);const C=(0,N.J1)(t||(t=(0,y.A)(["mutation CreateMaterial($materialData: CreateMaterialDto!) {\n    createMaterial(materialData: $materialData) {\n      message\n      data {\n        uuid\n        name\n        materialDetails {\n          uuid\n          type\n          weight\n        }\n      }\n    }\n  }"]))),D=(0,N.J1)(i||(i=(0,y.A)(["mutation UpdateMaterial($materialData: UpdateMaterialDto!) {\n  updateMaterial(materialData: $materialData) {\n    message\n  }\n}"]))),k=(0,N.J1)(s||(s=(0,y.A)(["mutation DeleteMaterial($materialId: String!) {\n  deleteMaterial(materialId: $materialId) {\n    message\n  }\n}"])));var A=l(66925),M=l(38133),S=l(75289),_=l(62500),F=l(70579);const E=()=>{var e,a,l,t,i,s,y,N,E,P,U,I,R,$,O,V,W,B,J,Y,T,z,L;const{t:q}=(0,h.Bd)(),G=[{name:q("Sr.No"),sortable:!1},{name:q("Material Category"),sortable:!0,fieldName:"name"},{name:q("Material Type"),sortable:!1,fieldName:"material_types.type"}],[H,X]=(0,r.useState)({limit:v.Wt,page:v.k2,sortOrder:"descend",search:"",sortField:"id",index:0}),{createMaterialValidationSchema:Z}=(0,f.A)(),[K,Q]=(0,r.useState)(!1),[ee,ae]=(0,r.useState)(!1),[le,te]=(0,r.useState)(!1),[ie,se]=(0,r.useState)(),[re,ne]=(0,r.useState)(H.limit),{data:de,refetch:oe}=(0,n.I)(w.hX,{fetchPolicy:"network-only",variables:null!==H&&void 0!==H?H:{limit:v.Wt,page:v.k2,sortOrder:"descend",search:"",sortField:"id"}}),[ce,{loading:me}]=(0,d.n)(C),[ue,{loading:xe}]=(0,d.n)(D),[ve,{loading:he}]=(0,d.n)(k);(0,r.useEffect)((()=>{oe(H).catch((e=>p.oR.error(e.networkError.result.errors[0].message)))}),[H]),(0,r.useEffect)((()=>{ne(null===H||void 0===H?void 0:H.limit)}),[null===H||void 0===H?void 0:H.limit]);const pe=(null===de||void 0===de||null===(e=de.getMaterialsWithPagination)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.count)||0,be=Math.ceil(pe/re),ge=(0,r.useCallback)((e=>{const a={...H,page:e,index:(e-1)*H.limit};X(a),b.A.saveState("filterMaterial",JSON.stringify(a))}),[H.limit]),je=(0,r.useCallback)((e=>{X({...H,search:e.target.value})}),[]),fe=(0,r.useCallback)((()=>{Q(!0),Ne.setFieldValue("type",v.sV.add)}),[]),we=(0,r.useCallback)((()=>{Ne.resetForm(),se(void 0),Q(!1),ae(!1),te(!1)}),[]),ye=(0,r.useCallback)((()=>{g.J.getList("".concat(v.JR,"/export-material-csv")).then((e=>{var a;const l=window.URL.createObjectURL(new Blob([e.data])),t=document.createElement("a");t.href=l,t.setAttribute("download","material-list.csv"),document.body.appendChild(t),t.click(),p.oR.success(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)})).catch((e=>{p.oR.error(e.message)}))}),[]),Ne=(0,j.Wx)({initialValues:{type:"",materialData:{name:"",materialDetails:[{uuid:"",type:"",weight:0}],delete_material_id:[]}},validationSchema:Z,onSubmit:e=>{var a,l,t;(null===e||void 0===e?void 0:e.type)===v.sV.add&&ce({variables:{materialData:{name:null===e||void 0===e||null===(a=e.materialData)||void 0===a?void 0:a.name,materialDetails:e.materialData.materialDetails.map((e=>({type:null===e||void 0===e?void 0:e.type,weight:+(null===e||void 0===e?void 0:e.weight)})))}}}).then((e=>{var a,l;p.oR.success(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(l=a.createMaterial)||void 0===l?void 0:l.message),we(),oe(H).catch((e=>p.oR.error(e.networkError.result.errors[0].message)))})).catch((e=>p.oR.error(e.networkError.result.errors[0].message)));(null===e||void 0===e?void 0:e.type)===v.sV.edit&&ue({variables:{materialData:{material_id:null===ie||void 0===ie?void 0:ie.uuid,name:null===e||void 0===e||null===(l=e.materialData)||void 0===l?void 0:l.name,materialDetails:e.materialData.materialDetails.map((e=>{var a;return{uuid:null!==(a=null===e||void 0===e?void 0:e.uuid)&&void 0!==a?a:"",type:null===e||void 0===e?void 0:e.type,weight:+(null===e||void 0===e?void 0:e.weight)}})),delete_material_id:null===e||void 0===e||null===(t=e.materialData)||void 0===t?void 0:t.delete_material_id}}}).then((e=>{var a,l;p.oR.success(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(l=a.updateMaterial)||void 0===l?void 0:l.message),we(),oe(H).catch((e=>p.oR.error(e.networkError.result.errors[0].message)))})).catch((e=>p.oR.error(e.networkError.result.errors[0].message)))}}),Ce=(0,r.useCallback)((()=>{const e=[...Ne.values.materialData.materialDetails,{type:"",weight:0}];Ne.setFieldValue("materialData.materialDetails",e)}),[null===Ne||void 0===Ne||null===(l=Ne.values)||void 0===l?void 0:l.materialData]),De=(e,a)=>{var l,t,i,s;return null===Ne||void 0===Ne||null===(l=Ne.errors)||void 0===l||null===(t=l.materialData)||void 0===t||null===(i=t.materialDetails)||void 0===i||null===(s=i["".concat(e)])||void 0===s?void 0:s[a]},ke=(e,a)=>{var l,t,i,s;return null===Ne||void 0===Ne||null===(l=Ne.touched)||void 0===l||null===(t=l.materialData)||void 0===t||null===(i=t.materialDetails)||void 0===i||null===(s=i["".concat(e)])||void 0===s?void 0:s[a]},Ae=(0,r.useCallback)((e=>{Ne.setFieldValue(e.target.name,(0,A.AW)(e))}),[]),Me=(0,r.useCallback)((e=>{var a,l,t,i;const s=null!==(a=null===(l=Ne.values.materialData)||void 0===l?void 0:l.delete_material_id)&&void 0!==a?a:[],r=[],n=null===Ne||void 0===Ne||null===(t=Ne.values)||void 0===t||null===(i=t.materialData.materialDetails)||void 0===i?void 0:i.filter(((a,l)=>{if(l===e&&null!==a&&void 0!==a&&a.uuid&&r.push(null===a||void 0===a?void 0:a.uuid),l!==e)return a}));n&&(Ne.setFieldValue("materialData.delete_material_id",[...s,...r]),Ne.setFieldValue("materialData.materialDetails",n))}),[null===Ne||void 0===Ne||null===(t=Ne.values)||void 0===t?void 0:t.materialData]),Se=(0,r.useCallback)((()=>{ae(!0)}),[]),_e=(0,r.useCallback)((()=>{var e,a;ie&&Ne.setValues({type:v.sV.edit,materialData:{name:null===ie||void 0===ie?void 0:ie.name,materialDetails:null===ie||void 0===ie?void 0:ie.material_types,delete_material_id:null===Ne||void 0===Ne||null===(e=Ne.values)||void 0===e||null===(a=e.materialData)||void 0===a?void 0:a.delete_material_id}});ae(!1),Q(!0)}),[ie]),Fe=(0,r.useCallback)((()=>{te(!0)}),[]),Ee=(0,r.useCallback)((()=>{null!==ie&&void 0!==ie&&ie.uuid&&ve({variables:{materialId:null===ie||void 0===ie?void 0:ie.uuid}}).then((e=>{var a,l;p.oR.success(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(l=a.deleteMaterial)||void 0===l?void 0:l.message),oe(H).catch((e=>p.oR.error(e.networkError.result.errors[0].message))),te(!1)})).catch((e=>p.oR.error(e.networkError.result.errors[0].message)))}),[ie]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(m.A,{headerActionConst:()=>(0,F.jsx)(c.A,{className:"btn-normal btn-secondary w-full md:w-[140px] whitespace-nowrap lg:h-[50px]",type:"button",onClick:fe,label:q("Add New")})}),(0,F.jsxs)("div",{className:"mb-3 bg-white rounded-xl overflow-auto border border-[#c8ced3] mx-7 p-3 md:p-5",children:[(0,F.jsxs)("div",{className:"flex flex-col justify-between gap-3 mb-3 md:gap-5 md:mb-5 btn-group md:flex-row",children:[(0,F.jsx)("h6",{className:"w-full leading-7 xmd:w-auto",children:q("Material List")}),(0,F.jsxs)("div",{className:"w-full flex flex-wrap gap-y-3 gap-x-4 2xl:gap-5 md:w-auto",children:[(0,F.jsx)(x.A,{type:"text",id:"table-search",value:H.search,placeholder:q("Search"),onChange:je,inputIcon:(0,F.jsx)(u.vj,{fontSize:"18",className:"font-normal"})}),(0,F.jsxs)("button",{className:"w-full btn btn-gray sm:w-[260px] p-3.5",onClick:()=>ye(),title:"".concat(q("Export")),children:[q("Export Material List"),"  ",(0,F.jsx)(u.OP,{className:"order-2 ml-auto"})]})]})]}),(0,F.jsxs)("div",{className:"w-full mb-3 overflow-auto bg-white border sm:w-auto rounded-t-xl custom-dataTable border-border-primary",children:[(0,F.jsxs)("table",{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[null===G||void 0===G?void 0:G.map((e=>(0,F.jsx)("th",{scope:"col",children:(0,F.jsxs)("div",{className:"flex ".concat(["name"].includes(e.fieldName)?"justify-start":"justify-center"),children:[e.name,e.sortable&&(0,F.jsxs)("button",{onClick:()=>{return a=e.fieldName,void X({...H,sortField:a,sortOrder:"ascend"===H.sortOrder?"descend":"ascend"});var a},children:[(""===H.sortOrder||H.sortField!==e.fieldName)&&(0,F.jsx)(u.xs,{className:"w-3 h-3 ml-1 fill-white"}),"ascend"===H.sortOrder&&H.sortField===e.fieldName&&(0,F.jsx)(u.xD,{className:"ml-1 fill-white"}),"descend"===H.sortOrder&&H.sortField===e.fieldName&&(0,F.jsx)(u.xR,{className:"ml-1 fill-white"})]})]})},e.fieldName))),(0,F.jsx)("th",{children:(0,F.jsx)("div",{className:"flex justify-center items-center",children:q("Action")})})]})},"sorting"),(0,F.jsx)("tbody",{children:null===de||void 0===de||null===(i=de.getMaterialsWithPagination)||void 0===i||null===(s=i.data)||void 0===s||null===(y=s.materials)||void 0===y?void 0:y.map(((e,a)=>{var l;const t=(null===H||void 0===H?void 0:H.index)+a+1;return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{scope:"row",className:"text-center",children:t}),(0,F.jsx)("td",{className:"text-start",children:e.name}),(0,F.jsx)("td",{className:"text-center",children:null===e||void 0===e||null===(l=e.material_types)||void 0===l?void 0:l.map(((a,l)=>{var t;return(0,F.jsxs)("span",{children:[null===a||void 0===a?void 0:a.type,"\xa0","(".concat(null===a||void 0===a?void 0:a.weight,")"),(null===e||void 0===e||null===(t=e.material_types)||void 0===t?void 0:t.length)-1!==l&&",","\xa0"]},null===a||void 0===a?void 0:a.uuid)}))}),(0,F.jsx)("td",{children:(0,F.jsxs)("div",{className:"btn-group",children:[(0,F.jsx)(M.A,{data:e,setData:se,onClick:()=>Se()}),(0,F.jsx)(_.A,{data:e,setObj:se,customClick:Fe})]})})]},e.uuid)}))})]}),(0===(null===de||void 0===de||null===(N=de.getMaterialsWithPagination)||void 0===N||null===(E=N.data)||void 0===E?void 0:E.count)||null===(null===de||void 0===de||null===(P=de.getMaterialsWithPagination)||void 0===P?void 0:P.data))&&(0,F.jsx)("div",{className:"flex justify-center",children:(0,F.jsx)("div",{children:q("No Data")})})]}),(0,F.jsxs)("div",{className:"flex flex-wrap items-center mt-2",children:[(0,F.jsxs)("div",{className:"flex items-center mr-3 md:mr-7",children:[(0,F.jsx)("span",{className:"text-sm font-normal text-gray-700 whitespace-nowrap ",children:q("Per Page")}),(0,F.jsx)("select",{value:H.limit,className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",onChange:e=>(e=>{const a=Number(e),l={...H,limit:a,page:v.k2,index:0};X(l),b.A.saveState("filterMaterial",JSON.stringify(l))})(e.target.value),children:null===v.aj||void 0===v.aj?void 0:v.aj.map((e=>(0,F.jsx)("option",{children:e},e)))})]}),(0,F.jsx)(o.A,{currentPage:H.page,totalPages:be,onPageChange:ge,recordsPerPage:re})]}),K&&(0,F.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(K?"":"hidden"),children:(0,F.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,F.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,F.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,F.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,F.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:(null===Ne||void 0===Ne||null===(U=Ne.values)||void 0===U?void 0:U.type)===v.sV.edit?"Edit Material":"Add New Material"}),(0,F.jsx)(c.A,{onClick:()=>we(),label:q(""),title:"".concat(q("Close")),children:(0,F.jsx)("span",{className:"text-xl-22",children:(0,F.jsx)(u.YY,{className:"text-error"})})})]}),(0,F.jsx)("div",{className:"w-full",children:(0,F.jsxs)("form",{onSubmit:Ne.handleSubmit,children:[(0,F.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,F.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,F.jsx)(x.A,{type:"text",id:"MaterialName",name:"materialData.name",label:q("Material Category"),value:null===Ne||void 0===Ne||null===(I=Ne.values)||void 0===I||null===(R=I.materialData)||void 0===R?void 0:R.name,placeholder:q("Material Category"),onChange:Ne.handleChange,required:!0,onBlur:Ae,error:(null===Ne||void 0===Ne||null===($=Ne.errors)||void 0===$||null===(O=$.materialData)||void 0===O?void 0:O.name)&&(null===Ne||void 0===Ne||null===(V=Ne.touched)||void 0===V||null===(W=V.materialData)||void 0===W?void 0:W.name)&&(null===Ne||void 0===Ne||null===(B=Ne.errors)||void 0===B||null===(J=B.materialData)||void 0===J?void 0:J.name)})}),null===Ne||void 0===Ne||null===(Y=Ne.values)||void 0===Y||null===(T=Y.materialData)||void 0===T||null===(z=T.materialDetails)||void 0===z?void 0:z.map(((e,a)=>{var l,t,i,s,r,n,d,o,c,m;const v=a;return(0,F.jsxs)("div",{className:"flex gap-4 col-span-2",children:[(0,F.jsx)("div",{className:"max-sm:mb-3  sm:w-[calc(50%-10px)]",children:(0,F.jsx)(x.A,{name:"materialData.materialDetails[".concat(a,"].type"),type:"text",id:null===e||void 0===e?void 0:e.type,label:q("Material Type"),value:null===Ne||void 0===Ne||null===(l=Ne.values)||void 0===l||null===(t=l.materialData)||void 0===t||null===(i=t.materialDetails["".concat(a)])||void 0===i?void 0:i.type,placeholder:q("Material Type"),onChange:Ne.handleChange,onBlur:Ae,error:De(a,"type")&&ke(a,"type")&&(null===Ne||void 0===Ne||null===(s=Ne.touched)||void 0===s||null===(r=s.materialData)||void 0===r?void 0:r.name)&&De(a,"type"),required:!0})}),(0,F.jsx)("div",{className:"max-sm:mb-3  sm:w-[calc(50%-10px)] col-span-1",children:(0,F.jsx)(x.A,{name:"materialData.materialDetails[".concat(a,"].weight"),type:"text",id:"".concat(null===e||void 0===e?void 0:e.weight),label:q("Weight"),value:null===Ne||void 0===Ne||null===(n=Ne.values)||void 0===n||null===(d=n.materialData)||void 0===d||null===(o=d.materialDetails["".concat(a)])||void 0===o?void 0:o.weight,placeholder:q("Weight"),onChange:Ne.handleChange,onBlur:Ae,error:De(a,"weight")&&ke(a,"weight")&&De(a,"weight"),required:!0})}),(0,F.jsx)("div",{className:"flex mt-3 sm:mt-5 lg:mt-6",children:(0,F.jsx)("button",{type:"button",className:"btn bg-transparent cursor-pointer btn-default",onClick:()=>Me(a),disabled:1===(null===Ne||void 0===Ne||null===(c=Ne.values)||void 0===c||null===(m=c.materialData)||void 0===m?void 0:m.materialDetails.length),children:(0,F.jsx)(u.lM,{className:"fill-error"})})})]},v)})),(0,F.jsx)("div",{className:"col-span-2",children:(0,F.jsx)("button",{className:"btn btn-primary btn-normal w-full md:w-auto min-w-[160px]",type:"button",onClick:Ce,children:q("Add New Material")})})]}),(0,F.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,F.jsx)(c.A,{className:"btn-primary btn-normal w-full md:w-auto min-w-[160px]",type:"submit",label:(null===Ne||void 0===Ne||null===(L=Ne.values)||void 0===L?void 0:L.type)===v.sV.edit?q("Update"):q("Create"),disabled:me,title:"".concat(q("Create"))})})]})})]})})})},"addPopUp"),ee&&(0,F.jsx)(S.A,{warningText:v.Ur,onClose:we,action:_e,show:ee,disabled:xe}),le&&(0,F.jsx)(S.A,{warningText:v.jl,onClose:we,action:Ee,show:le,disabled:he})]})]})}}}]);
//# sourceMappingURL=1131.d01c43eb.chunk.js.map
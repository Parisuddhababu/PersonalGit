"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[4395],{7648:(e,l,a)=>{a.d(l,{A:()=>m});var o=a(65043),t=a(74117),s=a(73216),r=a(35475),i=a(42145),n=a(79456),d=a(66925),c=a(70579);const u=()=>{var e,l,a;const{t:u}=(0,t.Bd)(),m=(0,s.zy)(),v=new URLSearchParams(m.search).get("uuid"),{id:x}=(0,s.g)(),{userProfileData:h}=(0,n.d4)((e=>e.userProfile)),p=null!==(e=null===h||void 0===h||null===(l=h.getProfile)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.user_type)&&void 0!==e?e:"",b=e=>{var l;let a="";if(null!==(l=e.split("/")[2])&&void 0!==l&&l.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var l;return a=a+(null===(l=e[0])||void 0===l?void 0:l.toUpperCase())+e.slice(1)+" ",a})),a}var o;return a=(null===(o=e.split("/")[2][0])||void 0===o?void 0:o.toUpperCase())+e.split("/")[2].slice(1),a},f=e=>{let l="";if(null!==e&&void 0!==e&&e.includes("-")){l=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const a=l.split(" ");for(let e=0;e<a.length;e++)a[e]=a[e][0].toUpperCase()+a[e].substring(1);return l=a.join(" "),l}var a;return l=(null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",l},j=e=>{let l="";return null!==e&&void 0!==e&&e.includes("-")||(l=(null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),l;var a},g=m.pathname.split("/"),C=(0,o.useCallback)((()=>{if((null===g||void 0===g?void 0:g.length)>0){const e=null===g||void 0===g?void 0:g.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(u(f(g[2])))});if(e<5)return""!==g[3]?g[3].length>32?(0,c.jsxs)(c.Fragment,{children:[j(g[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(u(b(m.pathname)))})}),j(g[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!j(g[3])&&(0,c.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(u(f(g[2])))}),(0,c.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(u(j(g[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(u(b(m.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(u(f(g[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:g[2]&&"".concat(u(f(g[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:"".concat(u(b(m.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:g[3]&&"".concat(u(f(g[3])))})]});if(e<7){let e="";return v?e="?uuid=".concat(v):x&&(e="?uuid=".concat(x)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(g[2]),className:"text-light-grey hover:underline",children:u(f(g[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(r.k2,{to:"/".concat(i.bw.app,"/").concat(g[2],"/").concat(g[3],"/").concat((""!==v||""!==x)&&e),className:"text-light-grey hover:underline",children:u(f(g[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:g[5]&&"".concat(u(f(g[4])))})]})}}}),[g]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(r.k2,{to:(0,d.Go)(p,i.ve.SUPER_ADMIN,"/".concat(i.bw.app,"/").concat(i.bw.dashboard),"/".concat(i.bw.app,"/").concat(i.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:u("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),C()]})})},m=o.memo(u)},75289:(e,l,a)=>{a.d(l,{A:()=>n});var o=a(65043),t=a(74117),s=a(41290),r=a(33556),i=a(70579);const n=e=>{let{onClose:l,action:a,show:n,warningText:d,disabled:c,isLoading:u}=e;const{t:m}=(0,t.Bd)(),[v,x]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{n&&setTimeout((()=>{x(!0)}),100)}),[n]),(0,i.jsxs)(i.Fragment,{children:[u&&(0,i.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,i.jsxs)("div",{className:"".concat(n?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==d&&"Are you sure want to change status ?"!==d&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(v?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,i.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,i.jsxs)("div",{className:"flex items-center ",children:[(0,i.jsx)(r.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,i.jsx)("span",{className:"text-xl font-bold text-baseColor",children:m("Confirmation")})]}),(0,i.jsx)(s.A,{onClick:l,label:"",children:(0,i.jsx)(r.YY,{className:"text-error",fontSize:"14"})})]}),(0,i.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,i.jsx)("p",{children:m(d)})}),(0,i.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,i.jsx)(s.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:a,label:m("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(s.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:l,label:m("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==d&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(v?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,i.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,i.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,i.jsx)(r.ZI,{className:"fill-white bg-primary"})}),(0,i.jsx)("h4",{children:m("Confirmation")})]}),(0,i.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:m(d)}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,i.jsx)(s.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:a,label:m("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(s.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:l,label:m("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==d&&(0,i.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(v?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,i.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,i.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,i.jsx)("div",{className:"flex justify-center mb-5",children:(0,i.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,i.jsx)(r.Vl,{className:"stroke-2 fill-white"})})}),(0,i.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:m(d)}),(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,i.jsx)(s.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:a,label:m("Yes"),disabled:c,title:"Yes"}),(0,i.jsx)(s.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:l,label:m("No"),title:"No"})]})]})})})]})]})}},81410:(e,l,a)=>{a.d(l,{A:()=>t});a(65043);var o=a(70579);const t=function(){return(0,o.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,l,a)=>{a.d(l,{A:()=>u});var o=a(65043),t=a(74117),s=a(73216),r=a(7648),i=a(33556),n=a(79456),d=a(75214),c=a(70579);const u=e=>{let{headerActionConst:l,headerTitle:a}=e;const{t:u}=(0,t.Bd)(),m=(0,n.wA)(),{show:v}=(0,n.d4)((e=>e.coursesManagement)),x=(0,s.zy)(),h=(0,o.useCallback)((()=>{m((0,d.oM)(!v))}),[v]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(i.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:u(null!==a&&void 0!==a?a:(e=>{let l="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(l=l+e[0].toUpperCase()+e.slice(1)+" ",l))),l}return l=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),l})(x.pathname))}),(0,c.jsx)(r.A,{})]}),l&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(l)return l()})()})]})})]})}},76479:(e,l,a)=>{a.d(l,{aT:()=>v,i9:()=>x,wR:()=>u,xG:()=>m,xP:()=>c});var o,t,s,r,i,n=a(57528),d=a(70459);const c=(0,d.J1)(o||(o=(0,n.A)(["query FindAllCourseCreator($filterData: CourseCreatorListDto!) {\n  findAllCourseCreator(filterData: $filterData) {\n    message\n    data {\n      data {\n        user_uuid\n        full_name\n        locations {\n          location\n          uuid\n        }\n      }\n      count\n    }\n  }\n}"]))),u=(0,d.J1)(t||(t=(0,n.A)(["query GetLocations {\n  getLocations {\n    message\n    data {\n      uuid\n      location      \n    }\n  }\n}"]))),m=(0,d.J1)(s||(s=(0,n.A)(["query GetAllSubscriberUsers($userType: GetUserDto!) {\n  getAllSubscriberUsers(userType: $userType) {\n    message\n    data {\n      email\n      uuid\n      status\n      pronounce\n      first_name\n      last_name\n    }\n  }\n}"]))),v=(0,d.J1)(r||(r=(0,n.A)(["query GetCourseCreatorById($userUuid: String!) {\n  getCourseCreatorById(userUUID: $userUuid) {\n    message\n    data {\n      uuid\n      user {\n        first_name \n        last_name\n        email\n        uuid\n      }\n      location {\n        uuid\n        location\n      }\n    }\n  }\n}"]))),x=(0,d.J1)(i||(i=(0,n.A)(["mutation DeleteCourseCreator($courseCreatorIds: [String!]!) {\n  deleteCourseCreator(courseCreatorIds: $courseCreatorIds) {\n    message\n  }\n}"])))},4009:(e,l,a)=>{a.d(l,{v:()=>i,w:()=>n});var o,t,s=a(57528),r=a(70459);const i=(0,r.J1)(o||(o=(0,s.A)(["\nquery GetLocationsWithPagination($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $citySearch: String!, $locationSearch: String!) {\n  getLocationsWithPagination(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, citySearch: $citySearch, locationSearch: $locationSearch) {\n    message\n    data {\n      location {\n        uuid\n        location\n        city\n        zoneCount\n      }\n      count\n    }\n  }\n}"]))),n=(0,r.J1)(t||(t=(0,s.A)(["query GetLocations {\n  getLocations {\n    message\n    data {\n      uuid\n      location\n      city\n      diversion_percentage\n      zoneCount\n    }\n  }\n}"])))},24395:(e,l,a)=>{a.r(l),a.d(l,{default:()=>F});var o,t,s,r=a(65043),i=a(31881),n=a(88250),d=a(77654),c=a(41290),u=a(12209),m=a(33556),v=a(42145),x=a(74117),h=a(76479),p=a(8848),b=a(57528),f=a(70459);const j=(0,f.J1)(o||(o=(0,b.A)(["mutation CourseCreatorCreate($courseCreatorData: CreateCourseCreatorDto!) {\n  courseCreatorCreate(courseCreatorData: $courseCreatorData) {\n    message\n  }\n}"]))),g=(0,f.J1)(t||(t=(0,b.A)(["mutation UpdateCourseCreator($courseData: UpdatedCreateCourseCreatorDto!) {\n  updateCourseCreator(courseData: $courseData) {\n    message\n  }\n}"]))),C=(0,f.J1)(s||(s=(0,b.A)(["mutation CourseCreatorUserDelete($userId: String!) {\n  courseCreatorUserDelete(userId: $userId) {\n    message\n  }\n}"])));var N=a(12352),w=a(63516),y=a(64526),A=a(70579);const k=e=>{var l,a,o,t,s,d;let{onClose:u,isAdd:x,editId:b}=e;const{refetch:f}=(0,n.I)(h.aT,{fetchPolicy:"network-only",skip:!0}),[C,{loading:k}]=(0,i.n)(j),[_,{loading:S}]=(0,i.n)(g),[D]=(0,i.n)(h.i9),{data:U}=(0,n.I)(h.wR),{data:F}=(0,n.I)(h.xG,{fetchPolicy:"network-only",variables:{userType:{user_type:v.ve.SUBSCRIBER_ADMIN}}}),[I,$]=(0,r.useState)([]),[E,P]=(0,r.useState)([]),{createOrUpdateCourseCreator:R}=(0,N.A)();(0,r.useEffect)((()=>{""!==b&&f({userUuid:b}).then((e=>{var l,a,o,t,s,r,i,n,d,c;const u=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.getCourseCreatorById)||void 0===a?void 0:a.data;E.push({name:(null===u||void 0===u||null===(o=u[0])||void 0===o||null===(t=o.user)||void 0===t?void 0:t.first_name)+" "+(null===u||void 0===u||null===(s=u[0])||void 0===s||null===(r=s.user)||void 0===r?void 0:r.last_name),uuid:null===u||void 0===u||null===(i=u[0])||void 0===i||null===(n=i.user)||void 0===n?void 0:n.uuid}),L.setFieldValue("courseCreatorData.user_id",null===u||void 0===u||null===(d=u[0])||void 0===d||null===(c=d.user)||void 0===c?void 0:c.uuid),L.setFieldValue("courseCreatorData.locations",null===u||void 0===u?void 0:u.map((e=>{var l;return{location_id:null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.uuid,uuid:null===e||void 0===e?void 0:e.uuid}})))})).catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))}),[x]),(0,r.useEffect)((()=>{null!==F&&void 0!==F&&F.getAllSubscriberUsers&&P((e=>{var l,a;return[...e,...null===F||void 0===F||null===(l=F.getAllSubscriberUsers)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.map((e=>({name:(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name),key:e.uuid})))]}))}),[null===F||void 0===F?void 0:F.getAllSubscriberUsers]),(0,r.useEffect)((()=>{var e,l;null!==U&&void 0!==U&&U.getLocations&&$(null===U||void 0===U||null===(e=U.getLocations)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.map((e=>({name:null===e||void 0===e?void 0:e.location,key:null===e||void 0===e?void 0:e.uuid}))))}),[null===U||void 0===U?void 0:U.getLocations]);const L=(0,w.Wx)({initialValues:{courseCreatorIds:[],courseCreatorData:{user_id:"",locations:[{location_id:"",uuid:""}]}},validationSchema:R,onSubmit(e){var l,a;b?(async()=>{var e;const l=await D({variables:{courseCreatorIds:null===L||void 0===L||null===(e=L.values)||void 0===e?void 0:e.courseCreatorIds}});var a,o,t;null!==l&&void 0!==l&&l.errors?y.oR.error("Something went wrong"):_({variables:{courseData:{data:null===L||void 0===L||null===(a=L.values)||void 0===a||null===(o=a.courseCreatorData)||void 0===o||null===(t=o.locations)||void 0===t?void 0:t.map((e=>{var l,a;return{location_id:null===e||void 0===e?void 0:e.location_id,user_id:null===L||void 0===L||null===(l=L.values)||void 0===l||null===(a=l.courseCreatorData)||void 0===a?void 0:a.user_id,uuid:null===e||void 0===e?void 0:e.uuid}}))}}}).then((e=>{var l,a;const o=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.updateCourseCreator)||void 0===a?void 0:a.message;y.oR.success(o),J()})).catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))})():C({variables:{courseCreatorData:{location_id:null===e||void 0===e||null===(l=e.courseCreatorData)||void 0===l?void 0:l.locations.map((e=>null===e||void 0===e?void 0:e.location_id)),user_id:null===e||void 0===e||null===(a=e.courseCreatorData)||void 0===a?void 0:a.user_id}}}).then((e=>{var l,a;y.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.courseCreatorCreate)||void 0===a?void 0:a.message),J()})).catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))}}),O=()=>{var e,l;L.setFieldValue("courseCreatorData.locations",[...null===L||void 0===L||null===(e=L.values)||void 0===e||null===(l=e.courseCreatorData)||void 0===l?void 0:l.locations,{location_id:"",uuid:""}])},z=(0,r.useCallback)(((e,l)=>{var a;""!==l&&L.setFieldValue("courseCreatorIds",[...null===L||void 0===L||null===(a=L.values)||void 0===a?void 0:a.courseCreatorIds,l]);L.values.courseCreatorData.locations.splice(e,1),L.setFieldValue("courseCreatorData.locations",L.values.courseCreatorData.locations)}),[null===L||void 0===L?void 0:L.values]),J=(0,r.useCallback)((()=>{L.resetForm(),u()}),[]),M=null===L||void 0===L||null===(l=L.errors)||void 0===l?void 0:l.courseCreatorData;return(0,A.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(x?"":"hidden"),children:(0,A.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,A.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,A.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,A.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,A.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:""!==b?"Update Course Create":"Add New Course Creator"}),(0,A.jsx)(c.A,{onClick:J,title:"Close",label:"",children:(0,A.jsx)("span",{className:"text-xl-22",children:(0,A.jsx)(m.YY,{className:"text-error"})})})]}),(0,A.jsx)("div",{className:"w-full",children:(0,A.jsxs)("form",{onSubmit:L.handleSubmit,children:[(0,A.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto",children:[(0,A.jsx)("div",{className:"mb-3 first-letter:md:mb-5 sm:inline-block w-full sm:w-1/2",children:(0,A.jsx)(p.A,{placeholder:"Select Employee",name:"courseCreatorData.user_id",onChange:L.handleChange,value:L.values.courseCreatorData.user_id,id:"courseCreatorData.user_id",label:"Select Employee",required:!0,options:E,disabled:""!==b,error:null!==M&&void 0!==M&&M.user_id&&null!==L&&void 0!==L&&null!==(a=L.touched)&&void 0!==a&&null!==(o=a.courseCreatorData)&&void 0!==o&&o.user_id?null===M||void 0===M?void 0:M.user_id:""})}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("label",{htmlFor:"location1",children:["Assign Locations ",(0,A.jsx)("span",{className:"text-error",children:" *"})]}),null===L||void 0===L||null===(t=L.values)||void 0===t||null===(s=t.courseCreatorData)||void 0===s||null===(d=s.locations)||void 0===d?void 0:d.map(((e,l)=>{var a,o,t,s,r,i,n,d,c,u,v,x,h,b,f,j,g,C;const N=l+(null===e||void 0===e?void 0:e.location_id);return(0,A.jsxs)("div",{className:"w-full sm:w-1/2 flex items-center justify-start gap-3 mb-3",children:[l+1===(null===L||void 0===L||null===(a=L.values)||void 0===a||null===(o=a.courseCreatorData)||void 0===o||null===(t=o.locations)||void 0===t?void 0:t.length)&&(0,A.jsx)("button",{className:"btn btn-primary btn-small",type:"button",onClick:O,children:(0,A.jsx)(m.FW,{fontSize:"14"})}),(0,A.jsx)(p.A,{placeholder:"Location",className:"w-full -mt-2",label:"",name:"courseCreatorData.locations.[".concat(l,"].location_id"),id:"location2",value:null===L||void 0===L||null===(s=L.values)||void 0===s||null===(r=s.courseCreatorData)||void 0===r||null===(i=r.locations)||void 0===i||null===(n=i[l])||void 0===n?void 0:n.location_id,onChange:L.handleChange,options:I,error:null!==M&&void 0!==M&&null!==(d=M.locations)&&void 0!==d&&null!==(c=d[l])&&void 0!==c&&c.location_id&&null!==L&&void 0!==L&&null!==(u=L.touched)&&void 0!==u&&null!==(v=u.courseCreatorData)&&void 0!==v&&null!==(x=v.locations)&&void 0!==x&&null!==(h=x[l])&&void 0!==h&&h.location_id?null===M||void 0===M||null===(b=M.locations)||void 0===b||null===(f=b[l])||void 0===f?void 0:f.location_id:""}),(0,A.jsx)("button",{type:"button",className:"btn btn-primary btn-small",onClick:()=>z(l,null===e||void 0===e?void 0:e.uuid),disabled:1===(null===L||void 0===L||null===(j=L.values)||void 0===j||null===(g=j.courseCreatorData)||void 0===g||null===(C=g.locations)||void 0===C?void 0:C.length),children:(0,A.jsx)(m.Hs,{fontSize:"14"})})]},N)}))]})]}),(0,A.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 sm:flex-row border-border-primary",children:(0,A.jsx)(c.A,{className:"btn-primary btn-normal w-full sm:w-auto min-w-[160px]",type:"submit",label:""!==b?"Update":"Add",disabled:S||k})})]})})]})})})},"addPopUp")};var _=a(81410),S=a(75289),D=a(4009),U=a(34764);const F=()=>{var e,l,a,o,t,s,b,f,j,g,N;const{t:F}=(0,x.Bd)(),[I,$]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),[R,L]=(0,r.useState)({limit:v.Wt,page:v.k2,location:"",sortOrder:"descend",full_name:"",sortField:"full_name",index:0}),[O,z]=(0,r.useState)(R.limit),[J,{loading:M}]=(0,i.n)(C),{data:T,refetch:Y,loading:B}=(0,n.I)(h.xP,{fetchPolicy:"network-only",variables:{filterData:{limit:null===R||void 0===R?void 0:R.limit,page:null===R||void 0===R?void 0:R.page,location:null===R||void 0===R?void 0:R.location,sortOrder:null===R||void 0===R?void 0:R.sortOrder,full_name:null===R||void 0===R?void 0:R.full_name,sortField:null===R||void 0===R?void 0:R.sortField}}}),[G,V]=(0,r.useState)(!1),[q,W]=(0,r.useState)(""),H=[{name:F("Sr.No"),sortable:!1},{name:F("Name of Course creator"),sortable:!0,fieldName:"full_name"},{name:F("Assigned Locations"),sortable:!1,fieldName:"locations.location"}],{data:Z}=(0,n.I)(D.w),K=(0,w.Wx)({initialValues:{creatorName:"",location:""},onSubmit(){}}),Q=(0,r.useCallback)((()=>{K.resetForm(),te()}),[]),X=(0,r.useCallback)((()=>{V(!1),P(!1),W(""),Y().catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))}),[]),ee=(0,r.useCallback)((()=>{V(!0)}),[]),le=null===T||void 0===T||null===(e=T.findAllCourseCreator)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.count,ae=Math.ceil(le/O),oe=(0,r.useCallback)((e=>{var l,a;const o={...R,location:null===K||void 0===K||null===(l=K.values)||void 0===l?void 0:l.location,full_name:null===K||void 0===K||null===(a=K.values)||void 0===a?void 0:a.creatorName,page:e,index:(e-1)*R.limit};L(o)}),[R.limit]);(0,r.useEffect)((()=>{z(R.limit)}),[R.limit]),(0,r.useEffect)((()=>{var e,l;const a={filterDataCreator:{limit:null===R||void 0===R?void 0:R.limit,page:null===R||void 0===R?void 0:R.page,sortOrder:null===R||void 0===R?void 0:R.sortOrder,sortField:null===R||void 0===R?void 0:R.sortField,location:null===K||void 0===K||null===(e=K.values)||void 0===e?void 0:e.location,full_name:null===K||void 0===K||null===(l=K.values)||void 0===l?void 0:l.creatorName}};Y(a).catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))}),[R]);const te=(0,r.useCallback)((()=>{var e,l;const a={...R,location:null===K||void 0===K||null===(e=K.values)||void 0===e?void 0:e.location,full_name:null===K||void 0===K||null===(l=K.values)||void 0===l?void 0:l.creatorName};L(a)}),[R,K]),se=(0,r.useCallback)((e=>{W(e),V(!0)}),[]),re=(0,r.useCallback)((e=>{W(e),P(!0)}),[]),ie=(0,r.useCallback)((()=>{J({variables:{userId:q}}).then((e=>{var l,a;y.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.courseCreatorUserDelete)||void 0===a?void 0:a.message),X()})).catch((e=>{var l,a,o;y.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(a=l.result)||void 0===a||null===(o=a.errors[0])||void 0===o?void 0:o.message)}))}),[q]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.A,{headerActionConst:()=>(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.A,{className:" ".concat(I?"btn-primary":"btn-secondary"," btn-normal md:w-[50px]"),label:"",onClick:()=>$(!I),title:"Filter",children:(0,A.jsx)(m.dJ,{})}),(0,A.jsx)(c.A,{label:"+ Create Course Creator",className:"btn-primary  btn-normal md:min-w-[150px] whitespace-nowrap",onClick:()=>ee(),title:"+ Create Course Creator"})]})}),(0,A.jsxs)("div",{children:[I&&(0,A.jsx)("form",{onSubmit:K.handleSubmit,children:(0,A.jsxs)("div",{className:"flex justify-start flex-wrap 2xl:flex-nowrap p-5 mb-5 border border-border-primary rounded-xl bg-light-blue gap-1 md:gap-2 2xl:gap-[18px] xl:gap-y-2 xl:gap-3 lg:gap-0.5 lg:gap-x-2.5 items-end",children:[(0,A.jsx)("div",{className:"w-full lg:w-[calc(50%-10px)] xl:w-[calc(33.3%-14px)]",children:(0,A.jsx)(U.A,{value:K.values.creatorName,placeholder:"Name of Course creator",type:"text",id:"highlights1",name:"creatorName",onChange:K.handleChange})}),(0,A.jsx)(p.A,{value:K.values.location,placeholder:"Location",className:"w-full lg:w-[calc(50%-10px)] xl:w-[calc(33.3%-14px)] -mt-2",label:"",name:"location",id:"location",onChange:K.handleChange,options:null===Z||void 0===Z||null===(a=Z.getLocations)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.map((e=>({name:e.location,key:e.location})))}),(0,A.jsx)(c.A,{type:"button",className:"btn-primary btn-normal w-full md:min-w-[160px] md:w-auto lg:mt-0",label:"Search",onClick:te}),(0,A.jsx)(c.A,{type:"button",className:"btn-secondary btn-normal w-full md:min-w-[160px] md:w-auto lg:mt-0",label:"Reset",onClick:Q})]})}),(0,A.jsxs)("div",{className:"bg-white rounded-xl overflow-auto border border-[#c8ced3] p-3 md:p-5",children:[(0,A.jsx)("div",{className:"flex flex-col justify-between gap-3 mb-3 md:gap-5 md:mb-5 btn-group md:flex-row",children:(0,A.jsx)("h6",{className:"w-full leading-7 xmd:w-auto",children:F("Course Creator List")})}),(0,A.jsxs)("div",{className:"w-full mb-3 overflow-auto bg-white border sm:w-auto rounded-t-xl custom-dataTable border-border-primary",children:[(0,A.jsxs)("table",{children:[(0,A.jsx)("thead",{children:(0,A.jsxs)("tr",{children:[null===H||void 0===H?void 0:H.map(((e,l)=>{const a=e.fieldName+l;return(0,A.jsx)("th",{scope:"col",children:(0,A.jsxs)("div",{className:"flex items-center ".concat("Status"==e.name?"justify-center":""),children:[e.name,e.sortable&&(0,A.jsxs)("button",{onClick:()=>(e=>{var l,a;const o={...R,location:null===K||void 0===K||null===(l=K.values)||void 0===l?void 0:l.location,full_name:null===K||void 0===K||null===(a=K.values)||void 0===a?void 0:a.creatorName,sortField:e,sortOrder:"ascend"===R.sortOrder?"descend":"ascend"};L(o)})(e.fieldName),children:[(""===R.sortOrder||R.sortField!==e.fieldName)&&(0,A.jsx)(m.xs,{className:"w-3 h-3 ml-1 fill-white"}),"ascend"===R.sortOrder&&R.sortField===e.fieldName&&(0,A.jsx)(m.xD,{className:"ml-1 fill-white"}),"descend"===R.sortOrder&&R.sortField===e.fieldName&&(0,A.jsx)(m.xR,{className:"ml-1 fill-white"})]})]})},a)})),(0,A.jsx)("th",{scope:"col",children:(0,A.jsx)("div",{className:"flex items-center",children:F("Action")})})]})}),(0,A.jsx)("tbody",{children:null===T||void 0===T||null===(t=T.findAllCourseCreator)||void 0===t||null===(s=t.data)||void 0===s||null===(b=s.data)||void 0===b?void 0:b.map(((e,l)=>{const a=(null===R||void 0===R?void 0:R.index)+l+1;return(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{scope:"row",className:"text-center",children:a}),(0,A.jsx)("td",{className:"text-left",children:e.full_name}),(0,A.jsx)("td",{className:"text-left",children:e.locations.map((e=>null===e||void 0===e?void 0:e.location)).join(", ")}),(0,A.jsx)("td",{children:(0,A.jsxs)("div",{className:"flex justify-start btn-group",children:[(0,A.jsx)(c.A,{className:"bg-transparent btn-default",onClick:()=>se(null===e||void 0===e?void 0:e.user_uuid),label:"",title:"Edit",children:(0,A.jsx)(m.ff,{})}),(0,A.jsx)(c.A,{className:"bg-transparent btn-default",onClick:()=>re(null===e||void 0===e?void 0:e.user_uuid),label:"",title:"Delete",children:(0,A.jsx)(m.lM,{className:"fill-error"})})]})})]},e.user_uuid)}))})]}),B&&(0,A.jsx)("div",{className:"w-full px-2.5 py-2 bg-white bg-opacity-75 flex justify-center ",children:(0,A.jsx)("div",{className:"text-xl",children:(0,A.jsx)(_.A,{})})}),(0===(null===T||void 0===T||null===(f=T.findAllCourseCreator)||void 0===f||null===(j=f.data)||void 0===j?void 0:j.count)||null===(null===T||void 0===T||null===(g=T.findAllCourseCreator)||void 0===g||null===(N=g.data)||void 0===N?void 0:N.data))&&(0,A.jsx)("div",{className:"flex justify-center",children:(0,A.jsx)("div",{children:F("No Data")})})]}),(0,A.jsxs)("div",{className:"flex flex-wrap items-center mt-2",children:[(0,A.jsxs)("div",{className:"flex items-center mr-3 md:mr-7",children:[(0,A.jsx)("span",{className:"text-sm font-normal text-gray-700 whitespace-nowrap ",children:F("Per Page")}),(0,A.jsx)("select",{value:R.limit,onChange:e=>{var l,a,o;const t=Number(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.value),s={...R,location:null===K||void 0===K||null===(a=K.values)||void 0===a?void 0:a.location,full_name:null===K||void 0===K||null===(o=K.values)||void 0===o?void 0:o.creatorName,limit:t,page:1,index:0};L(s)},className:"border border-border-primary rounded-xl ml-2 px-3 text-sm py-1.5 text-gray-500 w-[70px] h-[36px] appearance-none bg-white",children:null===v.aj||void 0===v.aj?void 0:v.aj.map((e=>(0,A.jsx)("option",{children:e},e)))})]}),(0,A.jsx)(d.A,{currentPage:R.page,totalPages:ae,onPageChange:oe,recordsPerPage:O})]}),G&&(0,A.jsx)(k,{isAdd:G,onClose:X,editId:q})]}),E&&(0,A.jsx)(S.A,{warningText:v.jl,onClose:()=>X(),action:ie,show:E,disabled:M})]})]})}}}]);
//# sourceMappingURL=4395.a18e5a42.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[5801],{7648:(e,l,r)=>{r.d(l,{A:()=>v});var s=r(65043),t=r(74117),i=r(73216),n=r(35475),o=r(42145),a=r(79456),d=r(66925),c=r(70579);const u=()=>{var e,l,r;const{t:u}=(0,t.Bd)(),v=(0,i.zy)(),p=new URLSearchParams(v.search).get("uuid"),{id:h}=(0,i.g)(),{userProfileData:m}=(0,a.d4)((e=>e.userProfile)),x=null!==(e=null===m||void 0===m||null===(l=m.getProfile)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.user_type)&&void 0!==e?e:"",g=e=>{var l;let r="";if(null!==(l=e.split("/")[2])&&void 0!==l&&l.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var l;return r=r+(null===(l=e[0])||void 0===l?void 0:l.toUpperCase())+e.slice(1)+" ",r})),r}var s;return r=(null===(s=e.split("/")[2][0])||void 0===s?void 0:s.toUpperCase())+e.split("/")[2].slice(1),r},b=e=>{let l="";if(null!==e&&void 0!==e&&e.includes("-")){l=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const r=l.split(" ");for(let e=0;e<r.length;e++)r[e]=r[e][0].toUpperCase()+r[e].substring(1);return l=r.join(" "),l}var r;return l=(null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",l},f=e=>{let l="";return null!==e&&void 0!==e&&e.includes("-")||(l=(null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),l;var r},_=v.pathname.split("/"),j=(0,s.useCallback)((()=>{if((null===_||void 0===_?void 0:_.length)>0){const e=null===_||void 0===_?void 0:_.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:_[2]&&"".concat(u(b(_[2])))});if(e<5)return""!==_[3]?_[3].length>32?(0,c.jsxs)(c.Fragment,{children:[f(_[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(n.k2,{to:"/".concat(o.bw.app,"/").concat(_[2]),className:"text-light-grey hover:underline",children:"".concat(u(g(v.pathname)))})}),f(_[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!f(_[3])&&(0,c.jsx)("span",{className:"text-primary",children:_[2]&&"".concat(u(b(_[2])))}),(0,c.jsx)("span",{className:"text-primary",children:_[3]&&"".concat(u(f(_[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(n.k2,{to:"/".concat(o.bw.app,"/").concat(_[2]),className:"text-light-grey hover:underline",children:"".concat(u(g(v.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:_[3]&&"".concat(u(b(_[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:_[2]&&"".concat(u(b(_[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(n.k2,{to:"/".concat(o.bw.app,"/").concat(_[2]),className:"text-light-grey hover:underline",children:"".concat(u(g(v.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:_[3]&&"".concat(u(b(_[3])))})]});if(e<7){let e="";return p?e="?uuid=".concat(p):h&&(e="?uuid=".concat(h)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(n.k2,{to:"/".concat(o.bw.app,"/").concat(_[2]),className:"text-light-grey hover:underline",children:u(b(_[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(n.k2,{to:"/".concat(o.bw.app,"/").concat(_[2],"/").concat(_[3],"/").concat((""!==p||""!==h)&&e),className:"text-light-grey hover:underline",children:u(b(_[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:_[5]&&"".concat(u(b(_[4])))})]})}}}),[_]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(n.k2,{to:(0,d.Go)(x,o.ve.SUPER_ADMIN,"/".concat(o.bw.app,"/").concat(o.bw.dashboard),"/".concat(o.bw.app,"/").concat(o.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:u("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),j()]})})},v=s.memo(u)},12209:(e,l,r)=>{r.d(l,{A:()=>u});var s=r(65043),t=r(74117),i=r(73216),n=r(7648),o=r(33556),a=r(79456),d=r(75214),c=r(70579);const u=e=>{let{headerActionConst:l,headerTitle:r}=e;const{t:u}=(0,t.Bd)(),v=(0,a.wA)(),{show:p}=(0,a.d4)((e=>e.coursesManagement)),h=(0,i.zy)(),m=(0,s.useCallback)((()=>{v((0,d.oM)(!p))}),[p]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:m,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(o.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:u(null!==r&&void 0!==r?r:(e=>{let l="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(l=l+e[0].toUpperCase()+e.slice(1)+" ",l))),l}return l=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),l})(h.pathname))}),(0,c.jsx)(n.A,{})]}),l&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(l)return l()})()})]})})]})}},66518:(e,l,r)=>{r.d(l,{X:()=>a,c:()=>o});var s,t,i=r(57528),n=r(70459);const o=(0,n.J1)(s||(s=(0,i.A)(["\n  mutation UpdateUserCourseProgress($userCourseProgressData: CreateUserCourseProgressDto!) {\n  updateUserCourseProgress(userCourseProgressData: $userCourseProgressData) {\n    message\n    data {\n      percentage\n      is_show_certification_tab\n    }\n  }\n}\n"]))),a=(0,n.J1)(t||(t=(0,i.A)(["\n  mutation AssignLoggedInUserCourse($courseId: String!) {\n    assignLoggedInUserCourse(courseId: $courseId) {\n      message\n    }\n  }\n"])))},26508:(e,l,r)=>{r.r(l),r.d(l,{default:()=>H});var s,t,i,n,o,a,d=r(65043),c=r(95826),u=r(73216),v=r(35475),p=r(79456),h=r(74117),m=r(42145),x=r(33556),g=r(75214),b=r(88250),f=r(57528),_=r(70459);(0,_.J1)(s||(s=(0,f.A)(["\n  mutation DeleteChapters($chapterIds: [String!]!) {\n    deleteChapters(chapterIds: $chapterIds) {\n      message\n    }\n  }\n"]))),(0,_.J1)(t||(t=(0,f.A)(["\n  mutation DeleteLessons($lessonIds: [String!]!) {\n    deleteLessons(lessonIds: $lessonIds) {\n      message\n    }\n  }\n"]))),(0,_.J1)(i||(i=(0,f.A)(["\n  mutation DeleteFaqs($faqIds: [String!]!) {\n    deleteFaqs(faqIds: $faqIds) {\n      message\n    }\n  }\n"]))),(0,_.J1)(n||(n=(0,f.A)(["\n  mutation DeleteCourseQuizQuestions($quizQuestionIds: [String!]!) {\n    deleteCourseQuizQuestions(quizQuestionIds: $quizQuestionIds) {\n      message\n    }\n  }\n"]))),(0,_.J1)(o||(o=(0,f.A)(["\n  mutation UserQuizCreatedById($courseId: String!) {\n    userQuizCreatedById(courseId: $courseId) {\n      message\n      data {\n        uuid\n        is_pass\n        user_percentage\n        passing_mark\n        total_questions\n        right_answers\n        time_taken\n        is_show_correct_ans\n        certification_generate\n        userQuizDetails {\n          courseQuizQuestionOptions {\n            is_correct\n            option\n            order\n            uuid\n          }\n          is_right\n          question\n          selectedOption\n          uuid\n        }\n      }\n    }\n  }\n"])));const j=(0,_.J1)(a||(a=(0,f.A)(["query GetUserCourseProgress($view_as_learner: Boolean!, $courseId: String!) {\n  getUserCourseProgress(view_as_learner: $view_as_learner, courseId: $courseId) {\n    message\n    data {\n      chaptersData {\n        uuid\n        title\n        type\n        order\n        user_course_progress {\n          video_last_check_time\n          is_chapter_completed\n        }\n      }\n      percentage\n      is_show_certification_tab\n    }\n  }\n}"])));var y,w,N=r(64526),C=r(86213),k=r(77578),A=r(51027);const P=(0,_.J1)(y||(y=(0,f.A)(["query GetChapterByCourseId($chapterId: String!, $courseId: String!) {\n  getChapterByCourseId(chapterId: $chapterId, courseId: $courseId) {\n    message\n    data {\n      uuid\n      title\n      type\n      order\n      user_course_progress {\n        uuid\n        video_last_check_time\n        is_chapter_completed\n      }\n      chapter_content {\n        uuid\n        image\n        description\n        youtube_url\n        pdf_url\n      }\n      chapter_quiz {\n        uuid\n        question\n        order\n        type\n        quiz_question {\n          uuid\n          option\n          is_correct\n          order\n        }\n      }\n    }\n  }\n}"])));(0,_.J1)(w||(w=(0,f.A)(["\nquery GetCourseDetailOverview($courseId: String!) {\n  getCourseDetailOverview(courseId: $courseId) {\n    message\n    data {\n      overview {\n        id\n        uuid\n        title\n        subtitle\n        description\n        total_duration\n        reward_point\n        level\n        isAssign\n        category {\n          uuid\n          name\n          description\n          status\n          image_url\n        }\n        subCategory {\n          uuid\n          name\n          description\n          status\n          image_url\n        }\n        is_certification\n        prerequisite\n        image\n        thumbnails\n        instructor_profile\n        instructor_name\n        instructor_qualification\n        is_template\n        createdAt\n        highlights {\n          id\n          uuid\n          name\n        }\n        learners {\n          id\n          uuid\n        }\n        chapters {\n          id\n          uuid\n          name\n          description\n          order\n        }\n        lessons {\n          id\n          uuid\n          name\n          description\n          order\n          video_url\n          title\n          attachment\n          video_time\n          image\n          url\n        }\n        courseQuiz {\n          id\n          uuid\n          title\n          time_limit\n          time_type\n          passing_mark\n          certification_generate\n          is_show_correct_ans\n          courseQuizQuestions {\n            uuid\n            question\n            courseQuizQuestionOptions {\n              id\n              uuid\n              option\n              is_correct\n            }\n          }\n        }\n        courseLearnersCount\n      }\n      contents {\n        id\n        uuid\n        name\n        description\n        order\n      }\n      faqs {\n        id\n        uuid\n        question\n        answer\n        order\n      }\n    }\n  }\n}"])));var I=r(93740),M=r(70579);const D=function(e){var l,r,s,t,i,n,o,a,c,f,_,y,w,D,S,U,z,q;let{setLoading:E}=e;const{t:R}=(0,h.Bd)(),$=(0,p.wA)(),{id:L}=(0,u.g)(),[F]=(0,v.ok)(),Y=F.get("isViewAsLearner"),Q=F.get("isPublished"),B=localStorage.getItem("authToken"),T=B&&(0,k.A)(B),[O,J]=(0,d.useState)(!1),{courseContent:H,update:W,activeIndex:V}=(0,p.d4)((e=>e.coursesManagement)),{data:G,loading:Z,refetch:K}=(0,b.I)(j,{variables:{view_as_learner:!!Y,courseId:L},fetchPolicy:"network-only",skip:!L}),{data:X,loading:ee,refetch:le}=(0,b.I)(P,{variables:{courseId:L,chapterId:null===G||void 0===G||null===(l=G.getUserCourseProgress)||void 0===l||null===(r=l.data)||void 0===r||null===(s=r.chaptersData)||void 0===s||null===(t=s[V])||void 0===t?void 0:t.uuid},skip:!L||!(null!==G&&void 0!==G&&null!==(i=G.getUserCourseProgress)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&null!==(o=n.chaptersData)&&void 0!==o&&null!==(a=o[V])&&void 0!==a&&a.uuid),fetchPolicy:"network-only"}),{userProfileData:re}=(0,p.d4)((e=>e.userProfile)),se=null===re||void 0===re||null===(c=re.getProfile)||void 0===c||null===(f=c.data)||void 0===f?void 0:f.user_type;(0,d.useEffect)((()=>{W&&(K().catch((e=>{var l,r,s;N.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(r=l.result)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.message)})),$((0,g.aH)(!1)))}),[W]),(0,d.useEffect)((()=>{var e,l;if(null!==G&&void 0!==G&&null!==(e=G.getUserCourseProgress)&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&l.chaptersData.length&&L){var r,s,t,i,n,o,a,d,c,u,v,p;$((0,g.Z7)(null===G||void 0===G||null===(r=G.getUserCourseProgress)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.chaptersData)),$((0,g.dk)(null===G||void 0===G||null===(t=G.getUserCourseProgress)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.is_show_certification_tab)),$((0,g.Y)(+(null===G||void 0===G||null===(n=G.getUserCourseProgress)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.percentage))),$((0,g.S)(null===G||void 0===G||null===(a=G.getUserCourseProgress)||void 0===a||null===(d=a.data)||void 0===d||null===(c=d.chaptersData)||void 0===c?void 0:c.length));const e=null===G||void 0===G||null===(u=G.getUserCourseProgress)||void 0===u||null===(v=u.data)||void 0===v||null===(p=v.chaptersData)||void 0===p?void 0:p.findIndex((e=>{var l;return!e.user_course_progress||!(null!==e&&void 0!==e&&null!==(l=e.user_course_progress)&&void 0!==l&&l.is_chapter_completed)}));-1!==e&&$((0,g.rS)(e))}}),[G,L]),(0,d.useEffect)((()=>{E(ee)}),[ee]),(0,d.useEffect)((()=>{var e,l;null!==X&&void 0!==X&&null!==(e=X.getChapterByCourseId)&&void 0!==e&&e.data&&$((0,g.Kx)(null===X||void 0===X||null===(l=X.getChapterByCourseId)||void 0===l?void 0:l.data))}),[X]);const te=(0,d.useCallback)((async()=>{J(!0),await C.A.get("".concat(m.Hk,"/").concat(null!==L&&void 0!==L?L:""),{headers:{authorization:T?"Bearer ".concat(T):""}}).then((async e=>{var l;const r=await fetch(e.data.url);if(!r.ok)throw new Error("Network Respones was not ok");const s=await r.blob(),t=window.URL.createObjectURL(s),i=document.createElement("a");i.href=t,i.download="certificate.pdf",document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(t),J(!1),N.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.message)})).catch((e=>{J(!1),N.oR.error(null===e||void 0===e?void 0:e.message)}))}),[]);return(0,M.jsxs)(M.Fragment,{children:[Z&&(0,M.jsx)(A.a,{}),(0,M.jsxs)("div",{className:"border border-solid border-border-primary rounded-xl",children:[(0,M.jsx)("h6",{className:"px-5 pt-5 pb-1",children:R("Course Content")}),(0,M.jsx)("div",{className:"max-h-[550px] overflow-auto",children:(0,M.jsxs)("div",{children:[null===G||void 0===G||null===(_=G.getUserCourseProgress)||void 0===_||null===(y=_.data)||void 0===y||null===(w=y.chaptersData)||void 0===w?void 0:w.map(((e,l)=>{var r,s,t,i;return(0,M.jsx)("div",{className:"border-b border-solid border-border-primary last:border-none",children:(0,M.jsxs)("div",{className:"flex flex-wrap flex-col items-start justify-start [&>label]:mb-1 border-b border-solid border-border-primary last:border-0 px-5 py-4 ".concat(null!==e&&void 0!==e&&null!==(r=e.user_course_progress)&&void 0!==r&&r.is_chapter_completed?"bg-p-list-box-btn-bg":""," ").concat(null!==e&&void 0!==e&&null!==(s=e.user_course_progress)&&void 0!==s&&s.is_chapter_completed||V!==l?"":"bg-light-gray"," "),children:[(0,M.jsxs)("button",{className:"flex w-full items-center text-base font-semibold cursor-pointer mb-1",title:"Course",onClick:()=>(e=>{var l;$((0,g.rS)(e)),le({courseId:L,chapterId:null===H||void 0===H||null===(l=H[e])||void 0===l?void 0:l.uuid}).catch((e=>{var l,r,s;N.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(r=l.result)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.message)}))})(l),disabled:se!==(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)&&"false"!==Q&&!(null!==e&&void 0!==e&&null!==(t=e.user_course_progress)&&void 0!==t&&t.is_chapter_completed),children:[(0,M.jsx)("div",{className:"flex items-center gap-2.5 [&>input[type=checkbox]]:rounded-full [&>input[type=checkbox]]:h-3 [&>input[type=checkbox]]:min-w-[12px] [&>input[type=checkbox]]:w-3 [&>input[type=checkbox]:checked]:bg-success [&>input[type=checkbox]:checked]:border-success [&>input[type=checkbox]:checked]:after:content-none",children:(0,M.jsx)("input",{type:"checkbox",checked:null===e||void 0===e||null===(i=e.user_course_progress)||void 0===i?void 0:i.is_chapter_completed,readOnly:!0})}),(0,M.jsx)("span",{className:"ml-2 text-base font-bold break-all capitalize",children:"Chapter ".concat(l+1)})]}),(0,M.jsxs)("h6",{className:"mb-2.5 text-lg line-clamp-2 capitalize",children:[" ",null===e||void 0===e?void 0:e.title]}),(0,M.jsx)("p",{className:"text-base text-light-grey",children:null===m.et||void 0===m.et?void 0:m.et["".concat(null===e||void 0===e?void 0:e.type)]})]})},null===e||void 0===e?void 0:e.uuid)})),!(null!==G&&void 0!==G&&null!==(D=G.getUserCourseProgress)&&void 0!==D&&null!==(S=D.data)&&void 0!==S&&null!==(U=S.chaptersData)&&void 0!==U&&U.length)&&(0,M.jsx)("div",{className:"border-b border-solid border-border-primary last:border-none",children:(0,M.jsx)("div",{className:"flex flex-wrap flex-col items-start justify-start [&>label]:mb-1 border-b border-solid border-border-primary last:border-0 px-5 py-4  ",children:(0,M.jsx)("div",{className:"flex justify-center",children:(0,M.jsx)("div",{children:R("No Chapters Found")})})})})]})}),(0,M.jsx)("div",{children:(null===G||void 0===G||null===(z=G.getUserCourseProgress)||void 0===z||null===(q=z.data)||void 0===q?void 0:q.is_show_certification_tab)&&(0,M.jsx)("div",{className:"border-t border-solid border-border-primary",children:(0,M.jsxs)("button",{onClick:te,className:"flex items-center justify-between px-5 py-5 font-semibold text-primary",disabled:O,title:"",children:[O?(0,M.jsx)(I.p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"}):R("Claim Certificate"),(0,M.jsx)("span",{className:"text-xs ml-2",children:(0,M.jsx)(x.D0,{})})]})})})]})]})};var S=r(31881),U=r(12209),z=r(66518);r(46555);const q=e=>{var l,r,s,t;let{options:i,previous:n,question:o}=e;const a=(0,p.wA)(),{selectedOptions:c,activeChapter:u,courseContent:v,activeIndex:h}=(0,p.d4)((e=>e.coursesManagement));(0,d.useEffect)((()=>{var e;(null===u||void 0===u||null===(e=u.chapter_quiz)||void 0===e?void 0:e.length)>0&&b(c)}),[c,i]);const m=(0,d.useCallback)((e=>{var l;!(null===c||void 0===c?void 0:c.some((l=>(null===l||void 0===l?void 0:l.option_uuid)===(null===e||void 0===e?void 0:e.uuid))))&&o&&(a((0,g.O6)([...c,{option_uuid:e.uuid,question_uuid:o,is_correct:e.is_correct}])),(null===u||void 0===u||null===(l=u.chapter_quiz)||void 0===l?void 0:l.length)>0&&b([...c,{option_uuid:e.uuid,question_uuid:o,is_correct:e.is_correct}]))}),[c,i]),b=e=>{const l=null===i||void 0===i?void 0:i.filter((e=>!0===(null===e||void 0===e?void 0:e.is_correct))),r=e.filter((e=>(null===e||void 0===e?void 0:e.question_uuid)===o&&(null===e||void 0===e?void 0:e.is_correct)));(null===r||void 0===r?void 0:r.length)===l.length&&a((0,g.zt)(!0))},f=(e,l,r)=>{if(null!==c&&void 0!==c&&c.length&&c.some((l=>(null===l||void 0===l?void 0:l.option_uuid)===(null===e||void 0===e?void 0:e.uuid))))return c.some((l=>(null===l||void 0===l?void 0:l.option_uuid)===(null===e||void 0===e?void 0:e.uuid)&&(null===l||void 0===l?void 0:l.is_correct)))?r:l};return(0,M.jsx)("div",{children:(0,M.jsxs)("div",{children:[!n&&!(null!==v&&void 0!==v&&null!==(l=v[h])&&void 0!==l&&null!==(r=l.user_course_progress)&&void 0!==r&&r.is_chapter_completed)&&(0,M.jsx)(M.Fragment,{children:null===i||void 0===i?void 0:i.map((e=>(0,M.jsx)("div",{className:"mb-4 md:mb-5 last:mb-0",children:(0,M.jsx)("label",{className:"flex items-center",children:(0,M.jsxs)("span",{className:"relative w-full h-10 md:h-[50px]",children:[(0,M.jsx)("span",{className:"".concat(f(e,"text-error","text-p-list-box-btn")," absolute font-normal -translate-y-1/2 text-xs-14 md:text-base top-1/2 left-5 right-12"),children:e.option}),(0,M.jsx)("input",{type:"radio",name:e.uuid,value:e.uuid,checked:c.some((l=>l.option_uuid===e.uuid)),onChange:()=>m(e),className:"w-full h-full border appearance-none border-border-primary rounded-xl focus:outline-none focus:border checked:bg-border-secondary focus:bg-border-secondary ".concat(c.some((l=>l.option_uuid===e.uuid&&l.is_correct))?"checked:border-p-list-box-btn focus:border-p-list-box-btn":"checked:bg-light-red checked:border-error focus:border-error focus:bg-light-red")}),!(null===c||void 0===c||!c.length)&&(0,M.jsx)("span",{className:"absolute top-1/2 transform -translate-y-1/2 right-5",children:f(e,(0,M.jsx)(x.YY,{className:"text-error !w-[0.9em] !h-[0.9em]"}),(0,M.jsx)(x.Jl,{className:"text-p-list-box-btn"}))})]})})},e.uuid)))}),n||(null===v||void 0===v||null===(s=v[h])||void 0===s||null===(t=s.user_course_progress)||void 0===t?void 0:t.is_chapter_completed)&&(0,M.jsx)(M.Fragment,{children:null===i||void 0===i?void 0:i.map((e=>(0,M.jsx)("div",{className:"mb-4 md:mb-5 last:mb-0",children:(0,M.jsx)("label",{className:"flex items-center",children:(0,M.jsxs)("span",{className:"relative w-full h-10 md:h-[50px]",children:[(0,M.jsx)("span",{className:"".concat(null!==e&&void 0!==e&&e.is_correct?"text-p-list-box-btn":"text-error"," absolute font-normal -translate-y-1/2 text-xs-14 md:text-base top-1/2 left-5 right-12"),children:e.option}),(0,M.jsx)("input",{type:"radio",name:e.uuid,value:e.uuid,checked:""!==(null===e||void 0===e?void 0:e.uuid),disabled:!0,className:"w-full h-full border appearance-none border-border-primary rounded-xl focus:outline-none focus:border checked:bg-border-secondary focus:bg-border-secondary ".concat(null===e||void 0===e?void 0:e.is_correct,"  ").concat(null!==e&&void 0!==e&&e.is_correct?"checked:border-p-list-box-btn focus:border-p-list-box-btn":"checked:bg-light-red checked:border-error focus:border-error focus:bg-light-red")}),(0,M.jsx)("span",{className:"absolute top-1/2 transform -translate-y-1/2 right-5",children:null!==e&&void 0!==e&&e.is_correct?(0,M.jsx)(x.Jl,{className:"text-p-list-box-btn"}):(0,M.jsx)(x.YY,{className:"text-error !w-[0.9em] !h-[0.9em]"})})]})})},e.uuid)))})]})})};var E=r(41290);const R=r.p+"static/media/trophy-animation.0499d0cc9735f4d8a6af.gif",$=(0,d.memo)((function(e){let{dynamicWidth:l}=e;return(0,M.jsx)("div",{className:"min-h-[6px] h-1.5 rounded-xl bg-border-primary mb-7 md:mb-7.5",children:(0,M.jsx)("div",{className:"block h-full bg-gradient-to-l from-p-list-box-btn to-primary rounded-xl",style:{width:"".concat(l,"%")}})})}));const L=function(e){var l,r,s,t,i,n,o,a,c,b,f,_,j,y;let{chapterData:w}=e;const{t:C}=(0,h.Bd)(),k=(0,p.wA)(),{id:A}=(0,u.g)(),[P]=(0,v.ok)(),D=P.get("isPublished"),U=P.get("isViewAsLearner"),[L,F]=(0,d.useState)(!1),[Y,{loading:Q}]=(0,S.n)(z.c),[B,T]=(0,d.useState)(0),{nextEnable:O,chaptersCount:J,activeChapter:H,activeIndex:W,courseContent:V}=(0,p.d4)((e=>e.coursesManagement)),G=((null===w||void 0===w?void 0:w.chapter_quiz)||[]).map((e=>({question:null===e||void 0===e?void 0:e.question,uuid:null===e||void 0===e?void 0:e.uuid}))).flat().length,[Z,K]=(0,d.useState)(!1),{userProfileData:X}=(0,p.d4)((e=>e.userProfile)),ee="true"===U?null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN:null===X||void 0===X||null===(l=X.getProfile)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.user_type;(0,d.useEffect)((()=>()=>{k((0,g.O6)([])),k((0,g.zt)(!1))}),[]),(0,d.useEffect)((()=>{ee===(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)&&k((0,g.zt)(!0))}),[ee]);const le=(0,d.useCallback)((e=>{B<(null===e||void 0===e?void 0:e.length)-1&&(K(!1),T(B+1),[m.ve.SUPER_ADMIN].includes(ee)||k((0,g.zt)(!1)))}),[B,w]),re=(B+1)/G*100,se=(0,d.useCallback)((()=>{var e,l;null!==H&&void 0!==H&&null!==(e=H.user_course_progress)&&void 0!==e&&null!==(l=e[0])&&void 0!==l&&l.is_chapter_completed||ee===(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)||"false"===D||Y({variables:{userCourseProgressData:{course_id:A,chapter_id:null===H||void 0===H?void 0:H.uuid,is_chapter_completed:!0,video_last_check_time:null}}}).then((e=>{var l,r,s,t,i,n;k((0,g.Y)(+(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(r=l.updateUserCourseProgress)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.percentage))),100===+(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(i=t.updateUserCourseProgress)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.percentage)&&F(!0),k((0,g.aH)(!0)),J!==W+1&&k((0,g.D0)(!0))})).catch((e=>{var l,r,s;N.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(r=l.result)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.message)})),W+1===J&&ee!==(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)&&F(!0),W+1===J&&U&&F(!0)}),[H,J]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"px-5 pt-5 md:h-full overflow-auto flex flex-col",children:[(0,M.jsxs)("div",{className:"flex justify-between items-center",children:[(0,M.jsx)("h6",{className:"mb-5",children:"Question ".concat(B+1,"/").concat(G)}),2===(null===w||void 0===w||null===(s=w.chapter_quiz)||void 0===s||null===(t=s[B])||void 0===t?void 0:t.type)&&(0,M.jsx)("p",{className:"text-right mb-5 text-light-grey italic inline-flex",children:"(There are  mutiple answers.)"})]}),(0,M.jsx)($,{dynamicWidth:re}),(0,M.jsxs)("div",{className:"flex flex-col h-full",children:[(0,M.jsx)("p",{className:"mb-5 text-base font-bold md:text-lg md:mb-7.5 break-words",children:null===w||void 0===w||null===(i=w.chapter_quiz)||void 0===i||null===(n=i[B])||void 0===n?void 0:n.question}),(0,M.jsx)("div",{className:"md:max-w-[487px] mb-7",children:(0,M.jsx)(q,{options:null===w||void 0===w||null===(o=w.chapter_quiz)||void 0===o||null===(a=o[B])||void 0===a?void 0:a.quiz_question,previous:Z,question:null===w||void 0===w||null===(c=w.chapter_quiz)||void 0===c||null===(b=c[B])||void 0===b?void 0:b.uuid})}),(0,M.jsxs)("div",{className:"flex flex-wrap gap-3 mt-auto pb-5 justify-between",children:[(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-normal disabled:cursor-not-allowed",title:"Previous",onClick:()=>(B>0&&T(B-1),void(Z||k((0,g.zt)(!0)))),disabled:0===B,children:"Previous"}),(0,M.jsx)("div",{className:"flex gap-3",children:B+1!==(null===w||void 0===w||null===(f=w.chapter_quiz)||void 0===f?void 0:f.length)?(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-primary disabled:cursor-not-allowed",title:"Next",onClick:()=>{var e;return le({length:null===w||void 0===w||null===(e=w.chapter_quiz)||void 0===e?void 0:e.length})},disabled:(()=>{var e,l,r,s;return(!(null!==V&&void 0!==V&&null!==(e=V[W])&&void 0!==e&&null!==(l=e.user_course_progress)&&void 0!==l&&l.is_chapter_completed||"false"===D)||B+1===(null===w||void 0===w||null===(r=w.chapter_quiz)||void 0===r?void 0:r.length))&&(B+1===(null===w||void 0===w||null===(s=w.chapter_quiz)||void 0===s?void 0:s.length)||!O)})()||Q,children:"Next"}):(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-primary disabled:cursor-not-allowed",title:"Finish",onClick:()=>se(),disabled:B+1!==(null===w||void 0===w||null===(_=w.chapter_quiz)||void 0===_?void 0:_.length)||(null===w||void 0===w||null===(j=w.user_course_progress)||void 0===j||null===(y=j[0])||void 0===y?void 0:y.is_chapter_completed)||Q||!O,children:Q?(0,M.jsx)(I.p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"}):"Finish"})})]})]})]}),L&&(0,M.jsx)("div",{id:"defaultCongratsModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(L?"":"hidden"),children:(0,M.jsx)("div",{id:"defaultCongratsModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(L?"":"opacity-0 transform -translate-y-full scale-150 "," transition-all duration-300 "),children:(0,M.jsx)("div",{className:"w-full max-w-[640px]  mx-5",children:(0,M.jsxs)("div",{className:"relative bg-white rounded-xl md:p-7 p-5",children:[(0,M.jsx)("div",{className:"flex items-center justify-end ",children:(0,M.jsx)(E.A,{onClick:()=>{F(!1)},label:"",children:(0,M.jsx)(x.YY,{className:"text-error",fontSize:"14"})})}),(0,M.jsx)("div",{className:"max-w-[160px] mx-auto md:max-w-[210px] mb-2",children:(0,M.jsx)("img",{src:R,alt:"Trophy Image",title:"Trophy"})}),(0,M.jsx)("h1",{className:"mb-2 text-p-list-box-btn text-center",children:C("Congratulations!")}),(0,M.jsx)("h6",{className:"mb-5 text-p-list-box-btn text-center",children:C("You have completed the course")})]})})})})]})};var F=r(10959),Y=r(1043),Q=r.n(Y);const B=()=>{var e,l,r,s,t,i,n,o,a,c,b,f,_,j;const{t:y}=(0,h.Bd)(),{id:w}=(0,u.g)(),[C]=(0,v.ok)(),k=C.get("isViewAsLearner"),A=(0,p.wA)(),[P,I]=(0,d.useState)(!1),[D]=(0,S.n)(z.c),{videoTime:U,activeChapter:q,play:$,activeIndex:L,courseContent:F}=(0,p.d4)((e=>e.coursesManagement)),{userProfileData:Y}=(0,p.d4)((e=>e.userProfile)),B="true"===k?null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN:null===Y||void 0===Y||null===(e=Y.getProfile)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.user_type,T=(0,d.useCallback)((()=>{A((0,g.hM)(!0))}),[]),O=(0,d.useCallback)((()=>{J(!1,U)}),[U]),J=(e,l)=>{var r,s,t;null!==q&&void 0!==q&&null!==(r=q.user_course_progress)&&void 0!==r&&null!==(s=r[0])&&void 0!==s&&s.is_chapter_completed||B===(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)||D({variables:{userCourseProgressData:{course_id:w,chapter_id:null===F||void 0===F||null===(t=F[L])||void 0===t?void 0:t.uuid,is_chapter_completed:e,video_last_check_time:l}}}).then((l=>{var r,s,t,i,n,o;A((0,g.Y)(+(null===l||void 0===l||null===(r=l.data)||void 0===r||null===(s=r.updateUserCourseProgress)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.percentage))),100===+(null===l||void 0===l||null===(i=l.data)||void 0===i||null===(n=i.updateUserCourseProgress)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.percentage)&&I(!0),e&&A((0,g.aH)(!0))})).catch((e=>{var l,r,s;N.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(r=l.result)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.message)}))};return(0,M.jsxs)(M.Fragment,{children:[null!==(null===q||void 0===q||null===(r=q.chapter_content)||void 0===r?void 0:r.youtube_url)&&void 0!==(null===q||void 0===q||null===(s=q.chapter_content)||void 0===s?void 0:s.youtube_url)?(0,M.jsx)(Q(),{url:"".concat(null===q||void 0===q||null===(t=q.chapter_content)||void 0===t?void 0:t.youtube_url,"&start=").concat(null!==(i=null===q||void 0===q||null===(n=q.user_course_progress)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.video_last_check_time)&&void 0!==i?i:0,"&rel=1"),width:"100%",height:"100%",playing:$,controls:!0,onStart:T,onProgress:e=>{Math.ceil(null===e||void 0===e?void 0:e.playedSeconds)%m.gt===0&&J(!1,Math.ceil(null===e||void 0===e?void 0:e.playedSeconds)),A((0,g.DC)(Math.ceil(null===e||void 0===e?void 0:e.playedSeconds)))},onEnded:()=>{A((0,g.D0)(!1))},onPause:O,config:{youtube:{playerVars:{controls:1,modestbranding:1,rel:0,showinfo:0}}},onContextMenu:e=>e.preventDefault(),light:(0,M.jsx)("img",{src:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(null===q||void 0===q||null===(a=q.chapter_content)||void 0===a?void 0:a.image),alt:"Organic Waste",title:"",className:"object-cover w-full h-full"}),playIcon:(0,M.jsx)("span",{className:"absolute text-5xl bg-white rounded-full w-10 h-10 lg:w-[60px] lg:h-[60px]  flex justify-center items-center",children:(0,M.jsx)(x.T6,{})})}):(0,M.jsx)(Q(),{url:"".concat(null===q||void 0===q||null===(c=q.chapter_content)||void 0===c?void 0:c.youtube_url,"&start=").concat(null!==(b=null===q||void 0===q||null===(f=q.user_course_progress)||void 0===f||null===(_=f[0])||void 0===_?void 0:_.video_last_check_time)&&void 0!==b?b:0,"&rel=1"),width:"100%",height:"100%",playing:$,controls:!0,config:{youtube:{playerVars:{modestbranding:1,rel:0,showinfo:0}}},onContextMenu:e=>e.preventDefault(),light:(0,M.jsx)("img",{src:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(null===q||void 0===q||null===(j=q.chapter_content)||void 0===j?void 0:j.image),alt:"Organic Waste",title:"",className:"object-cover w-full h-full"}),playIcon:(0,M.jsx)("span",{className:"absolute text-5xl bg-white rounded-full w-10 h-10 lg:w-[60px] lg:h-[60px]  flex justify-center items-center",children:(0,M.jsx)(x.T6,{})})}),P&&(0,M.jsx)("div",{id:"defaultYoutubeModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(P?"":"hidden"),children:(0,M.jsx)("div",{id:"defaultYoutubeModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(P?"":"opacity-0 transform -translate-y-full scale-150 "," transition-all duration-300 "),children:(0,M.jsx)("div",{className:"w-full mx-5 max-w-[640px]",children:(0,M.jsxs)("div",{className:"p-5 bg-white rounded-xl md:p-7 relative",children:[(0,M.jsx)("div",{className:"flex items-center justify-end ",children:(0,M.jsx)(E.A,{onClick:()=>{I(!1)},label:"",children:(0,M.jsx)(x.YY,{className:"text-error",fontSize:"14"})})}),(0,M.jsx)("div",{className:"max-w-[160px] md:max-w-[210px] mx-auto mb-2",children:(0,M.jsx)("img",{src:R,alt:"Trophy Course Image",title:"Trophy"})}),(0,M.jsx)("h1",{className:"text-center text-p-list-box-btn mb-2",children:y("Congratulations!")}),(0,M.jsx)("h6",{className:"text-center text-p-list-box-btn mb-5",children:y("You have completed the course")})]})})})})]})};var T=r(77397),O=r(97806),J=r(6584);r(66601),r(71975);T.EA.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(T.rE,"/pdf.worker.mjs");const H=function(){var e,l,r,s,t,i,n;const{t:o}=(0,h.Bd)(),{id:a}=(0,u.g)(),[b,f]=(0,d.useState)(1),[_]=(0,v.ok)(),j=_.get("isPublished"),y=_.get("isViewAsLearner"),w=(0,p.wA)(),[C,k]=(0,d.useState)(!1),[A,{loading:P}]=(0,S.n)(z.c),[q,$]=(0,d.useState)(!1),{videoTime:Y,activeChapter:Q,percentage:T,chaptersCount:H,activeIndex:W,courseContent:V,moveNext:G}=(0,p.d4)((e=>e.coursesManagement)),{userProfileData:Z}=(0,p.d4)((e=>e.userProfile)),K="true"===y?null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN:null===Z||void 0===Z||null===(e=Z.getProfile)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.user_type,[X,ee]=(0,d.useState)(null),[le,re]=(0,d.useState)(1),se=(0,d.useRef)(null),te=(e,l)=>{var r,s,t;K===(null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN)||"false"===j||null!==V&&void 0!==V&&null!==(r=V[W])&&void 0!==r&&null!==(s=r.user_course_progress)&&void 0!==s&&s.is_chapter_completed?W+1!==H&&w((0,g.rS)(W+1)):A({variables:{userCourseProgressData:{course_id:a,chapter_id:null===V||void 0===V||null===(t=V[W])||void 0===t?void 0:t.uuid,is_chapter_completed:e,video_last_check_time:l}}}).then((e=>{var l,r,s;w((0,g.Y)(+(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(r=l.updateUserCourseProgress)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.percentage))),w((0,g.aH)(!0)),H===W+1?$(!0):w((0,g.rS)(W+1))})).catch((e=>{var l,r,s;N.oR.error(null===e||void 0===e||null===(l=e.networkError)||void 0===l||null===(r=l.result)||void 0===r||null===(s=r.errors[0])||void 0===s?void 0:s.message)}))},ie=(0,d.useCallback)((()=>{0!==W&&w((0,g.rS)(W-1))}),[W]),ne=(0,d.useCallback)((()=>{P||0===H||([m.ve.SUPER_ADMIN].includes(K)||"false"===j||w((0,g.D0)(!0)),Y&&[1].includes(null===Q||void 0===Q?void 0:Q.type)?te(!0,Y):te(!0,null))}),[null===Q||void 0===Q?void 0:Q.type,W,j,P]),[oe,ae]=(0,d.useState)("");(0,d.useEffect)((()=>{var e,l;null!==Q&&void 0!==Q&&null!==(e=Q.chapter_content)&&void 0!==e&&e.pdf_url&&(async e=>{k(!0);const l=await(0,m.Do)(e);ae(l),k(!1)})(null===Q||void 0===Q||null===(l=Q.chapter_content)||void 0===l?void 0:l.pdf_url)}),[Q]),(0,d.useEffect)((()=>{const e=()=>{if(se.current){const e=se.current.querySelectorAll(".pdf-page");let l=1;for(let r=0;r<e.length;r++){const s=e[r],{top:t,bottom:i}=s.getBoundingClientRect();if(t<window.innerHeight&&i>=0){l=r+1;break}}re(l)}},l=se.current;return null===l||void 0===l||l.addEventListener("scroll",e),()=>{null===l||void 0===l||l.removeEventListener("scroll",e)}}),[X]),(0,d.useEffect)((()=>{(null===Q||void 0===Q?void 0:Q.type)===(null===m.AM||void 0===m.AM?void 0:m.AM.pdf)&&null!==X&&le===X&&W+1!==H&&w((0,g.D0)(!1))}),[le,Q,X]),(0,d.useEffect)((()=>{var e,l;(null===Q||void 0===Q?void 0:Q.type)!==(null===m.AM||void 0===m.AM?void 0:m.AM.text)||null!==V&&void 0!==V&&null!==(e=V[W])&&void 0!==e&&null!==(l=e.user_course_progress)&&void 0!==l&&l.is_chapter_completed||w((0,g.D0)(!1))}),[Q,V]),(0,d.useEffect)((()=>{var e,l;(null===Q||void 0===Q?void 0:Q.type)!==(null===m.AM||void 0===m.AM?void 0:m.AM.youtube)||null!==V&&void 0!==V&&null!==(e=V[W])&&void 0!==e&&null!==(l=e.user_course_progress)&&void 0!==l&&l.is_chapter_completed||[null===m.ve||void 0===m.ve?void 0:m.ve.SUPER_ADMIN].includes(K)||!G?w((0,g.D0)(!1)):w((0,g.D0)(!0))}),[Q,V]),(0,d.useEffect)((()=>{var e,l;null!==V&&void 0!==V&&null!==(e=V[W])&&void 0!==e&&null!==(l=e.user_course_progress)&&void 0!==l&&l.is_chapter_completed&&w((0,g.D0)(!1))}),[V,W]),(0,d.useEffect)((()=>{![m.ve.SUPER_ADMIN].includes(K)&&"false"!==j||W+1===H||w((0,g.D0)(!1))}),[K,j]);const de=(e,l,r)=>e?l:r,ce=[null===m.AM||void 0===m.AM?void 0:m.AM.youtube].includes(null===Q||void 0===Q?void 0:Q.type)&&G&&!(null!==V&&void 0!==V&&null!==(r=V[W])&&void 0!==r&&null!==(s=r.user_course_progress)&&void 0!==s&&s.is_chapter_completed),ue=[m.AM.pdf].includes(null===Q||void 0===Q?void 0:Q.type)&&le!==X&&!(null!==V&&void 0!==V&&null!==(t=V[W])&&void 0!==t&&null!==(i=t.user_course_progress)&&void 0!==i&&i.is_chapter_completed);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(U.A,{headerTitle:"Course Learning Progress Page",headerActionConst:()=>{if(![m.ve.SUPER_ADMIN].includes(K))return(0,M.jsxs)("div",{className:"flex items-center",children:[(0,M.jsx)("div",{className:"w-[50px] md:w-[55px] mr-3 [&_.CircularProgressbar_.CircularProgressbar-text]:text-xl-30 [&_.CircularProgressbar_.CircularProgressbar-text]:font-bold [&_.CircularProgressbar_.CircularProgressbar-text]:fill-black [&_.CircularProgressbar_.CircularProgressbar-path]:stroke-orange",children:(0,M.jsx)(c.QF,{value:T,text:"".concat((0,m.hn)(T),"%")})}),(0,M.jsx)("span",{className:"whitespace-nowrap",children:"Your Progress"})]})}}),(0,M.jsxs)("div",{className:"flex flex-wrap justify-between 2lg:gap-2.5 2xl:gap-[0.938rem] flex-row-reverse",children:[(0,M.jsx)("div",{className:"w-full 2lg:w-[calc(40%-10px)] 2xl:w-[calc(33%-15px)] rounded-xl overflow-hidden mb-7",children:(0,M.jsx)(D,{setLoading:k})}),(0,M.jsxs)("div",{className:"relative w-full 2lg:w-[calc(60%-10px)] 2xl:w-[calc(67%-15px)] min-h-340px",children:[C||P?(0,M.jsx)(F.A,{}):(0,M.jsxs)(M.Fragment,{children:[void 0===(null===Q||void 0===Q?void 0:Q.type)&&(0,M.jsx)("div",{className:"relative overflow-auto border border-solid border-border-primary rounded-xl mb-9 aspect-video",children:(0,M.jsx)("div",{className:"flex w-full h-full justify-center items-center",children:(0,M.jsx)("div",{children:o("No Data Found")})})}),[null===m.AM||void 0===m.AM?void 0:m.AM.youtube].includes(null===Q||void 0===Q?void 0:Q.type)&&(0,M.jsx)("div",{className:"relative overflow-auto border border-solid border-border-primary rounded-xl mb-9 aspect-video",children:(0,M.jsx)(B,{})}),[null===m.AM||void 0===m.AM?void 0:m.AM.quiz].includes(null===Q||void 0===Q?void 0:Q.type)&&(0,M.jsx)("div",{className:"relative overflow-auto border border-solid border-border-primary rounded-xl mb-9 aspect-video",children:(0,M.jsx)(L,{chapterData:Q})}),(null===Q||void 0===Q?void 0:Q.type)===(null===m.AM||void 0===m.AM?void 0:m.AM.text)&&(0,M.jsx)("div",{className:"relative overflow-auto border border-solid border-border-primary rounded-xl mb-9 aspect-video",children:(0,M.jsx)("div",{className:"text-left break-all p-5",dangerouslySetInnerHTML:{__html:null===Q||void 0===Q||null===(n=Q.chapter_content)||void 0===n?void 0:n.description}})}),(null===Q||void 0===Q?void 0:Q.type)===(null===m.AM||void 0===m.AM?void 0:m.AM.pdf)&&(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsxs)("div",{className:"btn-group mb-4 left-0 p-1 z-10 m-4",children:[(0,M.jsx)(E.A,{type:"button",className:"btn-normal btn-primary font-bold",onClick:()=>f((e=>Math.max(e-.1,.1))),label:"",children:(0,M.jsx)(x.en,{className:"text-white fill-white",fontSize:"16"})}),(0,M.jsx)(E.A,{type:"button",className:"btn-normal btn-secondary hover:fill-white",onClick:()=>f((e=>e+.1)),label:"",children:(0,M.jsx)(x.$Z,{className:"text-white hover:fill-white",fontSize:"16"})})]}),(0,M.jsx)("div",{ref:se,className:"relative overflow-auto border border-solid border-border-primary rounded-xl mb-9 aspect-video flex justify-center",children:oe?(0,M.jsx)(O.A,{file:oe,onLoadSuccess:e=>{let{numPages:l}=e;ee(l),re(1)},children:Array.from(new Array(X),((e,l)=>(0,M.jsx)("div",{className:"pdf-page",children:(0,M.jsx)(J.A,{pageNumber:l+1,scale:b})},"page_".concat(l+1))))}):(0,M.jsx)("p",{children:"Loading PDF..."})})]})]}),(0,M.jsxs)("div",{className:"flex justify-between w-full gap-3 md:w-auto md:gap-5",children:[(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-normal disabled:cursor-not-allowed",title:"Previous",onClick:ie,disabled:0===W,children:"Previous"}),(0,M.jsx)("div",{className:"flex gap-3",children:W+1!==H?(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-primary disabled:cursor-not-allowed",title:"Next",onClick:ne,disabled:P||C||G||(()=>{var e,l;return[null===m.AM||void 0===m.AM?void 0:m.AM.quiz].includes(null===Q||void 0===Q?void 0:Q.type)&&![m.ve.SUPER_ADMIN].includes(K)&&!(null!==Q&&void 0!==Q&&null!==(e=Q.user_course_progress)&&void 0!==e&&null!==(l=e[0])&&void 0!==l&&l.is_chapter_completed)})(),children:P?(0,M.jsx)(I.p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"}):"Next"}):(0,M.jsx)("button",{className:"w-full btn md:w-[120px] btn-primary disabled:cursor-not-allowed ".concat([null===m.AM||void 0===m.AM?void 0:m.AM.quiz].includes(null===Q||void 0===Q?void 0:Q.type)?"!hidden":""),title:"Finish",onClick:()=>(100===T||[m.ve.SUPER_ADMIN].includes(K)||te(!0,null),void((100===T||[m.ve.SUPER_ADMIN].includes(K))&&$(!0))),disabled:W+1!==H||P||C||ue||ce,children:P?(0,M.jsx)(I.p,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"}):"Finish"})})]})]}),q&&(0,M.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal ".concat(de(q,"","hidden")),children:(0,M.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(de(q,"","opacity-0 transform -translate-y-full scale-150 ")," transition-all duration-300 "),children:(0,M.jsx)("div",{className:"w-full mx-5 max-w-[640px]",children:(0,M.jsxs)("div",{className:"relative p-5 bg-white rounded-xl md:p-7",children:[(0,M.jsx)("div",{className:"flex items-center justify-end ",children:(0,M.jsx)(E.A,{onClick:()=>{$(!1)},label:"",children:(0,M.jsx)(x.YY,{className:"text-error",fontSize:"14"})})}),(0,M.jsx)("div",{className:"max-w-[160px] md:max-w-[210px] mb-2 mx-auto",children:(0,M.jsx)("img",{src:R,alt:"Trophy Image",title:"Trophy"})}),(0,M.jsx)("h1",{className:"mb-2 text-center text-p-list-box-btn",children:o("Congratulations!")}),(0,M.jsx)("h6",{className:"mb-5 text-center text-p-list-box-btn",children:o("You have completed the course")}),(0,M.jsx)("div",{className:"w-full text-center"})]})})})})]})]})}}}]);
//# sourceMappingURL=5801.df5924f9.chunk.js.map
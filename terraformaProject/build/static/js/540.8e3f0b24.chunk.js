"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[540],{38133:(l,e,i)=>{i.d(e,{A:()=>a});i(65043);var o=i(41290),d=i(33556),n=i(70579);const a=l=>{let{data:e,onClick:i,className:a,setData:t}=l;return(0,n.jsx)(o.A,{className:"bg-transparent btn-default ".concat(a),onClick:()=>{i(null===e||void 0===e?void 0:e.uuid),t&&t(e)},label:"",title:"Edit",children:(0,n.jsx)(d.ff,{})})}},62500:(l,e,i)=>{i.d(e,{A:()=>t});var o=i(65043),d=i(41290),n=i(33556),a=i(70579);const t=l=>{let{data:e,setObj:i,setIsDelete:t,className:u,customClick:v}=l;const r=(0,o.useCallback)((()=>{i(e),!v&&t(!0),v&&v(e)}),[]);return(0,a.jsx)(d.A,{className:"bg-transparent cursor-pointer btn-default btn-icon ".concat(u),onClick:r,label:"",title:"Delete",children:(0,a.jsx)(n.lM,{className:"fill-error"})})}},81410:(l,e,i)=>{i.d(e,{A:()=>d});i(65043);var o=i(70579);const d=function(){return(0,o.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},50099:(l,e,i)=>{i.d(e,{Eq:()=>c,Lm:()=>r,mV:()=>v,yG:()=>s});var o,d,n,a,t=i(57528),u=i(70459);const v=(0,u.J1)(o||(o=(0,t.A)(["query GetDiversionReportHistory($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!, $locationId: String!) {\n    getDiversionReportHistory(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search, locationId: $locationId) {\n      message\n      data {\n        count\n        diversionReportHistory {\n          contractor_company {\n            name\n            uuid\n          }\n          location {\n            location\n            uuid\n          }\n          subscriber {\n            uuid\n          }\n          title\n          start_date\n          end_date\n          frequency\n          uuid\n        }\n      }\n    }\n  }"]))),r=(0,u.J1)(d||(d=(0,t.A)(["query GetDiversionReportsByHistoryId($historyId: String!) {\n  getDiversionReportsByHistoryId(historyId: $historyId) {\n    message\n    data {\n      user {\n        first_name\n        last_name\n        uuid\n      }\n      subscriber {\n        uuid\n      }\n      start_date\n      end_date\n      location {\n        uuid\n        location\n      }\n      invoice\n      frequency_time\n      document\n      contractor_company {\n        name\n        uuid\n      }\n      services {\n        uuid\n        add_units\n        approx_weight_per_month\n        approx_weight_per_unit\n        is_approx_weight_per_month_updated\n        equipment {\n          uuid\n          name\n        }\n        frequency {\n          uuid\n          frequency_type\n          frequency\n        }\n        is_full_site\n        is_submitted\n        lift {\n          uuid\n          name\n          date\n          weight\n        }\n        lifts\n        material {\n          name\n          uuid\n        }\n        material_type {\n          uuid\n          type\n          weight\n        }\n        service_type\n        zone {\n          uuid\n          location\n        }\n        volume {\n          uuid\n          volume\n          volume_cubic_yard\n        }\n      }\n    }\n  }\n}"]))),s=(0,u.J1)(n||(n=(0,t.A)(["query GetCompaniesByLocationId($companyType: Float!, $locationId: String!) {\n  getCompaniesByLocationId(company_type: $companyType, locationId: $locationId) {\n    message\n    data {\n      name\n      uuid\n      description\n      status\n    }\n  }\n}"]))),c=(0,u.J1)(a||(a=(0,t.A)(["query GetDiversionHistoryById($historyId: String!) {\n  getDiversionHistoryById(historyId: $historyId) {\n    message\n    data {\n      start_date\n      end_date\n      frequency\n      title\n      subscriber {\n        uuid\n      }\n      location {\n        uuid\n        location\n        city\n      }\n    }\n  }\n}"])))},80540:(l,e,i)=>{i.r(e),i.d(e,{default:()=>L});var o,d=i(65043),n=i(12209),a=i(41290),t=i(74117),u=i(8848),v=i(42145),r=i(33556),s=i(34764),c=i(62500),m=i(63516),p=i(35475),_=i(88250),h=i(31881),x=i(50099),y=i(12352),f=i(72545),g=i(79456),b=i(86178),w=i.n(b),j=i(66925),N=i(64526),q=i(16484),k=i(12283),C=i(10541),A=i(95295),I=i(72856),D=i(38133),F=i(57528);const S=(0,i(70459).J1)(o||(o=(0,F.A)(["mutation DeleteDiversionReport($reportId: [String!]!) {\n    deleteDiversionReport(reportId: $reportId) {\n      message\n    }\n  }"])));var V=i(31899),R=i.n(V),M=(i(25015),i(75289)),B=i(81410),E=i(16515),H=i(70579);const L=()=>{var l,e,i,o,b,F,V,L,z,Y,T,O,$,P,W,U,J,Z,G,K,Q,X,ll,el,il,ol,dl,nl,al,tl,ul,vl,rl,sl,cl,ml,pl,_l,hl,xl,yl,fl,gl,bl,wl,jl,Nl,ql,kl,Cl,Al,Il,Dl,Fl,Sl,Vl,Rl,Ml,Bl,El,Hl,Ll,zl,Yl,Tl,Ol,$l,Pl,Wl,Ul,Jl,Zl,Gl,Kl,Ql,Xl,le,ee,ie,oe,de;const{userProfileData:ne}=(0,g.d4)((l=>l.userProfile)),ae=(0,g.d4)((l=>l.addWeightsManagement)),[te]=(0,p.ok)(),ue=te.get("historyId"),ve=(0,g.wA)(),{t:re}=(0,t.Bd)(),[se,ce]=(0,d.useState)(!1),[me,pe]=(0,d.useState)(),[_e,he]=(0,d.useState)(!1),[xe,ye]=(0,d.useState)([{name:"Select Material Catergory",key:""}]),[fe,ge]=(0,d.useState)([{name:"Select Frequency",key:""}]),[be,we]=(0,d.useState)([{name:"Select Material Type"}]),[je,Ne]=(0,d.useState)([{name:"Select Equipment",key:""}]),[qe,ke]=(0,d.useState)([{name:"Select Zone",key:""}]),[Ce,Ae]=(0,d.useState)([{name:"Select Contractor",key:""}]),[Ie,De]=(0,d.useState)([{name:"Select Volume Type",key:""}]),[Fe,Se]=(0,d.useState)(!1),{data:Ve,refetch:Re,loading:Me}=(0,_.I)(x.Lm,{fetchPolicy:"network-only",skip:!ue,variables:{historyId:ue}}),{data:Be}=(0,_.I)(x.Eq,{fetchPolicy:"network-only",skip:!ue,variables:{historyId:ue}}),[Ee,{loading:He}]=(0,h.n)(f.H),[Le]=(0,h.n)(A.NR),[ze,{loading:Ye}]=(0,h.n)(S),{refetch:Te}=(0,_.I)(q.HV,{fetchPolicy:"network-only",skip:!0}),{refetch:Oe}=(0,_.I)(q.ci,{fetchPolicy:"network-only",skip:!0}),{refetch:$e}=(0,_.I)(k.Z,{fetchPolicy:"network-only",skip:!0}),{refetch:Pe}=(0,_.I)(C.cu,{fetchPolicy:"network-only",skip:!0}),{refetch:We}=(0,_.I)(x.yG,{fetchPolicy:"network-only",skip:!0,variables:{companyType:2,locationId:null===Be||void 0===Be||null===(l=Be.getDiversionHistoryById)||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.location)||void 0===i?void 0:i.uuid}}),[Ue]=(0,h.n)(E.Mq),Je=[{name:re("Lifts"),sortable:!1,fieldName:"Lifts"},{name:re("Insert Date"),sortable:!1,fieldName:"Insert Date"},{name:re("Input Weight"),sortable:!1,fieldName:"Input Weight"}],Ze=[{name:re("Sr.No"),sortable:!1},{name:re("Zone"),sortable:!1},{name:re("Service Type"),sortable:!1},{name:re("Material Category"),sortable:!1,fieldName:"Material Category"},{name:re("Material Type"),sortable:!1,fieldName:"Material Type"},{name:re("Equipment"),sortable:!1,fieldName:"Equipment"},{name:re("Volume"),sortable:!1,fieldName:"Volume"},{name:re("Add Unit"),sortable:!1,fieldName:"Add Unit"},{name:re("Frequency"),sortable:!1,fieldName:"Frequency"},{name:re("Lifts"),sortable:!1,fieldName:"Lifts"},{name:re("Approx Weight Per Unit"),sortable:!1,fieldName:"Approx Weight Per Unit"},{name:re("Weight Per Month"),sortable:!1,fieldName:"Weight Per Month"}],{historydiversionReport:Ge,historyNewdiversionReport:Ke}=(0,y.A)(),Qe=(0,m.Wx)({initialValues:{zone_id:"",service_type:"",material_id:"",material_type_id:"",equipment_id:"",volume_id:"",equipment:"",frequency_id:"",add_units:0,lifts:0,volume:"",approx_weight_per_unit:0,approx_weight_per_month:0,company_id:"",report_id:"",user_id:"",compactor_lifts:[],delete_lifts:[],document:"",invocie:"",volume_name:""},validationSchema:Ge,onSubmit:l=>{var e,i,o,d,n,a,t,u,r,s,c,m,p,_,h;ue&&Ee({variables:{isSubmitted:!0,reportData:[{zone_id:"full_site"!==(null===l||void 0===l?void 0:l.zone_id)&&null!==l&&void 0!==l&&l.zone_id?null===l||void 0===l?void 0:l.zone_id:"",service_type:null===l||void 0===l?void 0:l.service_type,material_id:null===l||void 0===l?void 0:l.material_id,material_type_id:null===l||void 0===l?void 0:l.material_type_id,equipment_id:null===l||void 0===l?void 0:l.equipment_id,volume_id:null===l||void 0===l?void 0:l.volume_id,frequency_id:null===l||void 0===l?void 0:l.frequency_id,add_units:+(null===l||void 0===l?void 0:l.add_units),lifts:null!==l&&void 0!==l&&l.compactor_lifts.length?null===l||void 0===l?void 0:l.compactor_lifts.length:+(null===l||void 0===l?void 0:l.lifts),approx_weight_per_unit:+(null===l||void 0===l?void 0:l.approx_weight_per_unit),approx_weight_per_month:+(null===l||void 0===l?void 0:l.approx_weight_per_month),report_id:(0,j.Ju)(null===l||void 0===l?void 0:l.report_id),user_id:null===l||void 0===l?void 0:l.user_id,compactor_lifts:null!==(e=null===l||void 0===l||null===(i=l.compactor_lifts)||void 0===i?void 0:i.map((l=>({...l,weight:+l.weight,date:null===l||void 0===l?void 0:l.date}))))&&void 0!==e?e:[],delete_lifts:null!==(o=null===l||void 0===l?void 0:l.delete_lifts)&&void 0!==o?o:[],company_id:null===l||void 0===l?void 0:l.company_id,document:(0,j.Ju)(null===l||void 0===l?void 0:l.document),invoice:null!==(d=null===l||void 0===l?void 0:l.invocie)&&void 0!==d?d:"",location_id:null===Be||void 0===Be||null===(n=Be.getDiversionHistoryById)||void 0===n||null===(a=n.data)||void 0===a||null===(t=a.location)||void 0===t?void 0:t.uuid,start_date:w()((0,j.zT)(null===Be||void 0===Be||null===(u=Be.getDiversionHistoryById)||void 0===u||null===(r=u.data)||void 0===r?void 0:r.start_date)).startOf("day").format("YYYY-MM-DD HH:mm:ss"),end_date:w()((0,j.zT)(null===Be||void 0===Be||null===(s=Be.getDiversionHistoryById)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.end_date)).endOf("day").format("YYYY-MM-DD HH:mm:ss"),frequency_time:null===Be||void 0===Be||null===(m=Be.getDiversionHistoryById)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.frequency,diversion_history_id:[v.ve.DIVERSION_ADMIN,v.ve.SUBSCRIBER_ADMIN].includes(null===ne||void 0===ne||null===(_=ne.getProfile)||void 0===_||null===(h=_.data)||void 0===h?void 0:h.user_type)?ue:""}]}}).then((l=>{var e,i;N.oR.success(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.createDiversionReport)||void 0===i?void 0:i.message),he(!1),Se(!1),pe(void 0),Re().catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),Qe.resetForm()})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))}}),Xe=(0,m.Wx)({initialValues:{company_id:"",zone_id:"",service_type:"",material_id:"",material_type_id:"",equipment_id:"",volume_id:"",equipment:"",frequency_id:"",add_units:0,lifts:0,volume:"",approx_weight_per_unit:0,approx_weight_per_month:0,volume_name:""},validationSchema:Ke,onSubmit:l=>{var e,i,o,d,n,a,t,u,v,r,s;ue&&Ee({variables:{isSubmitted:!1,reportData:[{zone_id:"full_site"!==(null===l||void 0===l?void 0:l.zone_id)&&null!==l&&void 0!==l&&l.zone_id?null===l||void 0===l?void 0:l.zone_id:"",service_type:null===l||void 0===l?void 0:l.service_type,material_id:null===l||void 0===l?void 0:l.material_id,material_type_id:null===l||void 0===l?void 0:l.material_type_id,equipment_id:null===l||void 0===l?void 0:l.equipment_id,volume_id:null===l||void 0===l?void 0:l.volume_id,frequency_id:null===l||void 0===l?void 0:l.frequency_id,add_units:+(null===l||void 0===l?void 0:l.add_units),lifts:+(null===l||void 0===l?void 0:l.lifts),approx_weight_per_unit:+(null===l||void 0===l?void 0:l.approx_weight_per_unit),approx_weight_per_month:+(null===l||void 0===l?void 0:l.approx_weight_per_month),report_id:"",user_id:null===ne||void 0===ne||null===(e=ne.getProfile)||void 0===e||null===(i=e.data)||void 0===i?void 0:i.uuid,compactor_lifts:[],delete_lifts:[],company_id:null===l||void 0===l?void 0:l.company_id,document:"",invoice:"",location_id:null===Be||void 0===Be||null===(o=Be.getDiversionHistoryById)||void 0===o||null===(d=o.data)||void 0===d||null===(n=d.location)||void 0===n?void 0:n.uuid,start_date:w()((0,j.zT)(null===Be||void 0===Be||null===(a=Be.getDiversionHistoryById)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.start_date)).startOf("day").format("YYYY-MM-DD HH:mm:ss"),end_date:w()((0,j.zT)(null===Be||void 0===Be||null===(u=Be.getDiversionHistoryById)||void 0===u||null===(v=u.data)||void 0===v?void 0:v.end_date)).endOf("day").format("YYYY-MM-DD HH:mm:ss"),frequency_time:null===Be||void 0===Be||null===(r=Be.getDiversionHistoryById)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.frequency,diversion_history_id:ue}]}}).then((l=>{var e,i;N.oR.success(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.createDiversionReport)||void 0===i?void 0:i.message),ce(!1),pe(void 0),Re().catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),Xe.resetForm()})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))}}),li=l=>{Le({variables:{siteId:l}}).then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getZoneBySiteId)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>({name:null===l||void 0===l?void 0:l.location,key:null===l||void 0===l?void 0:l.uuid})));d&&ke([{name:"Select Zone",key:""},{name:"Full Site",key:"full_site"},...d])})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),Oe().then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getMaterials)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>({name:null===l||void 0===l?void 0:l.name,key:null===l||void 0===l?void 0:l.uuid,uuid:null===l||void 0===l?void 0:l.uuid})));d&&ye([{name:"Select Material Catergory",key:""},...d])})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),$e().then((l=>{var e,i,o,d,n,a;const t={},u=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getEquipments)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>{var e,i,o;return t["".concat(null===l||void 0===l?void 0:l.uuid)]={volume:null===l||void 0===l||null===(e=l.volume)||void 0===e?void 0:e.volume,uuid:null===l||void 0===l||null===(i=l.volume)||void 0===i?void 0:i.uuid,cubic:null===l||void 0===l||null===(o=l.volume)||void 0===o?void 0:o.volume_cubic_yard,equipment:null===l||void 0===l?void 0:l.name},{name:null===l||void 0===l?void 0:l.volume,key:null===l||void 0===l?void 0:l.uuid,uuid:null===l||void 0===l?void 0:l.uuid}})),v=null===l||void 0===l||null===(d=l.data)||void 0===d||null===(n=d.getEquipments)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.map((l=>("compactor"===(null===l||void 0===l?void 0:l.name.toLocaleLowerCase())&&ve((0,I.eL)(null===l||void 0===l?void 0:l.uuid)),{name:null===l||void 0===l?void 0:l.name,key:null===l||void 0===l?void 0:l.name})));u&&ve((0,I.bZ)(t)),v&&Ne([{name:"Select Equipment",key:""},...v])})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),Pe().then((l=>{var e,i,o,d,n,a;const t=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getFrequencies)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>({name:null===l||void 0===l?void 0:l.frequency_type,key:null===l||void 0===l?void 0:l.uuid,code:null===l||void 0===l?void 0:l.uuid})));t&&ge([{name:"Select Frequency",key:""},...t]);const u={},v=null===l||void 0===l||null===(d=l.data)||void 0===d||null===(n=d.getFrequencies)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.map((l=>(u[null===l||void 0===l?void 0:l.uuid]=null===l||void 0===l?void 0:l.frequency,l)));v&&ve((0,I.zW)(u))})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))},ei=(0,d.useCallback)((()=>{var l,e,i,o,d,n;(We().then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getCompaniesByLocationId)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>({name:null===l||void 0===l?void 0:l.name,key:null===l||void 0===l?void 0:l.uuid})));Ae([{name:"Select Contractor",key:""},...d])})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),null!==Be&&void 0!==Be&&null!==(l=Be.getDiversionHistoryById)&&void 0!==l&&null!==(e=l.data)&&void 0!==e&&null!==(i=e.location)&&void 0!==i&&i.uuid)&&li(null===Be||void 0===Be||null===(o=Be.getDiversionHistoryById)||void 0===o||null===(d=o.data)||void 0===d||null===(n=d.location)||void 0===n?void 0:n.uuid);ce(!0)}),[null===Be||void 0===Be||null===(o=Be.getDiversionHistoryById)||void 0===o||null===(b=o.data)||void 0===b||null===(F=b.location)||void 0===F?void 0:F.uuid]);(0,d.useEffect)((()=>{var l,e;null!==Xe&&void 0!==Xe&&null!==(l=Xe.values)&&void 0!==l&&l.material_id&&Te({materialId:null===Xe||void 0===Xe||null===(e=Xe.values)||void 0===e?void 0:e.material_id}).then((l=>{var e,i,o,d,n,a,t;Xe.setFieldValue("material_type_id",""),Xe.setFieldValue("approx_weight_per_unit","");const u=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getMaterialById)||void 0===i||null===(o=i.data)||void 0===o||null===(d=o.material_types)||void 0===d?void 0:d.map((l=>({name:null===l||void 0===l?void 0:l.type,key:null===l||void 0===l?void 0:l.uuid,uuid:null===l||void 0===l?void 0:l.uuid})));u&&we([{name:"Select Material Type",key:""},...u]);const v={},r=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(a=n.getMaterialById)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.material_types.map((l=>(v[null===l||void 0===l?void 0:l.uuid]=null===l||void 0===l?void 0:l.weight,l)));r&&ve((0,I.cY)(v))})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))}),[null===Xe||void 0===Xe||null===(V=Xe.values)||void 0===V?void 0:V.material_id]),(0,d.useEffect)((()=>{var l,e,i,o;null!==Xe&&void 0!==Xe&&null!==(l=Xe.values)&&void 0!==l&&l.frequency_id&&null!==Xe&&void 0!==Xe&&null!==(e=Xe.values)&&void 0!==e&&e.add_units&&Xe.setFieldValue("lifts",(ae.frequencyData[null===Xe||void 0===Xe||null===(i=Xe.values)||void 0===i?void 0:i.frequency_id]*(null===Xe||void 0===Xe||null===(o=Xe.values)||void 0===o?void 0:o.add_units)).toFixed(2))}),[null===Xe||void 0===Xe||null===(L=Xe.values)||void 0===L?void 0:L.frequency_id,null===Xe||void 0===Xe||null===(z=Xe.values)||void 0===z?void 0:z.add_units]),(0,d.useEffect)((()=>{var l,e,i,o,d,n;null!==Xe&&void 0!==Xe&&null!==(l=Xe.values)&&void 0!==l&&l.material_type_id&&null!==Xe&&void 0!==Xe&&null!==(e=Xe.values)&&void 0!==e&&e.volume_name&&Xe.setFieldValue("approx_weight_per_unit",(ae.materialData[null===Xe||void 0===Xe||null===(i=Xe.values)||void 0===i?void 0:i.material_type_id]*+(null===Xe||void 0===Xe||null===(o=Xe.values)||void 0===o||null===(d=o.volume_name)||void 0===d||null===(n=d.split("_"))||void 0===n?void 0:n[2])).toFixed(2))}),[null===Xe||void 0===Xe||null===(Y=Xe.values)||void 0===Y?void 0:Y.material_type_id,null===Xe||void 0===Xe||null===(T=Xe.values)||void 0===T?void 0:T.volume_name]),(0,d.useEffect)((()=>{var l,e,i,o;null!==Xe&&void 0!==Xe&&null!==(l=Xe.values)&&void 0!==l&&l.approx_weight_per_unit&&null!==Xe&&void 0!==Xe&&null!==(e=Xe.values)&&void 0!==e&&e.lifts&&Xe.setFieldValue("approx_weight_per_month",((null===Xe||void 0===Xe||null===(i=Xe.values)||void 0===i?void 0:i.approx_weight_per_unit)*(null===Xe||void 0===Xe||null===(o=Xe.values)||void 0===o?void 0:o.lifts)).toFixed(2))}),[null===Xe||void 0===Xe||null===(O=Xe.values)||void 0===O?void 0:O.approx_weight_per_unit,null===Xe||void 0===Xe||null===($=Xe.values)||void 0===$?void 0:$.lifts]);const ii=(0,d.useCallback)((l=>{var e,i,o,d,n,a,t,u;null!==Be&&void 0!==Be&&null!==(e=Be.getDiversionHistoryById)&&void 0!==e&&null!==(i=e.data)&&void 0!==i&&null!==(o=i.location)&&void 0!==o&&o.uuid&&li(null===Be||void 0===Be||null===(a=Be.getDiversionHistoryById)||void 0===a||null===(t=a.data)||void 0===t||null===(u=t.location)||void 0===u?void 0:u.uuid);Qe.setFieldValue("company_id",null===l||void 0===l||null===(d=l.contractor_company)||void 0===d?void 0:d.uuid),Qe.setFieldValue("user_id",null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.uuid),he(!0)}),[null===Be||void 0===Be||null===(P=Be.getDiversionHistoryById)||void 0===P||null===(W=P.data)||void 0===W||null===(U=W.location)||void 0===U?void 0:U.uuid]),oi=(0,d.useCallback)((async l=>{const e=await(0,v.Do)(l);l?window.open(e):N.oR.error("No file is present to view")}),[]),di=(0,d.useCallback)(((l,e,i)=>{var o,d,n,a,t,u,v,r,s,c,m,p,_,h,x,y,f,g,b,w;(Ue({variables:{equipmentName:null===i||void 0===i||null===(o=i.equipment)||void 0===o?void 0:o.name}}).then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getEquipmentByName)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>{var e,i,o;return{name:null===l||void 0===l||null===(e=l.volume)||void 0===e?void 0:e.volume,key:"".concat(null===l||void 0===l||null===(i=l.volume)||void 0===i?void 0:i.uuid,"_").concat(null===l||void 0===l?void 0:l.uuid,"_").concat(null===l||void 0===l||null===(o=l.volume)||void 0===o?void 0:o.volume_cubic_yard)}}));d&&De([{name:"Select Volume Type",key:""},...d])})).catch((l=>N.oR.error(l.networkError.result.errors[0].message))),Qe.setValues({zone_id:null!==(d=null===i||void 0===i||null===(n=i.zone)||void 0===n?void 0:n.uuid)&&void 0!==d?d:"full_site",service_type:null===i||void 0===i?void 0:i.service_type,material_id:null===i||void 0===i||null===(a=i.material)||void 0===a?void 0:a.uuid,material_type_id:null===i||void 0===i||null===(t=i.material_type)||void 0===t?void 0:t.uuid,equipment_id:null===i||void 0===i||null===(u=i.equipment)||void 0===u?void 0:u.uuid,volume_id:null===i||void 0===i||null===(v=i.volume)||void 0===v?void 0:v.uuid,equipment:null===i||void 0===i||null===(r=i.equipment)||void 0===r?void 0:r.name,frequency_id:null===i||void 0===i||null===(s=i.frequency)||void 0===s?void 0:s.uuid,add_units:null===i||void 0===i?void 0:i.add_units,lifts:null===i||void 0===i?void 0:i.lifts,volume:null===i||void 0===i||null===(c=i.volume)||void 0===c?void 0:c.volume,approx_weight_per_unit:null===i||void 0===i?void 0:i.approx_weight_per_unit,approx_weight_per_month:null===i||void 0===i?void 0:i.approx_weight_per_month,company_id:e,user_id:l,report_id:null===i||void 0===i?void 0:i.uuid,compactor_lifts:null===i||void 0===i||null===(m=i.lift)||void 0===m?void 0:m.map((l=>({name:null===l||void 0===l?void 0:l.name,uuid:null===l||void 0===l?void 0:l.uuid,weight:null===l||void 0===l?void 0:l.weight,date:new Date(null===l||void 0===l?void 0:l.date)}))),delete_lifts:[],invocie:null===i||void 0===i?void 0:i.invoice,document:null===i||void 0===i?void 0:i.document,volume_name:"".concat(null===i||void 0===i||null===(p=i.volume)||void 0===p?void 0:p.uuid,"_").concat(null===i||void 0===i||null===(_=i.equipment)||void 0===_?void 0:_.uuid,"_").concat(null===i||void 0===i||null===(h=i.volume)||void 0===h?void 0:h.volume_cubic_yard)}),null!==Be&&void 0!==Be&&null!==(x=Be.getDiversionHistoryById)&&void 0!==x&&null!==(y=x.data)&&void 0!==y&&null!==(f=y.location)&&void 0!==f&&f.uuid)&&li(null===Be||void 0===Be||null===(g=Be.getDiversionHistoryById)||void 0===g||null===(b=g.data)||void 0===b||null===(w=b.location)||void 0===w?void 0:w.uuid);he(!0)}),[null===Qe||void 0===Qe?void 0:Qe.values,null===Be||void 0===Be||null===(J=Be.getDiversionHistoryById)||void 0===J||null===(Z=J.data)||void 0===Z||null===(G=Z.location)||void 0===G?void 0:G.uuid]),ni=(0,d.useCallback)((()=>{ce(!1),he(!1),ri(!1),pe(void 0),Qe.resetForm(),Xe.resetForm()}),[]),ai=(0,d.useCallback)(((l,e,i)=>{var o,d,n,a,t,u,v,r,s,c,m,p,_;i&&(Qe.setValues({zone_id:null!==(o=null===i||void 0===i||null===(d=i.zone)||void 0===d?void 0:d.uuid)&&void 0!==o?o:"full_site",service_type:null===i||void 0===i?void 0:i.service_type,material_id:null===i||void 0===i||null===(n=i.material)||void 0===n?void 0:n.uuid,material_type_id:null===i||void 0===i||null===(a=i.material_type)||void 0===a?void 0:a.uuid,equipment_id:null===i||void 0===i||null===(t=i.equipment)||void 0===t?void 0:t.uuid,volume_id:null===i||void 0===i||null===(u=i.volume)||void 0===u?void 0:u.uuid,equipment:null===i||void 0===i||null===(v=i.equipment)||void 0===v?void 0:v.name,frequency_id:null===i||void 0===i||null===(r=i.frequency)||void 0===r?void 0:r.uuid,add_units:null===i||void 0===i?void 0:i.add_units,lifts:null===i||void 0===i?void 0:i.lifts,volume:null===i||void 0===i||null===(s=i.volume)||void 0===s?void 0:s.volume,approx_weight_per_unit:null===i||void 0===i?void 0:i.approx_weight_per_unit,approx_weight_per_month:null===i||void 0===i?void 0:i.approx_weight_per_month,company_id:e,user_id:l,report_id:null===i||void 0===i?void 0:i.uuid,compactor_lifts:null===i||void 0===i||null===(c=i.lift)||void 0===c?void 0:c.map((l=>({name:null===l||void 0===l?void 0:l.name,uuid:null===l||void 0===l?void 0:l.uuid,weight:null===l||void 0===l?void 0:l.weight,date:new Date(null===l||void 0===l?void 0:l.date)}))),delete_lifts:[],invocie:null===i||void 0===i?void 0:i.invoice,document:null===i||void 0===i?void 0:i.document,volume_name:"".concat(null===i||void 0===i||null===(m=i.volume)||void 0===m?void 0:m.uuid,"_").concat(null===i||void 0===i||null===(p=i.equipment)||void 0===p?void 0:p.uuid,"_").concat(null===i||void 0===i||null===(_=i.volume)||void 0===_?void 0:_.volume_cubic_yard)}),Se(!0))}),[]);(0,d.useEffect)((()=>{var l,e;null!==Qe&&void 0!==Qe&&null!==(l=Qe.values)&&void 0!==l&&l.material_id&&Te({materialId:null===Qe||void 0===Qe||null===(e=Qe.values)||void 0===e?void 0:e.material_id}).then((l=>{var e,i,o,d,n,a,t;const u=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getMaterialById)||void 0===i||null===(o=i.data)||void 0===o||null===(d=o.material_types)||void 0===d?void 0:d.map((l=>({name:null===l||void 0===l?void 0:l.type,key:null===l||void 0===l?void 0:l.uuid,uuid:null===l||void 0===l?void 0:l.uuid})));u&&we([{name:"Select Material Type"},...u]);const v={},r=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(a=n.getMaterialById)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.material_types.map((l=>(v[null===l||void 0===l?void 0:l.uuid]=null===l||void 0===l?void 0:l.weight,l)));r&&ve((0,I.cY)(v))})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))}),[null===Qe||void 0===Qe||null===(K=Qe.values)||void 0===K?void 0:K.material_id]);const ti=(0,d.useCallback)((l=>{var e,i,o;null!==l&&void 0!==l&&null!==(e=l.target)&&void 0!==e&&e.value&&(Qe.setFieldValue("material_id",null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value),Te({materialId:null===l||void 0===l||null===(o=l.target)||void 0===o?void 0:o.value}).then((l=>{var e,i,o,d,n,a,t;Qe.setFieldValue("material_type_id",""),Qe.setFieldValue("approx_weight_per_unit","");const u=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getMaterialById)||void 0===i||null===(o=i.data)||void 0===o||null===(d=o.material_types)||void 0===d?void 0:d.map((l=>({name:null===l||void 0===l?void 0:l.type,key:null===l||void 0===l?void 0:l.uuid,uuid:null===l||void 0===l?void 0:l.uuid})));u&&we([{name:"Select Material Type"},...u]);const v={},r=null===l||void 0===l||null===(n=l.data)||void 0===n||null===(a=n.getMaterialById)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.material_types.map((l=>(v[null===l||void 0===l?void 0:l.uuid]=null===l||void 0===l?void 0:l.weight,l)));r&&ve((0,I.cY)(v))})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})))}),[]),ui=(0,d.useCallback)((l=>{var e;if(null!==l&&void 0!==l&&null!==(e=l.target)&&void 0!==e&&e.value){var i,o,d,n;Qe.setFieldValue("volume_name",null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value);const e=null===l||void 0===l||null===(o=l.target)||void 0===o||null===(d=o.value)||void 0===d?void 0:d.split("_");var a;if(Qe.setFieldValue("volume_id",e[0]),Qe.setFieldValue("equipment_id",e[1]),null!==Qe&&void 0!==Qe&&null!==(n=Qe.values)&&void 0!==n&&n.material_type_id)Qe.setFieldValue("approx_weight_per_unit",(ae.materialData[null===Qe||void 0===Qe||null===(a=Qe.values)||void 0===a?void 0:a.material_type_id]*+e[2]).toFixed(2))}}),[null===Qe||void 0===Qe?void 0:Qe.values]),[vi,ri]=(0,d.useState)(!1),si=(0,d.useCallback)((()=>{ri(!0)}),[]),ci=(0,d.useCallback)((()=>{ze({variables:{reportId:[null===me||void 0===me?void 0:me.uuid]}}).then((l=>{var e,i;N.oR.success(null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.deleteDiversionReport)||void 0===i?void 0:i.message),Re().catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)})),ni()})).catch((l=>{var e,i,o;return N.oR.error(null===l||void 0===l||null===(e=l.networkError)||void 0===e||null===(i=e.result)||void 0===i||null===(o=i.errors[0])||void 0===o?void 0:o.message)}))}),[me]),mi=null===Qe||void 0===Qe||null===(Q=Qe.errors)||void 0===Q?void 0:Q.compactor_lifts,pi=null===Qe||void 0===Qe||null===(X=Qe.touched)||void 0===X?void 0:X.compactor_lifts,_i=(0,d.useCallback)((l=>{var e,i,o;const d=null!==(e=Qe.values.delete_lifts)&&void 0!==e?e:[],n=[],a=null===Qe||void 0===Qe||null===(i=Qe.values)||void 0===i||null===(o=i.compactor_lifts)||void 0===o?void 0:o.filter(((e,i)=>{if(i===l&&null!==e&&void 0!==e&&e.uuid&&n.push(null===e||void 0===e?void 0:e.uuid),i!==l)return e}));a&&(Qe.setFieldValue("delete_lifts",[...d,...n]),Qe.setFieldValue("compactor_lifts",a))}),[null===Qe||void 0===Qe||null===(ll=Qe.values)||void 0===ll?void 0:ll.delete_lifts,null===Qe||void 0===Qe||null===(el=Qe.values)||void 0===el?void 0:el.compactor_lifts]),hi=(0,d.useCallback)((()=>{var l,e;const i=[...Qe.values.compactor_lifts],o={name:"Lift-".concat((null===Qe||void 0===Qe||null===(l=Qe.values)||void 0===l||null===(e=l.compactor_lifts)||void 0===e?void 0:e.length)+1),uuid:"",date:new Date,weight:0};i.push(o),Qe.setFieldValue("compactor_lifts",i)}),[null===Qe||void 0===Qe||null===(il=Qe.values)||void 0===il?void 0:il.compactor_lifts]),xi=(0,d.useCallback)((()=>{const l=Qe.values.compactor_lifts.reduce(((l,e)=>l+ +e.weight),0);void 0!==l&&(Qe.setFieldValue("lifts",Qe.values.compactor_lifts.length),Qe.setFieldValue("approx_weight_per_month",l.toFixed(2))),Qe.handleSubmit()}),[Qe.values.compactor_lifts]),yi=(0,d.useCallback)((l=>{var e,i;Ue({variables:{equipmentName:null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value}}).then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getEquipmentByName)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>{var e,i,o;return{name:null===l||void 0===l||null===(e=l.volume)||void 0===e?void 0:e.volume,key:"".concat(null===l||void 0===l||null===(i=l.volume)||void 0===i?void 0:i.uuid,"_").concat(null===l||void 0===l?void 0:l.uuid,"_").concat(null===l||void 0===l||null===(o=l.volume)||void 0===o?void 0:o.volume_cubic_yard)}}));d&&De([{name:"Select Volume Type",key:""},...d])})).catch((l=>N.oR.error(l.networkError.result.errors[0].message))),Xe.setFieldValue("equipment",null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value)}),[]),fi=(0,d.useCallback)((l=>{var e;if(null!==l&&void 0!==l&&null!==(e=l.target)&&void 0!==e&&e.value){var i,o,d;Xe.setFieldValue("volume_name",null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value);const e=null===l||void 0===l||null===(o=l.target)||void 0===o?void 0:o.value.split("_");var n,a,t,u;if(Xe.setFieldValue("volume_id",e[0]),Xe.setFieldValue("equipment_id",e[1]),null!==Xe&&void 0!==Xe&&null!==(d=Xe.values)&&void 0!==d&&d.material_type_id)Xe.setFieldValue("approx_weight_per_unit",(ae.materialData[null===Xe||void 0===Xe||null===(n=Xe.values)||void 0===n?void 0:n.material_type_id]*+(null===Xe||void 0===Xe||null===(a=Xe.values)||void 0===a||null===(t=a.volume_name)||void 0===t||null===(u=t.split("_"))||void 0===u?void 0:u[2])).toFixed(2))}}),[null===Xe||void 0===Xe?void 0:Xe.values]),gi=l=>{var e,i,o;if(l)return null!==Qe&&void 0!==Qe&&null!==(e=Qe.errors)&&void 0!==e&&e[l]&&null!==Qe&&void 0!==Qe&&null!==(i=Qe.touched)&&void 0!==i&&i[l]?null===Qe||void 0===Qe||null===(o=Qe.errors)||void 0===o?void 0:o[l]:""},bi=(l,e,i)=>l?e:i,wi=l=>{var e,i,o;return null!==Xe&&void 0!==Xe&&null!==(e=Xe.errors)&&void 0!==e&&e[l]&&null!==Xe&&void 0!==Xe&&null!==(i=Xe.touched)&&void 0!==i&&i[l]?null===Xe||void 0===Xe||null===(o=Xe.errors)||void 0===o?void 0:o[l]:""};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(n.A,{headerTitle:(0,j.Ju)(null===Be||void 0===Be||null===(ol=Be.getDiversionHistoryById)||void 0===ol||null===(dl=ol.data)||void 0===dl?void 0:dl.title),headerActionConst:()=>{var l,e,i,o,d,n;return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("div",{className:"flex w-full gap-3 xmd:gap-5 lg:w-auto ".concat(Me?"pointer-events-none":""),children:(0,H.jsxs)("div",{className:"flex items-center gap-3 md:gap-5 flex-wrap",children:[(0,H.jsxs)("p",{children:[(0,H.jsx)("span",{children:"Reporting Frequency : "}),(0,H.jsx)("span",{className:"font-bold",children:null===Be||void 0===Be||null===(l=Be.getDiversionHistoryById)||void 0===l||null===(e=l.data)||void 0===e?void 0:e.frequency})]}),(0,H.jsxs)("p",{children:[(0,H.jsx)("span",{children:"Start Date : "}),(0,H.jsx)("span",{className:"font-bold",children:w()((0,j.zT)(null===Be||void 0===Be||null===(i=Be.getDiversionHistoryById)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.start_date)).format("DD/MM/YYYY")})]}),(0,H.jsxs)("p",{children:[(0,H.jsx)("span",{children:"Due Date : "}),(0,H.jsx)("span",{className:"font-bold",children:w()((0,j.zT)(null===Be||void 0===Be||null===(d=Be.getDiversionHistoryById)||void 0===d||null===(n=d.data)||void 0===n?void 0:n.end_date)).format("DD/MM/YYYY")})]}),(0,H.jsx)(a.A,{className:"btn-normal btn btn-secondary whitespace-nowrap",type:"button",label:re("+ Add New One Offs"),title:"".concat(re("Add New One Offs")),onClick:ei})]})})})}}),Me&&(0,H.jsx)(B.A,{}),(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{className:"space-y-7",children:null===Ve||void 0===Ve||null===(nl=Ve.getDiversionReportsByHistoryId)||void 0===nl||null===(al=nl.data)||void 0===al?void 0:al.map(((l,e)=>{var i,o,d,n,t;return(0,H.jsxs)("div",{className:"w-full overflow-hidden bg-accents-2 border border-border-primary rounded-xl",children:[(0,H.jsx)("div",{className:"px-3 py-5 border-b border-solid md:px-5 border-border-primary ",children:(0,H.jsxs)("h6",{children:[e+1,".",null===l||void 0===l||null===(o=l.contractor_company)||void 0===o?void 0:o.name]})}),(0,H.jsx)("div",{className:"px-3 py-2.5 md:px-5",children:(0,H.jsxs)("div",{className:"flex items-center flex-wrap justify-between w-full gap-3",children:[(0,H.jsxs)("p",{className:"whitespace-nowrap",children:[(0,H.jsx)("span",{children:"Report Owner: "}),(0,H.jsxs)("span",{className:"font-bold",children:[null===l||void 0===l||null===(d=l.user)||void 0===d?void 0:d.first_name,"\xa0",null===l||void 0===l||null===(n=l.user)||void 0===n?void 0:n.last_name]})]}),(0,H.jsxs)("div",{className:"flex flex-wrap gap-3 sm:gap-5 xmd:gap-7 flex-grow xs:flex-grow-0",children:[(0,H.jsx)(a.A,{className:"btn-secondary btn-normal whitespace-nowrap w-full xs:w-auto",label:"",title:"".concat(re("Add One Offs")),onClick:()=>ii(l),children:re("+ Add One Offs")}),(0,H.jsx)(a.A,{className:"btn-secondary btn-normal whitespace-nowrap w-full xs:w-auto",label:"",title:"".concat(re("View Invoice")),onClick:()=>oi(null===l||void 0===l?void 0:l.invoice),children:re("View Invoice")}),(0,H.jsx)(a.A,{className:"btn-secondary btn-normal whitespace-nowrap w-full xs:w-auto",label:"",title:"".concat(re("View Attachment")),onClick:()=>oi(null===l||void 0===l?void 0:l.document),children:re("View Attachment")})]})]})}),(0,H.jsxs)("div",{className:"px-3 py-2.5 md:px-5",children:[(0,H.jsx)("h6",{className:"mb-3 md:mb-5",children:"Service List"}),(0,H.jsx)("div",{className:"w-full mb-3 overflow-auto bg-white border sm:w-auto rounded-t-xl custom-dataTable border-border-primary",children:(0,H.jsxs)("table",{children:[(0,H.jsx)("thead",{children:(0,H.jsxs)("tr",{children:[null===Ze||void 0===Ze?void 0:Ze.map(((l,e)=>{const i=l.fieldName+e+1;return(0,H.jsx)("th",{scope:"col",children:(0,H.jsx)("div",{className:"flex items-center ".concat("Status"==l.name?"justify-center":""),children:l.name})},i)})),(0,H.jsx)("th",{scope:"col",children:(0,H.jsx)("div",{className:"flex items-center",children:re("Action")})})]})}),(0,H.jsx)("tbody",{children:null===l||void 0===l||null===(t=l.services)||void 0===t?void 0:t.map(((e,i)=>{var o,d,n,a,t,u,v,s,m,p;return(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{className:"text-left whitespace-nowrap",children:i+1}),(0,H.jsx)("td",{className:"text-left",children:e.is_full_site?"Full Site":null===e||void 0===e||null===(o=e.zone)||void 0===o?void 0:o.location}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e?void 0:e.service_type}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(d=e.material)||void 0===d?void 0:d.name}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(n=e.material_type)||void 0===n?void 0:n.type}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(a=e.equipment)||void 0===a?void 0:a.name}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(t=e.volume)||void 0===t?void 0:t.volume}),(0,H.jsx)("td",{className:"text-left",children:"compactor"===(null===e||void 0===e||null===(u=e.equipment)||void 0===u?void 0:u.name.toLocaleLowerCase())||"Regular on call"===(null===e||void 0===e?void 0:e.service_type)?"NA":null===e||void 0===e?void 0:e.add_units}),(0,H.jsx)("td",{className:"text-left",children:null===e||void 0===e||null===(v=e.frequency)||void 0===v?void 0:v.frequency_type}),(0,H.jsx)("td",{className:"text-left",children:(0,H.jsxs)("p",{className:"flex items-center space-x-2.5",children:[(0,H.jsx)("span",{children:"compactor"===(null===e||void 0===e||null===(s=e.equipment)||void 0===s?void 0:s.name.toLocaleLowerCase())&&"Regular on call"===(null===e||void 0===e?void 0:e.service_type)||"Regular on call"!==(null===e||void 0===e?void 0:e.service_type)?null===e||void 0===e?void 0:e.lifts:"NA"}),"compactor"===(null===e||void 0===e||null===(m=e.equipment)||void 0===m?void 0:m.name.toLocaleLowerCase())&&(0,H.jsx)("button",{type:"button",onClick:()=>{var i,o;return ai(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.uuid,null===l||void 0===l||null===(o=l.contractor_company)||void 0===o?void 0:o.uuid,e)},children:(0,H.jsx)("span",{className:"text-primary",children:(0,H.jsx)(r.yq,{})})})]})}),(0,H.jsx)("td",{className:"text-left",children:"compactor"===(null===e||void 0===e||null===(p=e.equipment)||void 0===p?void 0:p.name.toLocaleLowerCase())?"NA":null===e||void 0===e?void 0:e.approx_weight_per_unit}),(0,H.jsx)("td",{className:"text-left",children:(0,H.jsxs)("p",{className:"flex items-center space-x-2.5",children:[(0,H.jsx)("span",{children:null===e||void 0===e?void 0:e.approx_weight_per_month}),(null===e||void 0===e?void 0:e.is_approx_weight_per_month_updated)&&(0,H.jsx)("span",{className:"text-bright-green-shade",children:(0,H.jsx)(r.Jl,{})})]})}),(0,H.jsx)("td",{className:"text-left",children:(0,H.jsxs)("div",{className:"btn-group",children:[(0,H.jsx)(D.A,{data:e,setData:pe,onClick:()=>{var i,o;return di(null===l||void 0===l||null===(i=l.user)||void 0===i?void 0:i.uuid,null===l||void 0===l||null===(o=l.contractor_company)||void 0===o?void 0:o.uuid,e)}}),(0,H.jsx)(c.A,{data:e,setObj:pe,customClick:si})]})})]},null===e||void 0===e?void 0:e.uuid)}))})]})})]})]},null===l||void 0===l||null===(i=l.contractor_company)||void 0===i?void 0:i.uuid)}))}),(null===(null===Ve||void 0===Ve||null===(tl=Ve.getDiversionReportsByHistoryId)||void 0===tl?void 0:tl.data.length)||!(null!==Ve&&void 0!==Ve&&null!==(ul=Ve.getDiversionReportsByHistoryId)&&void 0!==ul&&null!==(vl=ul.data)&&void 0!==vl&&vl.length))&&(0,H.jsx)("div",{className:"flex justify-center",children:(0,H.jsx)("div",{children:re("No Data")})}),_e&&(0,H.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"".concat(bi(_e,"","hidden")," fixed top-0 left-0 right-0 z-50 h-full bg-modal modal"),children:(0,H.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,H.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,H.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,H.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,H.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:null!==me&&void 0!==me&&me.uuid?"Edit one offs":"Add One Offs"}),(0,H.jsx)(a.A,{onClick:()=>{he(!1),Qe.resetForm(),pe(void 0)},label:re(""),title:"".concat(re("Close")),children:(0,H.jsx)("span",{className:"text-xl-22",children:(0,H.jsx)(r.YY,{className:"text-error"})})})]}),(0,H.jsx)("div",{className:"w-full",children:(0,H.jsxs)("form",{onSubmit:Qe.handleSubmit,children:[(0,H.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto grid grid-cols-1 sm:grid-cols-2 sm:gap-4",children:[(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(rl=Qe.values)||void 0===rl?void 0:rl.zone_id,name:"zone_id",onChange:null===Qe||void 0===Qe?void 0:Qe.handleChange,id:"zone_id",label:re("Zone"),required:!0,options:qe,error:gi("zone_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(sl=Qe.values)||void 0===sl?void 0:sl.service_type,name:"service_type",onChange:l=>{var e;Qe.setFieldValue("service_type",null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value),"Regular on call"===l.target.value&&(null===fe||void 0===fe||fe.map((l=>{"1"==(null===l||void 0===l?void 0:l.name)&&Qe.setFieldValue("frequency_id",null===l||void 0===l?void 0:l.key)})))},id:"service_type",label:re("Service Type"),required:!0,options:null!==me&&void 0!==me&&me.uuid?v.O2:v._h,error:gi("service_type")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(cl=Qe.values)||void 0===cl?void 0:cl.material_id,name:"material_id",onChange:l=>ti(l),id:"material_id",label:re("Material Category"),required:!0,options:xe,error:gi("material_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(ml=Qe.values)||void 0===ml?void 0:ml.material_type_id,name:"material_type_id",onChange:l=>(l=>{var e,i,o,d,n,a,t;_e&&(Qe.setFieldValue("material_type_id",null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value),null!==l&&void 0!==l&&null!==(i=l.target)&&void 0!==i&&i.value&&null!==Qe&&void 0!==Qe&&null!==(o=Qe.values)&&void 0!==o&&o.volume_name&&Qe.setFieldValue("approx_weight_per_unit",(ae.materialData[null===l||void 0===l||null===(d=l.target)||void 0===d?void 0:d.value]*+(null===Qe||void 0===Qe||null===(n=Qe.values)||void 0===n||null===(a=n.volume_name)||void 0===a||null===(t=a.split("_"))||void 0===t?void 0:t[2])).toFixed(2)))})(l),id:"materail_type_id",label:re("Material Type"),required:!0,options:be,error:gi("material_type_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(pl=Qe.values)||void 0===pl?void 0:pl.equipment,name:"equipment",onChange:l=>(l=>{var e,i;_e&&(Ue({variables:{equipmentName:null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value}}).then((l=>{var e,i,o;const d=null===l||void 0===l||null===(e=l.data)||void 0===e||null===(i=e.getEquipmentByName)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.map((l=>{var e,i,o;return{name:null===l||void 0===l||null===(e=l.volume)||void 0===e?void 0:e.volume,key:"".concat(null===l||void 0===l||null===(i=l.volume)||void 0===i?void 0:i.uuid,"_").concat(null===l||void 0===l?void 0:l.uuid,"_").concat(null===l||void 0===l||null===(o=l.volume)||void 0===o?void 0:o.volume_cubic_yard)}}));d&&De([{name:"Select Volume Type",key:""},...d])})).catch((l=>N.oR.error(l.networkError.result.errors[0].message))),Qe.setFieldValue("equipment",null===l||void 0===l||null===(i=l.target)||void 0===i?void 0:i.value))})(l),id:"equipment",label:re("Equipment"),required:!0,options:je,error:gi("equipment")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(_l=Qe.values)||void 0===_l?void 0:_l.frequency_id,name:"frequency_id",onChange:l=>(l=>{var e,i,o,d,n,a,t,u;_e&&(Qe.setFieldValue("frequency_id",null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value),null!==l&&void 0!==l&&null!==(i=l.target)&&void 0!==i&&i.value&&null!==Qe&&void 0!==Qe&&null!==(o=Qe.values)&&void 0!==o&&o.add_units&&(Qe.setFieldValue("lifts",(ae.frequencyData[null===l||void 0===l||null===(d=l.target)||void 0===d?void 0:d.value]*(null===Qe||void 0===Qe||null===(n=Qe.values)||void 0===n?void 0:n.add_units)).toFixed(2)),Qe.setFieldValue("approx_weight_per_month",((null===Qe||void 0===Qe||null===(a=Qe.values)||void 0===a?void 0:a.approx_weight_per_unit)*(ae.frequencyData[null===l||void 0===l||null===(t=l.target)||void 0===t?void 0:t.value]*(null===Qe||void 0===Qe||null===(u=Qe.values)||void 0===u?void 0:u.add_units))).toFixed(2))))})(l),id:"frequency_id",label:re("Frequency"),required:!0,options:"Regular on call"===(null===Qe||void 0===Qe||null===(hl=Qe.values)||void 0===hl?void 0:hl.service_type)?fe:null===fe||void 0===fe?void 0:fe.filter((l=>"1"!==(null===l||void 0===l?void 0:l.name))),error:gi("frequency_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Qe||void 0===Qe||null===(xl=Qe.values)||void 0===xl?void 0:xl.volume_name,name:"volume_name",onChange:ui,id:"volume_name",label:re("Volume"),required:!0,options:Ie,error:gi("volume_name")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Units"),value:null===Qe||void 0===Qe||null===(yl=Qe.values)||void 0===yl?void 0:yl.add_units,name:"add_units",onChange:l=>(l=>{var e;const i=+(null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value);var o,d,n;_e&&(Qe.setFieldValue("add_units",i),Qe.setFieldValue("lifts",(ae.frequencyData[null===Qe||void 0===Qe||null===(o=Qe.values)||void 0===o?void 0:o.frequency_id]*i).toFixed(2)),Qe.setFieldValue("approx_weight_per_month",((null===Qe||void 0===Qe||null===(d=Qe.values)||void 0===d?void 0:d.approx_weight_per_unit)*ae.frequencyData[null===Qe||void 0===Qe||null===(n=Qe.values)||void 0===n?void 0:n.frequency_id]*i).toFixed(2)))})(l),label:re("Unit"),required:!0,error:gi("add_units"),disabled:"compactor"===(null===Qe||void 0===Qe||null===(fl=Qe.values)||void 0===fl?void 0:fl.equipment.toLocaleLowerCase())||"Regular on call"===(null===Qe||void 0===Qe||null===(gl=Qe.values)||void 0===gl?void 0:gl.service_type)})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add lifts"),value:null===Qe||void 0===Qe||null===(bl=Qe.values)||void 0===bl?void 0:bl.lifts,name:"lifts",onChange:l=>(l=>{var e;const i=+(null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value);var o;_e&&(Qe.setFieldValue("lifts",i.toFixed(2)),Qe.setFieldValue("approx_weight_per_month",((null===Qe||void 0===Qe||null===(o=Qe.values)||void 0===o?void 0:o.approx_weight_per_unit)*i).toFixed(2)))})(l),label:re("Lifts"),required:!0,error:gi("lifts"),disabled:"compactor"===(null===Qe||void 0===Qe||null===(wl=Qe.values)||void 0===wl?void 0:wl.equipment.toLocaleLowerCase())||"Regular on call"===(null===Qe||void 0===Qe||null===(jl=Qe.values)||void 0===jl?void 0:jl.service_type)})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Weight"),value:null===Qe||void 0===Qe||null===(Nl=Qe.values)||void 0===Nl?void 0:Nl.approx_weight_per_unit,name:"approx_weight_per_unit",onChange:Qe.handleChange,label:re("Approx Weight Per Unit (Autofill)"),required:!0,disabled:!0})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Weight"),value:null===Qe||void 0===Qe||null===(ql=Qe.values)||void 0===ql?void 0:ql.approx_weight_per_month,name:"approx_weight_per_month",onChange:Qe.handleChange,label:re("Weight Per month (Autofill)"),required:!0,disabled:"compactor"===(null===Qe||void 0===Qe||null===(kl=Qe.values)||void 0===kl?void 0:kl.equipment.toLocaleLowerCase()),error:null!==Qe&&void 0!==Qe&&null!==(Cl=Qe.errors)&&void 0!==Cl&&Cl.approx_weight_per_month&&"compactor"!==(null===Qe||void 0===Qe||null===(Al=Qe.values)||void 0===Al?void 0:Al.equipment.toLocaleLowerCase())&&null!==Qe&&void 0!==Qe&&null!==(Il=Qe.touched)&&void 0!==Il&&Il.approx_weight_per_month?null===Qe||void 0===Qe||null===(Dl=Qe.errors)||void 0===Dl?void 0:Dl.approx_weight_per_month:""})})]}),(0,H.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,H.jsx)(a.A,{className:"btn-primary btn-normal w-full md:w-auto min-w-[160px]",type:"submit",label:null!==me&&void 0!==me&&me.uuid?re("Update"):re("Add"),title:"".concat(re("Add")),disabled:He})})]})})]})})})}),se&&(0,H.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"".concat(bi(se,"","hidden"),"fixed top-0 left-0 right-0 z-50 h-full bg-modal modal'"),children:(0,H.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,H.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,H.jsxs)("div",{className:"relative bg-white rounded-xl",children:[(0,H.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,H.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:"Add New One Offs"}),(0,H.jsx)(a.A,{onClick:()=>{ce(!1),Xe.resetForm()},label:re(""),title:"".concat(re("Close")),children:(0,H.jsx)("span",{className:"text-xl-22",children:(0,H.jsx)(r.YY,{className:"text-error"})})})]}),(0,H.jsx)("div",{className:"w-full",children:(0,H.jsxs)("form",{onSubmit:Xe.handleSubmit,children:[(0,H.jsxs)("div",{className:"p-5 max-h-[calc(100vh-260px)] overflow-auto grid grid-cols-1 sm:grid-cols-2 sm:gap-4",children:[(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{name:"company_id",onChange:Xe.handleChange,id:"company_id",label:re("Contractor"),required:!0,options:Ce,error:wi("company_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{name:"zone_id",onChange:Xe.handleChange,id:"zone_id",label:re("Zone"),required:!0,options:qe,error:wi("zone_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(Fl=Xe.values)||void 0===Fl?void 0:Fl.service_type,name:"service_type",onChange:l=>{var e;Xe.setFieldValue("service_type",null===l||void 0===l||null===(e=l.target)||void 0===e?void 0:e.value),"Regular on call"===l.target.value&&(null===v._h||void 0===v._h||v._h.map((l=>{"1"==(null===l||void 0===l?void 0:l.name)&&Xe.setFieldValue("frequency_id",null===l||void 0===l?void 0:l.key)})))},id:"service_type",label:re("Service Type"),required:!0,options:v._h,error:wi("service_type")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(Sl=Xe.values)||void 0===Sl?void 0:Sl.material_id,name:"material_id",onChange:Xe.handleChange,id:"material_id",label:re("Material Category"),required:!0,options:xe,error:wi("material_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(Vl=Xe.values)||void 0===Vl?void 0:Vl.material_type_id,name:"material_type_id",onChange:Xe.handleChange,id:"materail_type_id",label:re("Material Type"),required:!0,options:be,error:wi("material_type_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(Rl=Xe.values)||void 0===Rl?void 0:Rl.frequency_id,name:"frequency_id",onChange:Xe.handleChange,id:"frequency_id",label:re("Frequency"),required:!0,options:"Regular on call"===(null===Xe||void 0===Xe||null===(Ml=Xe.values)||void 0===Ml?void 0:Ml.service_type)?fe:null===fe||void 0===fe?void 0:fe.filter((l=>"1"!==(null===l||void 0===l?void 0:l.name))),error:wi("frequency_id")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(Bl=Xe.values)||void 0===Bl?void 0:Bl.equipment,name:"equipment",onChange:yi,id:"equipment",label:re("Equipment"),required:!0,options:je,error:wi("equipment")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(u.A,{value:null===Xe||void 0===Xe||null===(El=Xe.values)||void 0===El?void 0:El.volume_name,name:"volume_name",onChange:fi,id:"volume_name",label:re("Volume"),required:!0,options:Ie,error:wi("volume_name")})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Units"),value:null===Xe||void 0===Xe||null===(Hl=Xe.values)||void 0===Hl?void 0:Hl.add_units,name:"add_units",onChange:Xe.handleChange,label:re("Unit"),required:!0,error:wi("add_units"),disabled:"compactor"===(null===Xe||void 0===Xe||null===(Ll=Xe.values)||void 0===Ll?void 0:Ll.equipment.toLocaleLowerCase())||"Regular on call"===(null===Xe||void 0===Xe||null===(zl=Xe.values)||void 0===zl?void 0:zl.service_type)})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add lifts"),value:null===Xe||void 0===Xe||null===(Yl=Xe.values)||void 0===Yl?void 0:Yl.lifts,name:"lifts",onChange:Xe.handleChange,label:re("Lifts"),required:!0,error:wi("lifts"),disabled:"compactor"===(null===Xe||void 0===Xe||null===(Tl=Xe.values)||void 0===Tl?void 0:Tl.equipment.toLocaleLowerCase())||"Regular on call"===(null===Xe||void 0===Xe||null===(Ol=Xe.values)||void 0===Ol?void 0:Ol.service_type)})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Weight"),value:null===Xe||void 0===Xe||null===($l=Xe.values)||void 0===$l?void 0:$l.approx_weight_per_unit,name:"approx_weight_per_unit",onChange:Xe.handleChange,label:re("Approx Weight Per Unit (Autofill)"),required:!0,disabled:!0})}),(0,H.jsx)("div",{className:"max-sm:mb-3  sm:inline-block col-span-1",children:(0,H.jsx)(s.A,{placeholder:re("Add Weight"),value:null===Xe||void 0===Xe||null===(Pl=Xe.values)||void 0===Pl?void 0:Pl.approx_weight_per_month,name:"approx_weight_per_month",onChange:Xe.handleChange,label:re("Weight Per month (Autofill)"),required:!0,disabled:"compactor"===(null===Xe||void 0===Xe||null===(Wl=Xe.values)||void 0===Wl?void 0:Wl.equipment.toLocaleLowerCase()),error:"compactor"!==(null===Xe||void 0===Xe||null===(Ul=Xe.values)||void 0===Ul?void 0:Ul.equipment.toLocaleLowerCase())&&null!==Xe&&void 0!==Xe&&null!==(Jl=Xe.errors)&&void 0!==Jl&&Jl.approx_weight_per_month&&null!==Xe&&void 0!==Xe&&null!==(Zl=Xe.touched)&&void 0!==Zl&&Zl.approx_weight_per_month?null===Xe||void 0===Xe||null===(Gl=Xe.errors)||void 0===Gl?void 0:Gl.approx_weight_per_month:""})})]}),(0,H.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,H.jsx)(a.A,{className:"btn-primary btn-normal w-full md:w-auto min-w-[160px]",type:"submit",label:re("Add"),title:"".concat(re("Add")),disabled:He})})]})})]})})})}),Fe&&(0,H.jsx)("div",{id:"defaultModal",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"".concat(bi(Fe,"","hidden")," fixed top-0 left-0 right-0 z-50 h-full bg-modal modal"),children:(0,H.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"flex items-center justify-center h-full py-5 transition-all duration-300",children:(0,H.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,H.jsx)("div",{className:"relative bg-white rounded-xl",children:(0,H.jsxs)("form",{onSubmit:Xe.handleSubmit,children:[(0,H.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b md:py-6 bg-accents-2 rounded-t-xl",children:[(0,H.jsx)("p",{className:"text-lg font-bold md:text-xl text-baseColor",children:"Add Lifts"}),(0,H.jsx)(a.A,{label:re(""),title:"".concat(re("Close")),onClick:()=>Se(!1),children:(0,H.jsx)("span",{className:"text-xl-22",children:(0,H.jsx)(r.YY,{className:"text-error"})})})]}),(0,H.jsxs)("div",{className:"w-full max-h-[500px] p-5 mb-3 overflow-auto bg-white sm:w-auto custom-dataTable ",children:[(0,H.jsxs)("table",{children:[(0,H.jsx)("thead",{children:(0,H.jsxs)("tr",{children:[null===Je||void 0===Je?void 0:Je.map((l=>(0,H.jsx)("th",{scope:"col",children:(0,H.jsx)("div",{className:"flex items-center ".concat("Status"==l.name?"justify-center":""),children:l.name})},l.fieldName))),(0,H.jsx)("th",{children:(0,H.jsx)("div",{className:"flex justify-center",children:re("Action")})})]})},"sorting"),(0,H.jsx)("tbody",{children:null!==Qe&&void 0!==Qe&&null!==(Kl=Qe.values)&&void 0!==Kl&&null!==(Ql=Kl.compactor_lifts)&&void 0!==Ql&&Ql.length?null===Qe||void 0===Qe||null===(Xl=Qe.values)||void 0===Xl||null===(le=Xl.compactor_lifts)||void 0===le?void 0:le.map(((l,e)=>{var i,o,d,n,a,t,u,v,c,m,p,_;return(0,H.jsxs)("tr",{children:[(0,H.jsx)("td",{className:"text-left whitespace-nowrap",children:null===l||void 0===l?void 0:l.name}),(0,H.jsx)("td",{className:"text-left",children:(0,H.jsx)("div",{className:"flex items-center space-x-2.5",children:(0,H.jsxs)("div",{className:"w-32 md:w-[8.75rem] table-input",children:[(0,H.jsx)(R(),{id:"compactor_lifts?.[".concat(e,"]?.date"),selected:null===Qe||void 0===Qe||null===(i=Qe.values)||void 0===i||null===(o=i.compactor_lifts)||void 0===o||null===(d=o[e])||void 0===d?void 0:d.date,onChange:l=>{Qe.setFieldValue("compactor_lifts.[".concat(e,"].date"),l)},dateFormat:"dd/MM/yyyy",placeholderText:"dd/MM/yyyy",className:"customInput disabled:cursor-not-allowed",maxDate:new Date}),null!==mi&&void 0!==mi&&null!==(n=mi[e])&&void 0!==n&&n.date&&null!==pi&&void 0!==pi&&null!==(a=pi[e])&&void 0!==a&&a.date?(0,H.jsx)("p",{className:"error",children:null===mi||void 0===mi||null===(t=mi[e])||void 0===t?void 0:t.date}):""]})})}),(0,H.jsx)("td",{className:"text-left",children:(0,H.jsx)("div",{className:"w-24 md:w-[7.5rem] table-input",children:(0,H.jsx)(s.A,{placeholder:re(""),required:!0,id:"weight-".concat(e),name:"compactor_lifts.[".concat(e,"].weight"),onChange:Qe.handleChange,value:null===Qe||void 0===Qe||null===(u=Qe.values)||void 0===u||null===(v=u.compactor_lifts)||void 0===v||null===(c=v[e])||void 0===c?void 0:c.weight,error:null!==mi&&void 0!==mi&&null!==(m=mi[e])&&void 0!==m&&m.weight&&null!==pi&&void 0!==pi&&null!==(p=pi[e])&&void 0!==p&&p.weight?null===mi||void 0===mi||null===(_=mi[e])||void 0===_?void 0:_.weight:""})})}),(0,H.jsx)("td",{children:(0,H.jsx)("button",{type:"button",className:"btn bg-transparent cursor-pointer btn-default",onClick:()=>_i(e),children:(0,H.jsx)(r.lM,{className:"fill-error"})})})]},"popupData-".concat(e+1))})):null})]}),(0===(null===Qe||void 0===Qe||null===(ee=Qe.values)||void 0===ee||null===(ie=ee.compactor_lifts)||void 0===ie?void 0:ie.length)||null===(null===Qe||void 0===Qe||null===(oe=Qe.values)||void 0===oe||null===(de=oe.compactor_lifts)||void 0===de?void 0:de.length))&&(0,H.jsx)("div",{className:"flex justify-center",children:(0,H.jsx)("div",{children:re("No Data")})})]}),(0,H.jsxs)("p",{className:"p-5 pt-0 flex items-center space-x-2.5",children:[(0,H.jsx)("button",{onClick:()=>hi(),type:"button",children:(0,H.jsx)("span",{className:"text-primary cursor-pointer",children:(0,H.jsx)(r.yq,{})})}),(0,H.jsx)("span",{children:"Add New"})]}),(0,H.jsx)("div",{className:"flex flex-col items-center justify-end p-5 border-t border-solid md:space-x-3 md:flex-row border-border-primary",children:(0,H.jsx)(a.A,{className:"btn-primary btn-normal w-full md:w-auto min-w-[160px]",label:re("Add"),title:"".concat(re("Add")),type:"submit",onClick:()=>xi(),disabled:He})})]})})})})}),vi&&(0,H.jsx)(M.A,{warningText:v.jl,onClose:ni,action:ci,show:vi,disabled:Ye})]})]})}}}]);
//# sourceMappingURL=540.8e3f0b24.chunk.js.map
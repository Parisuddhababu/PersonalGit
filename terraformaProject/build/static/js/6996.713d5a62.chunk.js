"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[6996],{65432:(e,l,s)=>{s.d(l,{A:()=>h});var a=s(88250),r=s(41290),i=s(12209),t=s(33556),o=s(42145),d=s(97178),n=s(65043),c=s(74117),u=s(73216),x=s(64526),m=s(62245),p=s(34764),v=s(70579);const h=e=>{var l,s;let{slider:h}=e;const{t:b}=(0,c.Bd)(),g=(0,u.Zp)(),{data:f,refetch:j,loading:w}=(0,a.I)(d.OU,{variables:{limit:8,page:1,search:""}}),[y,N]=(0,n.useState)(!1),[C,_]=(0,n.useState)(!1),[A,k]=(0,n.useState)([]),[S,T]=(0,n.useState)({search:"",page:1,limit:8});(0,n.useEffect)((()=>{var e,l,s;const a=[];null===f||void 0===f||null===(e=f.getCategoriesAndCourseCountWithPagination)||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.categories)||void 0===s||s.map((e=>{a.push(e)})),y?(k([...A,...a]),N(null!==y&&void 0!==y?y:!y)):k(a)}),[f]),(0,n.useEffect)((()=>{S&&(async()=>{_(!0);try{await j({...S})}catch(r){var e,l,s,a;x.oR.error(null===r||void 0===r||null===(e=r.networkError)||void 0===e||null===(l=e.result)||void 0===l||null===(s=l.errors)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.message)}finally{_(!1),N(null!==y&&void 0!==y?y:!y)}})()}),[S]);const F=(0,n.useCallback)((()=>{g("/".concat(o.bw.app,"/").concat(o.bw.categoriesList))}),[]),L=(0,n.useCallback)((e=>{g("/".concat(o.bw.app,"/").concat(o.bw.allCourseByCategory,"/?category_uuid=").concat(e))}),[]),I=(0,n.useCallback)((e=>{T({...S,search:e.target.value})}),[S]);return(0,v.jsxs)(v.Fragment,{children:[!h&&(0,v.jsx)(i.A,{}),(0,v.jsx)("div",{className:"mb-7",children:(0,v.jsxs)("div",{className:"p-5 border border-solid border-border-primary rounded-xl",children:[h&&(0,v.jsxs)("div",{className:"flex flex-wrap justify-between gap-3 mb-5",children:[(0,v.jsx)("h6",{children:b("Choose Favourite Course from top Category")}),(0,v.jsx)(r.A,{className:"btn btn-normal bg-primary text-white text-xs w-full sm:w-[80px] h-[36px] whitespace-nowrap",label:b("View All"),type:"button",onClick:()=>F(),title:"".concat(b("View All"))})]}),!h&&(0,v.jsxs)("div",{className:"flex flex-wrap justify-between gap-3 mb-5",children:[(0,v.jsx)("h6",{children:b("All top categories")}),(0,v.jsx)(p.A,{placeholder:b("Search"),type:"text",id:"table-search",value:S.search,onChange:I,inputIcon:(0,v.jsx)(t.vj,{fontSize:"18"})})]}),(0,v.jsx)("div",{className:"flex flex-wrap items-start justify-center gap-5 sm:justify-start",children:null===A||void 0===A?void 0:A.map(((e,l)=>(0,v.jsxs)("div",{className:"w-full 2xl:w-[calc(25%-15px)] xl:w-[calc(33.3%-15px)] lg:w-[calc(50%-15px)] border border-solid border-border-primary rounded-xl h-full flex justify-between items-center p-5 gap-2 cursor-pointer",onClick:()=>L(null===e||void 0===e?void 0:e.uuid),children:[(0,v.jsxs)("div",{className:"flex items-center gap-5",children:[(0,v.jsx)("div",{className:"w-[60px] h-[60px] min-w-[60px] min-h-[60px] rounded-full bg-primary text-xl-30 flex justify-center items-center",children:(0,v.jsx)(t.RV,{className:"fill-white"})}),(0,v.jsx)("span",{className:"font-semibold leading-5 break-all",children:null===e||void 0===e?void 0:e.name})]}),(0,v.jsx)("span",{className:"text-base",children:(0,v.jsx)(t.qT,{className:"min-w-[16px]"})})]},"".concat(l+1))))}),!h&&(0,v.jsx)("div",{className:"flex items-center justify-center my-6",children:(0,v.jsx)(m.A,{className:"btn-secondary btn-normal w-full md:w-[120px]",label:b(C&&y?"Loading...!":"Load More"),onClick:()=>(N(!0),void T({...S,page:S.page+1})),disabled:w||C||(null===f||void 0===f||null===(l=f.getCategoriesAndCourseCountWithPagination)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.count)===(null===A||void 0===A?void 0:A.length),title:"".concat(b(C&&y?"Loading...!":"Load More"))})})]})})]})}},74952:(e,l,s)=>{s.d(l,{A:()=>N});var a=s(65043),r=s(74117),i=s(85290),t=s(75958),o=s(41290),d=s(92382),n=(s(4430),s(69078),s(12209)),c=s(33556),u=s(8848),x=s(10959),m=s(88250),p=s(42145),v=s(8659),h=s(63516),b=s(97178),g=s(64526),f=s(73216),j=s(62245),w=s(34764),y=s(70579);const N=e=>{var l,s,N,C;let{slider:_}=e;const{t:A}=(0,r.Bd)(),k=(0,f.Zp)(),[S,T]=(0,a.useState)(!1),[F,L]=(0,a.useState)(!1),[I,E]=(0,a.useState)(!1),[P,O]=(0,a.useState)([]),{data:R}=(0,m.I)(b.fk,{variables:{limit:10,page:1,sortField:"name",sortOrder:"",search:""}}),[V,D]=(0,a.useState)({sortOrder:"ascend",sortField:"created_at",type:p.CS.progress,search:"",page:1,limit:8,category_id:""}),[M,z]=(0,a.useState)([]),{data:U,refetch:W,loading:B}=(0,m.I)(v.X,{variables:{inputData:{sortOrder:"ascend",sortField:"created_at",search:"",page:1,limit:8,category_id:"",type:p.CS.progress}}}),H=(0,h.Wx)({initialValues:{title:"",selectedCategory:""},onSubmit:()=>{}});(0,a.useEffect)((()=>{var e,l,s;const a=[];null===R||void 0===R||null===(e=R.getActiveCategories)||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.categories)||void 0===s||s.map((e=>{a.push({name:null===e||void 0===e?void 0:e.name,key:null===e||void 0===e?void 0:e.uuid})})),z(a)}),[R]),(0,a.useEffect)((()=>{var e,l,s;const a=[];null===U||void 0===U||null===(e=U.getUserCoursesInProgressOrAssigned)||void 0===e||null===(l=e.data)||void 0===l||null===(s=l.courses)||void 0===s||s.map((e=>{a.push(e)})),F?(O([...P,...a]),L(null!==F&&void 0!==F?F:!F)):O(a)}),[U]);const Z=(0,a.useCallback)((()=>{var e,l,s;L(!1),D({...V,page:1,search:null===H||void 0===H||null===(e=H.values)||void 0===e?void 0:e.title,category_id:null!==H&&void 0!==H&&null!==(l=H.values)&&void 0!==l&&l.selectedCategory?null===H||void 0===H||null===(s=H.values)||void 0===s?void 0:s.selectedCategory:""})}),[V,H]),q=e=>{k("/".concat(p.bw.app,"/").concat(p.bw.tfsCoursesTemplates,"/").concat(p.bw.courseDetails,"/?uuid=").concat(e))};(0,a.useEffect)((()=>{V&&(async()=>{E(!0);try{await W({inputData:{...V}})}catch(r){var e,l,s,a;g.oR.error(null===r||void 0===r||null===(e=r.networkError)||void 0===e||null===(l=e.result)||void 0===l||null===(s=l.errors)||void 0===s||null===(a=s[0])||void 0===a?void 0:a.message)}finally{E(!1),L(null!==F&&void 0!==F?F:!F)}})()}),[V]);const J=(0,a.useCallback)((()=>{k("/".concat(p.bw.app,"/").concat(p.bw.courseInProgressList))}),[]),X=(0,a.useCallback)((()=>{H.setValues({title:"",selectedCategory:""}),D({...V,page:1,search:"",category_id:""})}),[V]);return(0,y.jsxs)(y.Fragment,{children:[!_&&(0,y.jsx)(n.A,{headerActionConst:()=>(0,y.jsx)(o.A,{className:" ".concat(S?"btn-primary":"btn-secondary"," btn-normal md:w-[50px]"),label:"",onClick:()=>T(!S),title:"Filter",children:(0,y.jsx)(c.dJ,{})})}),(0,y.jsx)("div",{className:"mb-7",children:(0,y.jsxs)("div",{className:"p-5 border border-solid border-border-primary rounded-xl",children:[(0,y.jsxs)("div",{className:"flex flex-wrap justify-between gap-3 mb-5 md:gap-5",children:[(0,y.jsx)("h6",{children:A("Courses in Progress")}),_&&(0,y.jsx)(o.A,{className:"btn btn-normal bg-primary text-white text-xs w-full sm:w-[80px] h-[36px] whitespace-nowrap",type:"button",onClick:()=>J(),label:A("View All"),title:"".concat(A("View All"))})]}),!_&&(0,y.jsx)(y.Fragment,{children:B||I&&!F?(0,y.jsx)(x.A,{}):(0,y.jsxs)(y.Fragment,{children:[S&&(0,y.jsxs)("div",{className:"flex justify-start flex-wrap 2xl:flex-nowrap p-5 mb-5 border border-border-primary rounded-xl bg-light-blue gap-1 md:gap-2 2xl:gap-[18px] xl:gap-y-2 xl:gap-3 lg:gap-0.5 lg:gap-x-2.5 items-end",children:[(0,y.jsx)("div",{className:"w-full lg:w-[calc(50%-10px)] xl:w-[calc(33.3%-14px)]",children:(0,y.jsx)(w.A,{value:H.values.title,placeholder:"Search",type:"text",id:"title",name:"title",onChange:H.handleChange})}),(0,y.jsx)(u.A,{placeholder:"Category",className:"w-full lg:w-[calc(50%-10px)] xl:w-[calc(33.3%-14px)]",label:"",name:"selectedCategory",onChange:H.handleChange,value:H.values.selectedCategory,options:M,id:"selectedCategory"}),(0,y.jsx)(o.A,{className:"btn-primary btn-normal w-full md:min-w-[160px] md:w-auto mt-2 lg:mt-0",label:A("Search"),type:"button",onClick:()=>Z(),title:"".concat(A("Search"))}),(0,y.jsx)(o.A,{className:"btn-secondary btn-normal w-full md:min-w-[160px] md:w-auto mt-2 lg:mt-0",label:A("Reset"),type:"button",onClick:()=>X(),title:"".concat(A("Reset"))})]}),(0,y.jsx)("div",{className:"flex flex-wrap items-start justify-center gap-5 mb-7 sm:justify-start",children:(null===U||void 0===U||null===(l=U.getUserCoursesInProgressOrAssigned)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.count)>0?(0,y.jsx)(y.Fragment,{children:null===P||void 0===P?void 0:P.map((e=>(0,y.jsxs)("div",{className:"w-full 2xl:w-[calc(25%-15px)] xl:w-[calc(33.3%-15px)] lg:w-[calc(50%-15px)] border-border-primary rounded-t-xl h-full cursor-pointer",onClick:()=>q(e.uuid),children:[(0,y.jsx)("picture",{className:"w-full h-[200px] block relative",children:(0,y.jsx)("img",{src:null!==e&&void 0!==e&&e.course_image&&""===(null===e||void 0===e?void 0:e.course_image)?i:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(e.course_image),alt:"image",title:"",className:"object-cover w-full h-full rounded-t-xl object-center"})}),(0,y.jsx)("div",{className:"w-full p-5 border-b border-solid border-x border-border-primary rounded-b-xl flex flex-col min-h-340px",children:(0,y.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,y.jsx)("h4",{className:"text-base hover:text-primary mb-2.5 line-clamp-2",children:null===e||void 0===e?void 0:e.title}),(0,y.jsx)("p",{className:"leading-6 mb-3 md:mb-5 w-full text-ellipsis line-clamp-3 break-words",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.description}}),(0,y.jsxs)("div",{className:"flex justify-start items-center gap-[10px] mb-5 mt-auto",children:[(0,y.jsx)("picture",{className:"h-[60px] flex items-center justify-center rounded-full overflow-hidden border border-solid border-border-primary",children:null!==e&&void 0!==e&&e.instructor_profile?(0,y.jsx)("img",{src:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(null===e||void 0===e?void 0:e.instructor_profile),alt:"",title:"",className:"object-cover w-full h-full"}):(0,y.jsx)("img",{src:t,alt:"",title:"",className:"object-cover w-full h-full"})}),(0,y.jsx)("p",{className:"font-semibold",children:null===e||void 0===e?void 0:e.instructor_name})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"min-h-[6px] h-1.5 bg-border-primary mb-2 rounded-xl",children:(0,y.jsx)("div",{className:"block h-full bg-blue-600 rounded-xl",style:{width:"".concat(null===e||void 0===e?void 0:e.percentage,"%")}})}),(0,y.jsxs)("div",{className:"mb-5 flex justify-between",children:[(0,y.jsxs)("span",{className:"text-sm leading-5",children:["Chapter ",null===e||void 0===e?void 0:e.chaptersCompleted," of ",null===e||void 0===e?void 0:e.totalChapters]}),(0,y.jsxs)("span",{className:"text-sm font-bold leading-5",children:[(0,p.hn)(null===e||void 0===e?void 0:e.percentage),"%"]})]})]})]})})]},null===e||void 0===e?void 0:e.uuid)))}):(0,y.jsx)("div",{children:"No Records Found!!!"})})]})}),!_&&(0,y.jsx)("div",{className:"flex items-center justify-center",children:(0,y.jsx)(j.A,{className:"btn-secondary btn-normal w-full md:w-[120px]",label:A(I&&F?"Loading...!":"Load More"),onClick:()=>(()=>{var e,l;L(!0),D({...V,page:V.page+1,category_id:null!==H&&void 0!==H&&null!==(e=H.values)&&void 0!==e&&e.selectedCategory?null===H||void 0===H||null===(l=H.values)||void 0===l?void 0:l.selectedCategory:""})})(),disabled:B||I||(null===U||void 0===U||null===(N=U.getUserCoursesInProgressOrAssigned)||void 0===N||null===(C=N.data)||void 0===C?void 0:C.count)===P.length,title:"".concat(A(I&&F?"Loading...!":"Load More"))})}),_&&(0,y.jsx)(d.A,{dots:!1,infinite:!1,arrows:!0,speed:500,slidesToShow:4,slidesToScroll:1,initialSlide:0,responsive:[{breakpoint:1600,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0}},{breakpoint:1199,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:991,settings:{slidesToShow:1,slidesToScroll:1}}],children:null===P||void 0===P?void 0:P.map((e=>(0,y.jsxs)("div",{className:"w-full 2xl:w-[calc(25%-15px)] xl:w-[calc(33.3%-15px)] lg:w-[calc(50%-15px)] border-border-primary rounded-t-xl h-full px-2.5 cursor-pointer",onClick:()=>q(e.uuid),children:[(0,y.jsx)("picture",{className:"w-full h-[200px] block relative",children:(0,y.jsx)("img",{src:null!==e&&void 0!==e&&e.course_image&&""===(null===e||void 0===e?void 0:e.course_image)?i:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(e.course_image),alt:"image",title:"",className:"object-cover w-full h-full rounded-t-xl object-center "})}),(0,y.jsx)("div",{className:"w-full p-5 border-b border-solid border-x border-border-primary rounded-b-xl flex flex-col min-h-340px",children:(0,y.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,y.jsx)("h4",{className:"text-base hover:text-primary mb-2.5 line-clamp-2",children:null===e||void 0===e?void 0:e.title}),(0,y.jsx)("p",{className:"leading-6 mb-3 md:mb-5 w-full text-ellipsis line-clamp-3 break-words",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.description}}),(0,y.jsxs)("div",{className:"flex justify-start items-center gap-[10px] mb-5 mt-auto",children:[(0,y.jsx)("picture",{children:(0,y.jsx)("img",{src:null!==e&&void 0!==e&&e.instructor_profile&&""===(null===e||void 0===e?void 0:e.instructor_profile)?t:"".concat("https://terraforma-staging.s3.us-west-2.amazonaws.com","/").concat(e.instructor_profile),alt:"",title:"",className:"rounded-full min-w-[40px] h-10"})}),(0,y.jsx)("p",{className:"font-semibold",children:null===e||void 0===e?void 0:e.instructor_name})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"min-h-[6px] h-1.5 rounded-xl bg-border-primary mb-2",children:(0,y.jsx)("div",{className:"block h-full bg-blue-600 rounded-xl",style:{width:"".concat(null===e||void 0===e?void 0:e.percentage,"%")}})}),(0,y.jsxs)("div",{className:"flex justify-between mb-5",children:[(0,y.jsxs)("span",{className:"text-sm leading-5",children:["Chapter ",null===e||void 0===e?void 0:e.chaptersCompleted," of ",null===e||void 0===e?void 0:e.totalChapters]}),(0,y.jsxs)("span",{className:"text-sm font-bold leading-5",children:[(0,p.hn)(null===e||void 0===e?void 0:e.percentage),"%"]})]})]})]})})]},null===e||void 0===e?void 0:e.uuid)))})]})})]})}},16996:(e,l,s)=>{s.r(l),s.d(l,{default:()=>m});var a=s(65043),r=s(59784),i=s(92756),t=s(74952),o=s(65432),d=s(18816),n=s(12209),c=s(88250),u=s(8659),x=(s(15675),s(59140),s(70579));const m=()=>{var e;const{data:l,refetch:s}=(0,c.I)(u._),m=null===l||void 0===l||null===(e=l.usersDashboardCountDetails)||void 0===e?void 0:e.data;return(0,a.useEffect)((()=>{l&&s()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.A,{headerTitle:"Training Dashboard"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:"mb-5 md:mb-7",children:[(0,x.jsx)("div",{className:"mb-5 md:mb-7",children:(0,x.jsx)("h1",{children:"Welcome to Sustainability University!"})}),(0,x.jsxs)("div",{className:"flex gap-5 lg:gap-[30px] flex-wrap",children:[(0,x.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] lg:w-[calc(33.3%-20px)] 2xl:w-[calc(25%-23px)] flex flex-col md:min-h-[150px] rounded-xl p-5 border border-border-primary border-solid",children:[(0,x.jsx)("h6",{className:"leading-7 mb-3 max-w-[200px]",children:"Total No. of Courses Completed"}),(0,x.jsx)("span",{className:"mt-auto text-3xl font-bold leading-9 text-primary",children:null===m||void 0===m?void 0:m.no_of_courses_completed})]}),(0,x.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] lg:w-[calc(33.3%-20px)] 2xl:w-[calc(25%-23px)] flex flex-col md:min-h-[150px] rounded-xl p-5 border border-border-primary border-solid",children:[(0,x.jsx)("h6",{className:"leading-7 mb-3 max-w-[200px]",children:"Total No. of Courses in Progress"}),(0,x.jsx)("span",{className:"mt-auto text-3xl font-bold leading-9 text-primary",children:null===m||void 0===m?void 0:m.no_of_courses_in_progress})]}),(0,x.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] lg:w-[calc(33.3%-20px)] 2xl:w-[calc(25%-23px)] flex flex-col md:min-h-[150px] rounded-xl p-5 border border-border-primary border-solid",children:[(0,x.jsx)("h6",{className:"leading-7 mb-3 max-w-[200px]",children:"Remaining Assigned Courses"}),(0,x.jsx)("span",{className:"mt-auto text-3xl font-bold leading-9 text-primary",children:null===m||void 0===m?void 0:m.no_of_remaining_assigned_courses})]}),(0,x.jsxs)("div",{className:"w-full md:w-[calc(50%-10px)] lg:w-[calc(33.3%-20px)] 2xl:w-[calc(25%-23px)] flex flex-col md:min-h-[150px] rounded-xl p-5 border border-border-primary border-solid",children:[(0,x.jsx)("h6",{className:"leading-7 mb-3 max-w-[200px]",children:"Certificates Earned"}),(0,x.jsx)("span",{className:"mt-auto text-3xl font-bold leading-9 text-primary",children:null===m||void 0===m?void 0:m.total_certificates_earned})]})]})]}),(0,x.jsx)(t.A,{slider:!0}),(0,x.jsx)(i.A,{slider:!0}),(0,x.jsx)(o.A,{slider:!0}),(0,x.jsx)(r.A,{slider:!0}),(0,x.jsx)(d.A,{slider:!0})]})]})}}}]);
//# sourceMappingURL=6996.713d5a62.chunk.js.map
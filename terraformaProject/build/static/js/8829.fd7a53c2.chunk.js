"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[8829],{7648:(e,n,t)=>{t.d(n,{A:()=>u});var r=t(65043),a=t(74117),s=t(73216),l=t(35475),i=t(42145),o=t(79456),d=t(66925),c=t(70579);const m=()=>{var e,n,t;const{t:m}=(0,a.Bd)(),u=(0,s.zy)(),p=new URLSearchParams(u.search).get("uuid"),{id:x}=(0,s.g)(),{userProfileData:h}=(0,o.d4)((e=>e.userProfile)),g=null!==(e=null===h||void 0===h||null===(n=h.getProfile)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.user_type)&&void 0!==e?e:"",v=e=>{var n;let t="";if(null!==(n=e.split("/")[2])&&void 0!==n&&n.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var n;return t=t+(null===(n=e[0])||void 0===n?void 0:n.toUpperCase())+e.slice(1)+" ",t})),t}var r;return t=(null===(r=e.split("/")[2][0])||void 0===r?void 0:r.toUpperCase())+e.split("/")[2].slice(1),t},y=e=>{let n="";if(null!==e&&void 0!==e&&e.includes("-")){n=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const t=n.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substring(1);return n=t.join(" "),n}var t;return n=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",n},$=e=>{let n="";return null!==e&&void 0!==e&&e.includes("-")||(n=(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),n;var t},j=u.pathname.split("/"),b=(0,r.useCallback)((()=>{if((null===j||void 0===j?void 0:j.length)>0){const e=null===j||void 0===j?void 0:j.length;if(e<4)return(0,c.jsx)("span",{className:"text-primary",children:j[2]&&"".concat(m(y(j[2])))});if(e<5)return""!==j[3]?j[3].length>32?(0,c.jsxs)(c.Fragment,{children:[$(j[3])&&(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(j[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(u.pathname)))})}),$(j[3])&&(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!$(j[3])&&(0,c.jsx)("span",{className:"text-primary",children:j[2]&&"".concat(m(y(j[2])))}),(0,c.jsx)("span",{className:"text-primary",children:j[3]&&"".concat(m($(j[3])))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(j[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(u.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:j[3]&&"".concat(m(y(j[3])))})]}):(0,c.jsx)("span",{className:"text-primary",children:j[2]&&"".concat(m(y(j[2])))});if(e<6)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(j[2]),className:"text-light-grey hover:underline",children:"".concat(m(v(u.pathname)))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:j[3]&&"".concat(m(y(j[3])))})]});if(e<7){let e="";return p?e="?uuid=".concat(p):x&&(e="?uuid=".concat(x)),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(j[2]),className:"text-light-grey hover:underline",children:m(y(j[2]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:(0,c.jsx)(l.k2,{to:"/".concat(i.bw.app,"/").concat(j[2],"/").concat(j[3],"/").concat((""!==p||""!==x)&&e),className:"text-light-grey hover:underline",children:m(y(j[3]))})}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,c.jsx)("span",{className:"text-primary",children:j[5]&&"".concat(m(y(j[4])))})]})}}}),[j]);return(0,c.jsx)("div",{className:"w-full",children:(0,c.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,c.jsxs)("span",{children:[(0,c.jsx)(l.k2,{to:(0,d.Go)(g,i.ve.SUPER_ADMIN,"/".concat(i.bw.app,"/").concat(i.bw.dashboard),"/".concat(i.bw.app,"/").concat(i.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:m("Home")}),(0,c.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),b()]})})},u=r.memo(m)},81410:(e,n,t)=>{t.d(n,{A:()=>a});t(65043);var r=t(70579);const a=function(){return(0,r.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,n,t)=>{t.d(n,{A:()=>m});var r=t(65043),a=t(74117),s=t(73216),l=t(7648),i=t(33556),o=t(79456),d=t(75214),c=t(70579);const m=e=>{let{headerActionConst:n,headerTitle:t}=e;const{t:m}=(0,a.Bd)(),u=(0,o.wA)(),{show:p}=(0,o.d4)((e=>e.coursesManagement)),x=(0,s.zy)(),h=(0,r.useCallback)((()=>{u((0,d.oM)(!p))}),[p]);return(0,c.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,c.jsx)("div",{onClick:h,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,c.jsx)(i.Rt,{className:"ml-4"})}),(0,c.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,c.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,c.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,c.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:m(null!==t&&void 0!==t?t:(e=>{let n="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(n=n+e[0].toUpperCase()+e.slice(1)+" ",n))),n}return n=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),n})(x.pathname))}),(0,c.jsx)(l.A,{})]}),n&&(0,c.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(n)return n()})()})]})})]})}},77941:(e,n,t)=>{t.d(n,{Z:()=>i,i:()=>o});var r,a,s=t(57528),l=t(70459);const i=(0,l.J1)(r||(r=(0,s.A)(["\nmutation CreateAnnouncement($title: String, $description: String, $announcementType: String, $emailAttachment: String, $pushImage: String, $platform: String, $userType: String, $userFilter: String, $userToExclude: [Int], $onlySendTo: [Int], $startDate: Date, $endDate: Date) {\n  createAnnouncement(title: $title, description: $description, announcement_type: $announcementType, email_attachment: $emailAttachment, push_image: $pushImage, platform: $platform, userType: $userType, userFilter: $userFilter, userToExclude: $userToExclude, onlySendTo: $onlySendTo, start_date: $startDate, end_date: $endDate) {\n    data {\n      id\n      uuid\n      user_id\n      title\n      description\n      announcement_type\n      email_attachment\n      push_image\n      platform\n      userType\n      userFilter\n      userToExclude\n      onlySendTo\n      start_date\n      end_date\n      status\n      created_at\n      updated_at\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}"]))),o=(0,l.J1)(a||(a=(0,s.A)(["\n  mutation UpdateReadAnnouncementsForUser {\n    updateReadAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))},80909:(e,n,t)=>{t.d(n,{NV:()=>m,bg:()=>u,tT:()=>p});var r,a,s,l,i,o,d=t(57528),c=t(70459);(0,c.J1)(r||(r=(0,d.A)(["\n  query FetchAnnouncementsWithFilters($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $title: String, $startDate: String, $endDate: String, $announcementType: String, $platform: String, $status: Int) {\n    fetchAnnouncementsWithFilters(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, title: $title, start_date: $startDate, end_date: $endDate, announcement_type: $announcementType, platform: $platform, status: $status) {\n      data {\n        announcementData {\n          id\n          uuid\n          user_id\n          title\n          description\n          announcement_type\n          email_attachment\n          push_image\n          platform\n          userType\n          userFilter\n          userToExclude\n          onlySendTo\n          start_date\n          end_date\n          status\n          created_at\n          updated_at\n        }\n        count\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }"])));const m=(0,c.J1)(a||(a=(0,d.A)(["\nquery GetUsersWithPagination($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $firstName: String, $lastName: String, $email: String, $status: Int, $gender: Int, $phoneNo: String) {\n  getUsersWithPagination(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, first_name: $firstName, last_name: $lastName, email: $email, status: $status, gender: $gender, phone_no: $phoneNo) {\n    data {\n      userList {\n        id\n        uuid\n        first_name\n        middle_name\n        last_name\n        user_name\n        email\n        gender\n        date_of_birth\n        phone_no\n        phone_country_id\n        role\n        profile_img\n        device_type\n        status\n        user_role_id\n        created_at\n        updated_at\n      }\n      count\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}\n"]))),u=((0,c.J1)(s||(s=(0,d.A)(["\n  query GetAnnouncementHistoryForUser($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getAnnouncementHistoryForUser(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"]))),(0,c.J1)(l||(l=(0,d.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))),p=(0,c.J1)(i||(i=(0,d.A)(["\n  query GetAnnouncementById($announcementId: String!) {\n    getAnnouncementById(announcementId: $announcementId) {\n      message\n      data {\n        title\n        uuid\n        description\n        createdAt\n      }\n    }\n  }\n"])));(0,c.J1)(o||(o=(0,d.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n        }\n        count\n      }\n    }\n  }\n"])))},48829:(e,n,t)=>{t.r(n),t.d(n,{default:()=>x});var r=t(12209),a=t(65043),s=t(74117),l=t(73216),i=t(42145),o=t(31881),d=t(88250),c=t(80909),m=t(77941),u=t(81410),p=t(70579);const x=()=>{var e,n,t,x,h,g,v;const{t:y}=(0,s.Bd)(),$=(0,l.Zp)(),[j]=(0,o.n)(m.i),{data:b,loading:N}=(0,d.I)(c.bg),f=(0,a.useCallback)((e=>{$("/".concat(i.bw.app,"/").concat(i.bw.ticketsList,"/system-alert/").concat(e))}),[]);return(0,a.useEffect)((()=>{j()}),[]),(0,p.jsxs)(p.Fragment,{children:[N&&(0,p.jsx)(u.A,{}),(0,p.jsx)(r.A,{headerTitle:"Announcements"}),(0,p.jsxs)("div",{className:"mb-5 overflow-auto border border-solid rounded-t-xl border-border-primary md:mb-7",children:[(0,p.jsxs)("table",{className:"m-0 [&>tbody>tr:nth-child(even)]:bg-white [&>tbody>tr:nth-child(even):hover]:bg-gray-200 text-sm md:text-base leading-5 normal-table",children:[(0,p.jsx)("thead",{className:"text-lg md:text-xl",children:(0,p.jsxs)("tr",{className:"border-none bg-accents-2",children:[(0,p.jsx)("th",{className:"p-4 md:p-5 text-baseColor min-w-[115px] 2xl:min-w-[156px]",children:y("Time")}),(0,p.jsx)("th",{className:"p-4 md:p-5 text-baseColor min-w-[145px] 2xl:min-w-[164px]",children:y("Date")}),(0,p.jsx)("th",{className:"p-4 md:p-5 text-baseColor min-w-[566px]",children:y("Announcement")})]})}),(null===b||void 0===b||null===(e=b.getAnnouncementsForUser)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)>0&&(0,p.jsx)("tbody",{className:"text-baseColor",children:null===b||void 0===b||null===(t=b.getAnnouncementsForUser)||void 0===t||null===(x=t.data)||void 0===x||null===(h=x.announcements)||void 0===h?void 0:h.map((e=>(0,p.jsxs)("tr",{className:"border-b border-solid border-border-primary last:border-none hover:cursor-pointer",onClick:()=>f(null===e||void 0===e?void 0:e.uuid),children:[(0,p.jsx)("td",{className:"px-4 py-3 text-left md:p-5",children:(0,p.jsx)("p",{children:(0,i.CC)(null===e||void 0===e?void 0:e.createdAt)})}),(0,p.jsx)("td",{className:"px-4 py-3 text-left md:p-5",children:(0,p.jsx)("p",{children:(0,i.Tw)(null===e||void 0===e?void 0:e.createdAt)})}),(0,p.jsx)("td",{className:"px-4 py-3 md:p-5",children:(0,p.jsxs)("div",{className:"text-left",children:[(0,p.jsx)("strong",{className:"block mb-1",children:y(null===e||void 0===e?void 0:e.title)}),(0,p.jsx)("p",{dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.description}})]})})]},null===e||void 0===e?void 0:e.uuid)))})]}),0===(null===b||void 0===b||null===(g=b.getAnnouncementsForUser)||void 0===g||null===(v=g.data)||void 0===v?void 0:v.count)&&(0,p.jsx)("p",{className:"p-5 flex items-center justify-center w-full",children:"No data found...!"})]})]})}}}]);
//# sourceMappingURL=8829.fd7a53c2.chunk.js.map
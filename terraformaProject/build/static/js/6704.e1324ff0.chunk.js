"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[6704],{7648:(e,t,a)=>{a.d(t,{A:()=>p});var n=a(65043),l=a(74117),s=a(73216),i=a(35475),r=a(42145),d=a(79456),o=a(66925),m=a(70579);const c=()=>{var e,t,a;const{t:c}=(0,l.Bd)(),p=(0,s.zy)(),u=new URLSearchParams(p.search).get("uuid"),{id:h}=(0,s.g)(),{userProfileData:x}=(0,d.d4)((e=>e.userProfile)),v=null!==(e=null===x||void 0===x||null===(t=x.getProfile)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.user_type)&&void 0!==e?e:"",g=e=>{var t;let a="";if(null!==(t=e.split("/")[2])&&void 0!==t&&t.includes("-")){return e.split("/")[2].split("-").forEach((e=>{var t;return a=a+(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+e.slice(1)+" ",a})),a}var n;return a=(null===(n=e.split("/")[2][0])||void 0===n?void 0:n.toUpperCase())+e.split("/")[2].slice(1),a},y=e=>{let t="";if(null!==e&&void 0!==e&&e.includes("-")){t=null===e||void 0===e?void 0:e.replace(/-|\s/g," ");const a=t.split(" ");for(let e=0;e<a.length;e++)a[e]=a[e][0].toUpperCase()+a[e].substring(1);return t=a.join(" "),t}var a;return t=(null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" ",t},j=e=>{let t="";return null!==e&&void 0!==e&&e.includes("-")||(t=(null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))+" "),t;var a},b=p.pathname.split("/"),T=(0,n.useCallback)((()=>{if((null===b||void 0===b?void 0:b.length)>0){const e=null===b||void 0===b?void 0:b.length;if(e<4)return(0,m.jsx)("span",{className:"text-primary",children:b[2]&&"".concat(c(y(b[2])))});if(e<5)return""!==b[3]?b[3].length>32?(0,m.jsxs)(m.Fragment,{children:[j(b[3])&&(0,m.jsx)("span",{className:"text-primary",children:(0,m.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(b[2]),className:"text-light-grey hover:underline",children:"".concat(c(g(p.pathname)))})}),j(b[3])&&(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),!j(b[3])&&(0,m.jsx)("span",{className:"text-primary",children:b[2]&&"".concat(c(y(b[2])))}),(0,m.jsx)("span",{className:"text-primary",children:b[3]&&"".concat(c(j(b[3])))})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"text-primary",children:(0,m.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(b[2]),className:"text-light-grey hover:underline",children:"".concat(c(g(p.pathname)))})}),(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,m.jsx)("span",{className:"text-primary",children:b[3]&&"".concat(c(y(b[3])))})]}):(0,m.jsx)("span",{className:"text-primary",children:b[2]&&"".concat(c(y(b[2])))});if(e<6)return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"text-primary",children:(0,m.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(b[2]),className:"text-light-grey hover:underline",children:"".concat(c(g(p.pathname)))})}),(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,m.jsx)("span",{className:"text-primary",children:b[3]&&"".concat(c(y(b[3])))})]});if(e<7){let e="";return u?e="?uuid=".concat(u):h&&(e="?uuid=".concat(h)),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:"text-primary",children:(0,m.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(b[2]),className:"text-light-grey hover:underline",children:c(y(b[2]))})}),(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,m.jsx)("span",{className:"text-primary",children:(0,m.jsx)(i.k2,{to:"/".concat(r.bw.app,"/").concat(b[2],"/").concat(b[3],"/").concat((""!==u||""!==h)&&e),className:"text-light-grey hover:underline",children:c(y(b[3]))})}),(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"}),(0,m.jsx)("span",{className:"text-primary",children:b[5]&&"".concat(c(y(b[4])))})]})}}}),[b]);return(0,m.jsx)("div",{className:"w-full",children:(0,m.jsxs)("p",{className:"max-xs:text-xs text-xs-14 max-md:truncate",children:[(0,m.jsxs)("span",{children:[(0,m.jsx)(i.k2,{to:(0,o.Go)(v,r.ve.SUPER_ADMIN,"/".concat(r.bw.app,"/").concat(r.bw.dashboard),"/".concat(r.bw.app,"/").concat(r.bw.subscriber)),className:"cursor-pointer text-light-grey hover:underline",children:c("Home")}),(0,m.jsx)("span",{className:"mx-2 text-light-grey",children:">"})]}),T()]})})},p=n.memo(c)},12440:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(65043),l=a(3248),s=(a(40471),a(70579));const i=e=>{let{onChange:t,value:a=""}=e;const i=(0,n.useCallback)((e=>{t(e)}),[]);return(0,s.jsx)("div",{className:"App",children:(0,s.jsx)(l.A,{onChange:i,config:{readonly:!1,autofocus:!1,tabIndex:1,askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_clear_html",placeholder:"Write something awesome ...",beautyHTML:!0,toolbarButtonSize:"large",uploader:{insertImageAsBase64URI:!0},height:596},defaultValue:a})})},r=n.memo(i)},81410:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var n=a(70579);const l=function(){return(0,n.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%] z-[9999]"})}},12209:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(65043),l=a(74117),s=a(73216),i=a(7648),r=a(33556),d=a(79456),o=a(75214),m=a(70579);const c=e=>{let{headerActionConst:t,headerTitle:a}=e;const{t:c}=(0,l.Bd)(),p=(0,d.wA)(),{show:u}=(0,d.d4)((e=>e.coursesManagement)),h=(0,s.zy)(),x=(0,n.useCallback)((()=>{p((0,o.oM)(!u))}),[u]);return(0,m.jsxs)("header",{className:"sticky top-0 z-20 flex bg-white border-b shadow-header xl:shadow-none xl:h-auto xl:block border-border-primary xl:px-2 xl:pt-0",children:[(0,m.jsx)("div",{onClick:x,className:"pt-5 cursor-pointer text-xl-22 xl:hidden",children:(0,m.jsx)(r.Rt,{className:"ml-4"})}),(0,m.jsx)("div",{className:"p-2.5 xl:p-[18px] xl:shadow-header max-xl:w-[calc(100%-47px)]",children:(0,m.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2.5",children:[(0,m.jsxs)("div",{className:"w-full xl:w-auto",children:[(0,m.jsx)("h1",{className:"mb-1 text-2xl max-xl:truncate xl:text-3xl",children:c(null!==a&&void 0!==a?a:(e=>{let t="";if(e.split("/")[2].includes("-")){return e.split("/")[2].split("-").forEach((e=>(t=t+e[0].toUpperCase()+e.slice(1)+" ",t))),t}return t=e.split("/")[2][0].toUpperCase()+e.split("/")[2].slice(1),t})(h.pathname))}),(0,m.jsx)(i.A,{})]}),t&&(0,m.jsx)("div",{className:"flex gap-2.5 max-xl:w-[calc(100%+40px)] lg:gap-5",children:(()=>{if(t)return t()})()})]})})]})}},9369:(e,t,a)=>{a.d(t,{Sf:()=>v,UV:()=>u,hZ:()=>j,hn:()=>g,qs:()=>y,wt:()=>h,x9:()=>x});var n,l,s,i,r,d,o,m,c=a(57528),p=a(70459);const u=(0,p.J1)(n||(n=(0,c.A)(["\n  mutation DeleteTemplate($templateId: String!) {\n    deleteTemplate(templateId: $templateId) {\n      message\n    }\n  }\n"]))),h=(0,p.J1)(l||(l=(0,c.A)(["\n  mutation CreateTemplate($templateData: CreateTemplatesDto!) {\n    createTemplate(templateData: $templateData) {\n      message\n      data {\n        uuid\n        title\n        description\n        status\n      }\n    }\n  }\n"]))),x=(0,p.J1)(s||(s=(0,c.A)(["\n  mutation SendAnnouncements($announcementData: SendAnnouncementDto!) {\n    sendAnnouncements(announcementData: $announcementData) {\n      message\n      data {\n        title\n        description\n        users {\n          email\n          uuid\n          first_name\n          last_name\n          phone_number\n        }\n      }\n    }\n  }\n"]))),v=(0,p.J1)(i||(i=(0,c.A)(["\n  mutation ActivateDeActivateTemplate($templateId: String!) {\n    activateDeActivateTemplate(templateId: $templateId) {\n      message\n    }\n  }\n"]))),g=(0,p.J1)(r||(r=(0,c.A)(["\n  mutation UpdateTemplate($templateData: UpdateTemplatesDto!) {\n    updateTemplate(templateData: $templateData) {\n      message\n      data {\n        uuid\n        title\n        description\n        status\n      }\n    }\n  }\n"]))),y=((0,p.J1)(d||(d=(0,c.A)(["\n  mutation DeleteSystemEmailTemplate($systemEmailTemplateId: String!) {\n    deleteSystemEmailTemplate(systemEmailTemplateId: $systemEmailTemplateId) {\n      message\n    }\n  }\n"]))),(0,p.J1)(o||(o=(0,c.A)(["\n  mutation ActivateDeActivateSystemEmailTemplate($systemEmailTemplateId: String!) {\n    activateDeActivateSystemEmailTemplate(systemEmailTemplateId: $systemEmailTemplateId) {\n      message\n    }\n  }\n"])))),j=(0,p.J1)(m||(m=(0,c.A)(["\n  mutation UpdateSystemEmailTemplate($systemEmailTemplateData: UpdateTemplateDto!) {\n    updateSystemEmailTemplate(systemEmailTemplateData: $systemEmailTemplateData) {\n      message\n      data {\n        uuid\n        name\n        title\n        description\n        status\n      }\n    }\n  }\n"])))},85569:(e,t,a)=>{a.d(t,{DT:()=>p,Kl:()=>u,R5:()=>m,Uj:()=>c,z4:()=>h});var n,l,s,i,r,d=a(57528),o=a(70459);const m=(0,o.J1)(n||(n=(0,d.A)(["\n  query GetTemplatesWithFilterAndPagination($sortOrder: String!, $limit: Float!, $page: Float!, $search: String!, $sortField: String!) {\n    getTemplatesWithFilterAndPagination(sortOrder: $sortOrder, limit: $limit, page: $page, search: $search, sortField: $sortField) {\n      message\n      data {\n        templates {\n          uuid\n          title\n          description\n          status\n        }\n        count\n      }\n    }\n  }\n"]))),c=(0,o.J1)(l||(l=(0,d.A)(["\n  query GetTemplateById($getTemplateByIdId: String!) {\n    getTemplateById(id: $getTemplateByIdId) {\n      message\n      data {\n        description\n        status\n        title\n        uuid\n      }\n    }\n  }\n"]))),p=(0,o.J1)(s||(s=(0,d.A)(["\n  query GetSystemEmailTemplatesWithPagination($filterData: SystemEmailTemplateListDto!) {\n    getSystemEmailTemplatesWithPagination(filterData: $filterData) {\n      message\n      data {\n        templates {\n          uuid\n          title\n          description\n          status\n        }\n        count\n      }\n    }\n  }\n"]))),u=(0,o.J1)(i||(i=(0,d.A)(["\n  query GetSystemEmailTemplateById($systemEmailTemplateId: String!) {\n    getSystemEmailTemplateById(systemEmailTemplateId: $systemEmailTemplateId) {\n      message\n      data {\n        uuid\n        name\n        title\n        description\n        status\n      }\n    }\n  }\n"]))),h=(0,o.J1)(r||(r=(0,d.A)(["\n  query GetUsersForAnnouncementPagination($userType: [Int!]!, $sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getUsersForAnnouncementPagination(userType: $userType, sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        users {\n          uuid\n          first_name\n          last_name\n          email\n          phone_number\n          user_type\n        }\n        count\n      }\n    }\n  }\n"])))},24323:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(65043),l=a(64526),s=a(63516),i=a(74117),r=a(34764),d=a(41290),o=a(73216),m=a(42145),c=a(91188),p=a(12352),u=a(12440),h=a(66925),x=a(12209),v=a(31881),g=a(88250),y=a(9369),j=a(85569),b=a(81410),T=a(70579);const f=()=>{var e;const t=(0,o.Zp)(),{t:a}=(0,i.Bd)(),{createUpdateEmailSchema:f}=(0,p.A)(),{id:N}=(0,o.g)(),[A,E]=(0,v.n)(y.wt),[S,$]=(0,v.n)(y.hZ),{data:w,refetch:D,loading:C}=(0,g.I)(j.Kl,{variables:{systemEmailTemplateId:N},skip:!N});(0,n.useEffect)((()=>{N&&D()}),[N]);const I=(0,s.Wx)({initialValues:{title:"",description:"",metaTitle:"",metaDescription:"",status:1},validationSchema:f,onSubmit:e=>{N?S({variables:{systemEmailTemplateData:{description:null===e||void 0===e?void 0:e.description,status:+(null===e||void 0===e?void 0:e.status),title:null===e||void 0===e?void 0:e.title,template_id:N}}}).then((e=>{const a=e.data.updateSystemEmailTemplate;l.oR.success(null===a||void 0===a?void 0:a.message),t(-1),I.resetForm()})).catch((e=>{var t,a,n,s;l.oR.error(null===e||void 0===e||null===(t=e.networkError)||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.errors)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.message)})):A({variables:{templateData:{description:null===e||void 0===e?void 0:e.description,status:+(null===e||void 0===e?void 0:e.status),title:null===e||void 0===e?void 0:e.title}}}).then((e=>{const a=e.data.createTemplate;l.oR.success(null===a||void 0===a?void 0:a.message),t(-1),I.resetForm()})).catch((e=>{var t,a,n,s;l.oR.error(null===e||void 0===e||null===(t=e.networkError)||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.errors)||void 0===n||null===(s=n[0])||void 0===s?void 0:s.message)}))}}),k=(0,n.useCallback)((e=>{I.setFieldValue(e.target.name,(0,h.AW)(e))}),[]),F=(0,n.useCallback)((e=>{I.setFieldValue("description",e)}),[]),B=(0,n.useCallback)((()=>{t(-1)}),[]);return(0,n.useEffect)((()=>{var e,t,a,n,l,s,i,r,d;null!==w&&void 0!==w&&null!==(e=w.getSystemEmailTemplateById)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.title&&I.resetForm({values:{title:null===w||void 0===w||null===(a=w.getSystemEmailTemplateById)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.title,description:null===w||void 0===w||null===(l=w.getSystemEmailTemplateById)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.description,status:null===w||void 0===w||null===(i=w.getSystemEmailTemplateById)||void 0===i||null===(r=i.data)||void 0===r||null===(d=r.status)||void 0===d?void 0:d.toString()}})}),[null===w||void 0===w||null===(e=w.getSystemEmailTemplateById)||void 0===e?void 0:e.data]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.A,{headerTitle:"System Template Management"}),(C||(null===E||void 0===E?void 0:E.loading)||(null===$||void 0===$?void 0:$.loading))&&(0,T.jsx)(b.A,{}),(0,T.jsxs)("div",{className:"w-[calc(100%-40px)] md:w-[calc(100%-56px)]",children:[(0,T.jsx)("form",{className:"border border-solid border-border-primary rounded-xl ",children:(0,T.jsxs)("div",{className:"p-3 rounded-xl md:p-5",children:[(0,T.jsx)("h6",{className:"leading-[30px] mb-3 md:mb-5",children:a("System Edit Template")}),(0,T.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,T.jsx)("div",{className:"md:max-w-[740px] w-full",children:(0,T.jsx)(r.A,{onBlur:k,required:!0,placeholder:a("Enter Content Page Title"),name:"title",onChange:I.handleChange,label:a("Content Page Title (English)"),value:I.values.title,error:I.errors.title&&I.touched.title?I.errors.title:""})}),(0,T.jsxs)("div",{className:"mb-2",children:[(0,T.jsx)("div",{className:"mb-2",children:(0,T.jsxs)("label",{children:[a("Description")," ",a("English")," ",(0,T.jsx)("span",{className:"text-red-700",children:"*"})]})}),(0,T.jsx)(u.A,{value:I.values.description,onChange:F}),(0,T.jsx)("p",{className:"error",children:I.errors.description&&I.touched.description&&I.errors.description})]}),(0,T.jsx)("div",{className:"md:max-w-[740px] w-full",children:(0,T.jsx)(r.A,{onBlur:k,required:!1,placeholder:a("Enter Meta Title"),name:"metaTitle",onChange:I.handleChange,label:a("Meta Title (English)"),value:I.values.metaTitle,error:I.errors.metaTitle&&I.touched.metaTitle?I.errors.metaTitle:""})}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{htmlFor:"textarea",children:"Meta Description (English)"}),(0,T.jsx)("textarea",{id:"metaDescription",name:"metaDescription",rows:4,cols:83,value:I.values.metaDescription,onBlur:k,placeholder:"Enter Meta Description",onChange:I.handleChange,className:"border border-border-primary rounded-xl p-3.5 w-full focus:bg-white",style:{resize:"none"}}),(0,T.jsx)("p",{className:"error",children:I.errors.metaDescription&&I.touched.metaDescription&&I.errors.metaDescription})]}),(0,T.jsx)("div",{children:(0,T.jsx)(c.A,{required:!0,checked:I.values.status,onChange:I.handleChange,name:"status",radioOptions:m.f_,label:a("Status")})})]})]})}),(0,T.jsxs)("div",{className:"flex items-start justify-start gap-[22px] col-span-3 btn-group py-[30px]",children:[!N&&(0,T.jsx)(d.A,{className:"btn-primary btn-normal w-[166px]",type:"button",label:a("Save"),onClick:I.handleSubmit,title:"".concat(a("Save"))}),N&&(0,T.jsx)(d.A,{className:"btn-primary btn-normal w-[166px]",type:"button",label:a("Update"),onClick:I.handleSubmit,title:"Update"}),(0,T.jsx)(d.A,{className:"btn-secondary btn-normal w-[166px]",label:a("Cancel"),onClick:B,title:"".concat(a("Cancel"))})]})]})]})}}}]);
//# sourceMappingURL=6704.e1324ff0.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[608],{94766:(e,l,i)=>{i.r(l),i.d(l,{default:()=>Le});var t,a,n=i(65043),o=i(12209),s=i(51842),r=i(41290),d=i(74117),u=i(34764),c=i(31881),v=i(88250),p=i(57528),m=i(70459);const g=(0,m.J1)(t||(t=(0,p.A)(["\nmutation UpdateTitleForWebsite($inputData: UpdateLandingPageTitleDto!) {\n    updateTitleForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),b=(0,m.J1)(a||(a=(0,p.A)(["\n  mutation UpdateSubtitleForWebsite($inputData: UpdateLandingPageSubtitleDto!) {\n    updateSubtitleForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));var h,x,f=i(63516),w=i(64526);const j=(0,m.J1)(h||(h=(0,p.A)(["\nquery GetTitleForWebsite {\n    getTitleForWebsite {\n      message\n      data {\n        uuid\n        title\n      }\n    }\n  }"]))),y=(0,m.J1)(x||(x=(0,p.A)(["\n  query GetSubtitleForWebsite {\n    getSubtitleForWebsite {\n      message\n      data {\n        uuid\n        title\n      }\n    }\n  }"])));var C=i(12352),N=i(70579);const S=function(){const{t:e}=(0,d.Bd)(),[l]=(0,c.n)(g),[i]=(0,c.n)(b),{data:t,refetch:a}=(0,v.I)(j),{data:o,refetch:s}=(0,v.I)(y),{changeTitleSubTitle:p}=(0,C.A)(),m=(0,f.Wx)({validationSchema:p,initialValues:{title:"",subtitle:""},onSubmit:async e=>{var n,r;null!==t&&void 0!==t&&null!==(n=t.getTitleForWebsite)&&void 0!==n&&n.data&&l({variables:{inputData:{title:null===e||void 0===e?void 0:e.title}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateTitleForWebsite)||void 0===i?void 0:i.message),m.resetForm(),a()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)})),null!==o&&void 0!==o&&null!==(r=o.getSubtitleForWebsite)&&void 0!==r&&r.data&&i({variables:{inputData:{title:null===e||void 0===e?void 0:e.subtitle}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateTitleForWebsite)||void 0===i?void 0:i.message),m.resetForm(),s()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}});return(0,n.useEffect)((()=>{var e,l;if(null!==t&&void 0!==t&&null!==(e=t.getTitleForWebsite)&&void 0!==e&&e.data&&null!==o&&void 0!==o&&null!==(l=o.getSubtitleForWebsite)&&void 0!==l&&l.data){var i,a;const e=null===t||void 0===t||null===(i=t.getTitleForWebsite)||void 0===i?void 0:i.data,l=null===o||void 0===o||null===(a=o.getSubtitleForWebsite)||void 0===a?void 0:a.data;m.resetForm({values:{title:null===e||void 0===e?void 0:e.title,subtitle:null===l||void 0===l?void 0:l.title}})}}),[t]),(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:e("Enter Title"),label:"Title",required:!0,id:"title",name:"title",value:m.values.title,onChange:m.handleChange,error:m.errors.title})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:e("Enter Sub Title"),label:"Sub Title",required:!0,id:"subtitle",name:"subtitle",value:m.values.subtitle,onChange:m.handleChange,error:m.errors.subtitle})})]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:e("Submit"),onClick:m.handleSubmit,title:"".concat(e("Submit"))})})]})};const D=function(){return(0,N.jsx)("div",{className:"flex flex-col h-full px-5 py-2",children:(0,N.jsx)(S,{})})};var F,A=i(86213),_=i(82485),W=i(55797),T=(i(9686),i(25263)),R=i(33556);const P=(0,m.J1)(F||(F=(0,p.A)(["\nquery GetStepsForWebsite {\n    getStepsForWebsite {\n      message\n      data {\n        uuid\n        title\n        image\n        description\n        order\n      }\n    }\n  }"])));var k;const U=(0,m.J1)(k||(k=(0,p.A)(["\nmutation UpdateStepDetailsForWebsite($inputData: UpdateLandingPageStepDto!) {\n    updateStepDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));var E=i(42145);const V=function(){var e,l,i;const{t:t}=(0,d.Bd)(),{data:a,refetch:o}=(0,v.I)(P),[s,p]=(0,n.useState)(T),[m,g]=(0,n.useState)(0),[b,h]=(0,n.useState)(!1),[x,j]=(0,n.useState)(!1),[y]=(0,c.n)(U),S=(0,n.useRef)(null),D=(0,n.createRef)(),{changeServicesValidationSchema:F}=(0,C.A)();(0,n.useEffect)((()=>{var e,l;if((null===a||void 0===a||null===(e=a.getStepsForWebsite)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)>0){var i;const e=null===a||void 0===a||null===(i=a.getStepsForWebsite)||void 0===i?void 0:i.data.map((e=>{let{__typename:l,...i}=e;return i}));k.setFieldValue("services",e)}}),[a]);const k=(0,f.Wx)({validationSchema:F,initialValues:{services:[{description:"",image:"",order:0,title:"",uuid:""}]},onSubmit:async e=>{const l=e.services.map((e=>y({variables:{inputData:e}})));try{var i,t,a;const e=await Promise.all(l);w.oR.success(null===(i=e[0])||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.updateStepDetailsForWebsite)||void 0===a?void 0:a.message),o()}catch(d){var n,s,r;w.oR.error(null===d||void 0===d||null===(n=d.networkError)||void 0===n||null===(s=n.result)||void 0===s||null===(r=s.errors[0])||void 0===r?void 0:r.message)}}}),V=(0,n.useCallback)((async e=>{const l={fileName:k.values.services[e].image};A.A.delete("".concat(E.hV,"/remove"),{data:l}).then((()=>{k.setFieldValue("services[".concat(e,"].image"),"")})).catch((e=>{var l,i;w.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)}))}),[k]),q=()=>(0,N.jsxs)("div",{className:"flex justify-end gap-3 md:gap-5",children:[(0,N.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Cancel",onClick:()=>h(!1),title:"".concat(t("Cancel"))}),(0,N.jsx)(r.A,{className:"btn-primary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Save",onClick:()=>(async()=>{var e;if("undefined"!==typeof(null===(e=D.current)||void 0===e?void 0:e.cropper)){var l;let e=null;const i=(0,E.Si)(null===(l=D.current)||void 0===l?void 0:l.cropper.getCroppedCanvas().toDataURL(),"services[".concat(m,"].image.png")),t=new FormData;t.append("image",i),j(!0),e=await(0,E.V6)(t,"website"),e&&(j(!1),k.setFieldValue("services[".concat(m,"].image"),e),h(!1),g(0))}})(),disabled:x,title:"".concat(t("Save"))})]}),$=null===k||void 0===k||null===(e=k.errors)||void 0===e?void 0:e.services;return(0,N.jsxs)("div",{className:"px-5 pt-2 pb-5",children:[null===k||void 0===k||null===(l=k.values)||void 0===l||null===(i=l.services)||void 0===i?void 0:i.map(((e,l)=>{var i,a,n,o,s,d,c,v,m,b,x,f,j;return(0,N.jsxs)("div",{className:"mb-5",children:[(0,N.jsxs)("h4",{className:"mb-5",children:[t("Step ".concat(l+1)),":"]}),(0,N.jsxs)("div",{className:"flex flex-wrap gap-x-5 gap-y-3",children:[(0,N.jsxs)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:[(0,N.jsx)("label",{htmlFor:"image-".concat(l),children:t("Service Image")}),(0,N.jsxs)("div",{className:"box-border border border-solid aspect-video border-border-primary rounded-xl relative flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsxs)("label",{htmlFor:"image-".concat(l),className:"relative flex flex-col h-full w-full items-center justify-center",children:[(0,N.jsx)("div",{className:"flex items-center justify-center overflow-hidden border border-solid w-full h-full cursor-pointer border-border-primary",children:(0,N.jsx)("img",{src:null!==e&&void 0!==e&&null!==(i=e.image)&&void 0!==i&&i.includes(E.sT)?e.image:E.sT+e.image,alt:"service_image",className:"object-contain w-full h-full bg-black"})}),(0,N.jsx)("input",{type:"file",multiple:!0,className:"focus:bg-transparent absolute top-1/2 opacity-0",accept:"image/*",id:"image-".concat(l),name:"services[".concat(l,"].image"),ref:S,onChange:e=>((e,l)=>{let i;if(e.preventDefault(),g(l),e.dataTransfer?i=e.dataTransfer.files:e.target&&(i=e.target.files),i&&i.length>0){const e=i[0];if(e.type.startsWith("image/"))if(e.size>E.w3)w.oR.error("Image size must be less than 5MB");else{const l=new FileReader;l.onload=()=>{p(l.result),h(!0)},l.readAsDataURL(e)}else w.oR.error("Please select a valid image file")}S.current&&(S.current.value="")})(e,l)}),(0,N.jsx)("div",{className:"absolute bottom-0 p-2 text-2xl font-bold text-white rounded-full right-1 sm:right-2 bg-primary",children:(0,N.jsx)(R.i7,{})})]}),e.image&&(0,N.jsx)(r.A,{className:"absolute p-[6px] rounded-full cursor-pointer top-4 right-4 md:top-3 md:right-4 bg-error text-lg md:text-xl",type:"button",label:"",onClick:()=>V(l),title:"".concat(t("Close")),children:(0,N.jsx)(R.YY,{className:"fill-white"})})]}),null!==$&&void 0!==$&&null!==(a=$[l])&&void 0!==a&&a.image&&null!==(n=k.touched.services)&&void 0!==n&&null!==(o=n[l])&&void 0!==o&&o.image?(0,N.jsx)("p",{className:"mt-2 error md:text-xs-15",children:t(null===$||void 0===$||null===(s=$[l])||void 0===s?void 0:s.image)}):""]}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Service Title"),label:"Service Title",required:!0,name:"services[".concat(l,"].title"),id:"title-".concat(l),onChange:k.handleChange,value:e.title,error:null!==$&&void 0!==$&&null!==(d=$[l])&&void 0!==d&&d.title&&null!==(c=k.touched.services)&&void 0!==c&&null!==(v=c[l])&&void 0!==v&&v.title?null===$||void 0===$||null===(m=$[l])||void 0===m?void 0:m.title:""})}),(0,N.jsx)("div",{className:"w-full 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Service Description"),label:"Service Description",required:!0,name:"services[".concat(l,"].description"),id:"description-".concat(l),onChange:k.handleChange,value:e.description,error:null!==$&&void 0!==$&&null!==(b=$[l])&&void 0!==b&&b.description&&null!==(x=k.touched.services)&&void 0!==x&&null!==(f=x[l])&&void 0!==f&&f.description?null===$||void 0===$||null===(j=$[l])||void 0===j?void 0:j.description:""})})]})]},null===e||void 0===e?void 0:e.uuid)})),(0,N.jsx)("div",{className:"flex",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Submit"),onClick:()=>k.handleSubmit(),title:"".concat(t("Submit"))})}),(0,N.jsx)(W.l,{className:"custom-dialog",header:"Crop Image",visible:b,style:{width:"50vw",borderRadius:"12px"},onHide:()=>h(!1),footer:()=>q(),children:s&&(0,N.jsx)(_.I,{ref:D,style:{height:400,width:"100%"},zoomTo:.5,preview:".img-preview",src:s,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,cropBoxResizable:!0})})]})};var q;const $=(0,m.J1)(q||(q=(0,p.A)(["\nquery GetAboutUsDetailsForWebsite {\n    getAboutUsDetailsForWebsite {\n      message\n      data {\n        uuid\n        title\n        order\n        description\n        image\n        landing_page_points {\n          uuid\n          title\n          order\n          type\n        }\n      }\n    }\n  }"])));var I,L;const B=(0,m.J1)(I||(I=(0,p.A)(["\nmutation UpdateAboutUsDetailsForWebsite($inputData: UpdateLandingPageAboutUsDto!) {\n    updateAboutUsDetailsForWebsite(inputData: $inputData) {\n      message\n     }\n  }"]))),J=(0,m.J1)(L||(L=(0,p.A)(["\n  mutation AddOrUpdateAboutUsPointForWebsite($inputData: UpdateLandingPagePointsDto!) {\n    addOrUpdateAboutUsPointForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));const z=function(){var e,l,i,t,a,o,s;const{t:p}=(0,d.Bd)(),{data:m,refetch:g}=(0,v.I)($),[b]=(0,c.n)(B),[h]=(0,c.n)(J),{changeAboutUsValidationSchema:x}=(0,C.A)();(0,n.useEffect)((()=>{var e;if(null!==m&&void 0!==m&&null!==(e=m.getAboutUsDetailsForWebsite)&&void 0!==e&&e.data){var l,i,t,a;const e=null===m||void 0===m||null===(l=m.getAboutUsDetailsForWebsite)||void 0===l?void 0:l.data,n=null===m||void 0===m||null===(i=m.getAboutUsDetailsForWebsite)||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.landing_page_points)||void 0===a?void 0:a.map((e=>({title:e.title,order:null===e||void 0===e?void 0:e.order,uuid:e.uuid})));j.resetForm({values:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,order:null===e||void 0===e?void 0:e.order,image:null===e||void 0===e?void 0:e.image,uuid:null===e||void 0===e?void 0:e.uuid,about:n}})}}),[null===m||void 0===m||null===(e=m.getAboutUsDetailsForWebsite)||void 0===e?void 0:e.data]);const j=(0,f.Wx)({validationSchema:x,initialValues:{title:"",description:"",order:0,image:"",uuid:"",about:[{title:"",order:0,uuid:""}]},onSubmit:async e=>{b({variables:{inputData:{uuid:null===e||void 0===e?void 0:e.uuid,title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image,order:null===e||void 0===e?void 0:e.order}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateAboutUsDetailsForWebsite)||void 0===i?void 0:i.message),j.resetForm(),(async()=>{var e;const l=null===j||void 0===j||null===(e=j.values)||void 0===e?void 0:e.about.map((e=>{const l={uuid:null===e||void 0===e?void 0:e.uuid,title:null===e||void 0===e?void 0:e.title,order:null===e||void 0===e?void 0:e.order,landing_page_id:""};return h({variables:{inputData:l}})}));try{(await Promise.all(l)).forEach((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateTitleForWebsite)||void 0===i?void 0:i.message)})),j.resetForm(),g()}catch(n){var i,t,a;w.oR.error(null===n||void 0===n||null===(i=n.networkError)||void 0===i||null===(t=i.result)||void 0===t||null===(a=t.errors[0])||void 0===a?void 0:a.message)}})(),g()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}}),y=null===j||void 0===j||null===(l=j.errors)||void 0===l?void 0:l.about;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:p("Enter Title"),label:"Title",required:!0,name:"title",id:"title",onChange:j.handleChange,value:j.values.title,error:null===j||void 0===j||null===(i=j.errors)||void 0===i?void 0:i.title})}),(0,N.jsx)("div",{className:"w-full 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:p("Enter Description"),label:"Description",required:!0,name:"description",id:"description",onChange:j.handleChange,value:null===j||void 0===j||null===(t=j.values)||void 0===t?void 0:t.description,error:null===j||void 0===j||null===(a=j.errors)||void 0===a?void 0:a.description})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:p("Enter Video Url"),label:"Video Url",required:!0,name:"image",id:"image",onChange:j.handleChange,value:j.values.image,error:null===j||void 0===j||null===(o=j.errors)||void 0===o?void 0:o.image})}),(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsx)("label",{className:"w-full",children:p("Check Points")}),(0,N.jsx)("label",{className:"error",children:"*"}),(0,N.jsx)("div",{className:"flex flex-wrap gap-x-5 gap-y-3.5",children:null===j||void 0===j||null===(s=j.values)||void 0===s?void 0:s.about.map(((e,l)=>{var i,t,a,n;return(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:p("Enter Check Points ".concat(l+1)),required:!0,name:"about[".concat(l,"].title"),value:null===e||void 0===e?void 0:e.title,onChange:null===j||void 0===j?void 0:j.handleChange,id:"title-".concat(l),error:null!==y&&void 0!==y&&null!==(i=y[l])&&void 0!==i&&i.title&&null!==(t=j.touched.about)&&void 0!==t&&null!==(a=t[l])&&void 0!==a&&a.title?null===y||void 0===y||null===(n=y[l])||void 0===n?void 0:n.title:""})},null===e||void 0===e?void 0:e.uuid)}))})]})]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:p("Submit"),onClick:()=>j.handleSubmit(),title:"".concat(p("Submit"))})})]})};var M;const G=(0,m.J1)(M||(M=(0,p.A)(["\nquery GetClientsForWebsite {\n    getClientsForWebsite {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        order\n        type\n      }\n    }\n  }"])));var H;const Y=(0,m.J1)(H||(H=(0,p.A)(["\nmutation UpdateClientDetailsForWebsite($inputData: UpdateLandingPageClientDto!) {\n    updateClientDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));const O=function(){var e,l,i,t,a,o;const{t:s}=(0,d.Bd)(),{data:p,refetch:m}=(0,v.I)(G),[g,b]=(0,n.useState)(T),[h,x]=(0,n.useState)(0),[j,y]=(0,n.useState)(!1),S=(0,n.createRef)(),D=(0,n.useRef)(null),[F,P]=(0,n.useState)(!1),[k]=(0,c.n)(Y),{ClientValidationSchema:U}=(0,C.A)(),V=(0,f.Wx)({validationSchema:U,initialValues:{order:0,title:"",uuid:"",manageClient:[{image:"",uuid:"",title:""}]},onSubmit:async e=>{const l=null===e||void 0===e?void 0:e.manageClient.map((l=>k({variables:{inputData:{...l,title:e.title}}})));try{var i,t,a;const e=await Promise.all(l);w.oR.success(null===(i=e[0])||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.updateClientDetailsForWebsite)||void 0===a?void 0:a.message),m()}catch(r){var n,o,s;w.oR.error(null===r||void 0===r||null===(n=r.networkError)||void 0===n||null===(o=n.result)||void 0===o||null===(s=o.errors[0])||void 0===s?void 0:s.message)}}}),q=(0,n.useCallback)((async e=>{const l={fileName:V.values.manageClient[e].image};A.A.delete("".concat(E.hV,"/remove"),{data:l}).then((()=>{V.setFieldValue("manageClient[".concat(e,"].image"),"")})).catch((e=>{var l,i;w.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)}))}),[V]),$=()=>(0,N.jsxs)("div",{className:"flex justify-end gap-3 md:gap-5",children:[(0,N.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Cancel",onClick:()=>y(!1),title:"".concat(s("Cancel"))}),(0,N.jsx)(r.A,{className:"btn-primary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Save",onClick:()=>(async()=>{var e;if("undefined"!==typeof(null===(e=S.current)||void 0===e?void 0:e.cropper)){var l;let e=null;const i=(0,E.Si)(null===(l=S.current)||void 0===l?void 0:l.cropper.getCroppedCanvas().toDataURL(),"manageClient[".concat(h,"].image.png")),t=new FormData;t.append("image",i),P(!0),e=await(0,E.V6)(t,"website"),e&&(P(!1),V.setFieldValue("manageClient[".concat(h,"].image"),e),y(!1),x(0))}})(),disabled:F,title:"".concat(s("Save"))})]});(0,n.useEffect)((()=>{var e,l;if((null===p||void 0===p||null===(e=p.getClientsForWebsite)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)>0){var i,t,a;const e=null===p||void 0===p||null===(i=p.getClientsForWebsite)||void 0===i?void 0:i.data.map((e=>{let{__typename:l,...i}=e;return i})),l=null!==(t=null===(a=e[0])||void 0===a?void 0:a.title)&&void 0!==t?t:"";V.setValues({...e[0],title:l,manageClient:e.map((e=>({image:e.image,title:"",uuid:e.uuid})))})}}),[p]);const I=null===V||void 0===V||null===(e=V.errors)||void 0===e?void 0:e.manageClient;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsx)(u.A,{placeholder:s("Enter Title"),label:"Enter Title",required:!0,name:"title",id:"title",onChange:V.handleChange,value:null===V||void 0===V||null===(l=V.values)||void 0===l?void 0:l.title,error:null!==V&&void 0!==V&&null!==(i=V.errors)&&void 0!==i&&i.title?null===V||void 0===V||null===(t=V.errors)||void 0===t?void 0:t.title:""}),null===V||void 0===V||null===(a=V.values)||void 0===a||null===(o=a.manageClient)||void 0===o?void 0:o.map(((e,l)=>{var i,t,a;return(0,N.jsx)("div",{className:"flex flex-wrap gap-x-5 gap-y-3",children:(0,N.jsxs)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:[(0,N.jsx)("label",{htmlFor:"image-".concat(l),children:s("Client Company Logo")}),(0,N.jsxs)("div",{className:"box-border border border-solid aspect-video border-border-primary rounded-xl relative flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsxs)("label",{htmlFor:"image-".concat(l),className:"relative flex flex-col h-full w-full items-center justify-center",children:[(0,N.jsx)("div",{className:"flex items-center justify-center overflow-hidden border border-solid w-full h-full cursor-pointer border-border-primary",children:(0,N.jsx)("img",{src:null!==e&&void 0!==e&&null!==(i=e.image)&&void 0!==i&&i.includes(E.sT)?e.image:E.sT+e.image,alt:"service_image",className:"object-contain w-full h-full bg-black"})}),(0,N.jsx)("input",{type:"file",multiple:!0,className:"focus:bg-transparent absolute top-1/2 opacity-0",accept:"image/*",id:"image-".concat(l),name:"manageClient[".concat(l,"].image"),ref:D,onChange:e=>((e,l)=>{let i;if(e.preventDefault(),x(l),e.dataTransfer?i=e.dataTransfer.files:e.target&&(i=e.target.files),i&&i.length>0){const e=i[0];if(e.type.startsWith("image/"))if(e.size>E.w3)w.oR.error("Image size must be less than 5MB");else{const l=new FileReader;l.onload=()=>{b(l.result),y(!0)},l.readAsDataURL(e)}else w.oR.error("Please select a valid image file")}D.current&&(D.current.value="")})(e,l)}),(0,N.jsx)("div",{className:"absolute bottom-0 p-2 text-2xl font-bold text-white rounded-full right-1 sm:right-2 bg-primary",children:(0,N.jsx)(R.i7,{})})]}),e.image&&(0,N.jsx)(r.A,{className:"absolute p-[6px] rounded-full cursor-pointer top-4 right-4 md:top-3 md:right-4 bg-error text-lg md:text-xl",type:"button",label:"",onClick:()=>q(l),title:"".concat(s("Close")),children:(0,N.jsx)(R.YY,{className:"fill-white"})})]}),null!==I&&void 0!==I&&null!==(t=I[l])&&void 0!==t&&t.image?(0,N.jsx)("p",{className:"mt-2 error md:text-xs-15",children:s(null===I||void 0===I||null===(a=I[l])||void 0===a?void 0:a.image)}):""]},e.uuid)},"".concat(l+1))})),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:s("Submit"),onClick:V.handleSubmit,title:"".concat(s("Submit"))})}),(0,N.jsx)(W.l,{className:"custom-dialog",header:"Crop Image",visible:j,style:{width:"50vw",borderRadius:"12px"},onHide:()=>y(!1),footer:()=>$(),children:g&&(0,N.jsx)(_.I,{ref:S,style:{height:400,width:"100%"},zoomTo:.5,preview:".img-preview",src:g,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,cropBoxResizable:!0})})]})};var K;const Q=(0,m.J1)(K||(K=(0,p.A)(["\nquery GetServicesForWebsite {\n    getServicesForWebsite {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        order\n        type\n        landing_page_services {\n          uuid\n          title\n          description\n          image\n          order\n          type\n        }\n      }\n    }\n  }"])));var X,Z;const ee=(0,m.J1)(X||(X=(0,p.A)(["\nmutation UpdateServiceDetailsForWebsite($inputData: UpdateLandingPageServiceDto!) {\n    updateServiceDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),le=(0,m.J1)(Z||(Z=(0,p.A)(["\n  mutation UpdateServicePointForWebsite($inputData: UpdateLandingPageServicePointDto!) {\n    updateServicePointForWebsite(inputData: $inputData) {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        order\n        type\n      }\n    }\n  }"])));const ie=function(){var e,l,i,t,a,o;const{t:s}=(0,d.Bd)(),{data:p,refetch:m}=(0,v.I)(Q),[g]=(0,c.n)(ee),[b]=(0,c.n)(le),[h,x]=(0,n.useState)(0),[j,y]=(0,n.useState)(T),[S,D]=(0,n.useState)(!1),F=(0,n.useRef)(null),[P,k]=(0,n.useState)(!1),{wasteCollectionValidationSchema:U}=(0,C.A)(),V=(0,n.createRef)();(0,n.useEffect)((()=>{var e;if(null!==p&&void 0!==p&&null!==(e=p.getServicesForWebsite)&&void 0!==e&&e.data){var l,i,t,a;const e=null===p||void 0===p||null===(l=p.getServicesForWebsite)||void 0===l?void 0:l.data,n=null===p||void 0===p||null===(i=p.getServicesForWebsite)||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.landing_page_services)||void 0===a?void 0:a.map((e=>({title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image,order:null===e||void 0===e?void 0:e.order,uuid:null===e||void 0===e?void 0:e.uuid})));q.resetForm({values:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,order:null===e||void 0===e?void 0:e.order,uuid:null===e||void 0===e?void 0:e.uuid,landing_page_services:n}})}}),[null===p||void 0===p||null===(e=p.getServicesForWebsite)||void 0===e?void 0:e.data]);const q=(0,f.Wx)({validationSchema:U,initialValues:{title:"",description:"",order:0,uuid:"",landing_page_services:[{title:"",description:"",image:"",order:0,uuid:""}]},onSubmit:async e=>{g({variables:{inputData:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,order:null===e||void 0===e?void 0:e.order}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateServiceDetailsForWebsite)||void 0===i?void 0:i.message),q.resetForm(),(async()=>{var e;const l=null===q||void 0===q||null===(e=q.values)||void 0===e?void 0:e.landing_page_services.map((e=>{const l={uuid:null===e||void 0===e?void 0:e.uuid,title:null===e||void 0===e?void 0:e.title,order:null===e||void 0===e?void 0:e.order,image:null===e||void 0===e?void 0:e.image,description:null===e||void 0===e?void 0:e.description};return b({variables:{inputData:l}})}));try{await Promise.all(l),q.resetForm(),m()}catch(n){var i,t,a;w.oR.error(null===n||void 0===n||null===(i=n.networkError)||void 0===i||null===(t=i.result)||void 0===t||null===(a=t.errors[0])||void 0===a?void 0:a.message)}})(),m()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}}),$=(0,n.useCallback)((async e=>{const l={fileName:q.values.landing_page_services[e].image};A.A.delete("".concat(E.hV,"/remove"),{data:l}).then((()=>{q.setFieldValue("landing_page_services[".concat(e,"].image"),"")})).catch((e=>{var l,i;w.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)}))}),[q]),I=()=>(0,N.jsxs)("div",{className:"flex justify-end gap-3 md:gap-5",children:[(0,N.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Cancel",onClick:()=>D(!1),title:"".concat(s("Cancel"))}),(0,N.jsx)(r.A,{className:"btn-primary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Save",onClick:()=>(async()=>{var e;if("undefined"!==typeof(null===(e=V.current)||void 0===e?void 0:e.cropper)){var l;let e=null;const i=(0,E.Si)(null===(l=V.current)||void 0===l?void 0:l.cropper.getCroppedCanvas().toDataURL(),"landing_page_services[".concat(h,"].image.png")),t=new FormData;t.append("image",i),k(!0),e=await(0,E.V6)(t,"website"),e&&(k(!1),q.setFieldValue("landing_page_services[".concat(h,"].image"),e),D(!1),x(0))}})(),disabled:P,title:"".concat(s("Save"))})]}),L=null===q||void 0===q||null===(l=q.errors)||void 0===l?void 0:l.landing_page_services;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:s("Enter Title"),label:"Title",required:!0,name:"title",id:"title",onChange:q.handleChange,value:null===q||void 0===q||null===(i=q.values)||void 0===i?void 0:i.title,error:q.errors.title})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:s("Enter SubTitle"),label:"SubTitle",required:!0,name:"description",id:"description",onChange:q.handleChange,value:null===q||void 0===q||null===(t=q.values)||void 0===t?void 0:t.description,error:q.errors.description})}),null===q||void 0===q||null===(a=q.values)||void 0===a||null===(o=a.landing_page_services)||void 0===o?void 0:o.map(((e,l)=>{var i,t,a,n,o,d,c,v,p,m,g,b,h;return(0,N.jsx)("div",{className:"w-full",children:(0,N.jsxs)("div",{className:"flex flex-wrap py-4 gap-x-5 gap-y-3",children:[(0,N.jsxs)("h4",{className:"w-full mb-5",children:[s("Waste Collection")," ",l+1]}),(0,N.jsxs)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:[(0,N.jsx)("label",{htmlFor:"image-".concat(l),children:s("Collection Image")}),(0,N.jsxs)("div",{className:"box-border border border-solid aspect-video border-border-primary rounded-xl relative flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsxs)("label",{htmlFor:"image-".concat(l),className:"relative flex flex-col h-full w-full items-center justify-center",children:[(0,N.jsx)("div",{className:"flex items-center justify-center overflow-hidden border border-solid w-full h-full cursor-pointer border-border-primary",children:(0,N.jsx)("img",{src:null!==e&&void 0!==e&&null!==(i=e.image)&&void 0!==i&&i.includes(E.sT)?e.image:E.sT+e.image,alt:"service_image",className:"object-contain w-full h-full bg-black"})}),(0,N.jsx)("input",{type:"file",multiple:!0,className:"focus:bg-transparent absolute top-1/2 opacity-0",accept:"image/*",id:"image-".concat(l),name:"landing_page_services[".concat(l,"].image"),ref:F,onChange:e=>((e,l)=>{let i;if(e.preventDefault(),x(l),e.dataTransfer?i=e.dataTransfer.files:e.target&&(i=e.target.files),i&&i.length>0){const e=i[0];if(e.type.startsWith("image/"))if(e.size>E.w3)w.oR.error("Image size must be less than 5MB");else{const l=new FileReader;l.onload=()=>{y(l.result),D(!0)},l.readAsDataURL(e)}else w.oR.error("Please select a valid image file")}F.current&&(F.current.value="")})(e,l)}),(0,N.jsx)("div",{className:"absolute bottom-0 p-2 text-2xl font-bold text-white rounded-full right-1 sm:right-2 bg-primary",children:(0,N.jsx)(R.i7,{})})]}),e.image&&(0,N.jsx)(r.A,{className:"absolute p-[6px] rounded-full cursor-pointer top-4 right-4 md:top-3 md:right-4 bg-error text-lg md:text-xl",type:"button",label:"",onClick:()=>$(l),title:"".concat(s("Close")),children:(0,N.jsx)(R.YY,{className:"fill-white"})})]}),null!==L&&void 0!==L&&null!==(t=L[l])&&void 0!==t&&t.image&&null!==(a=q.touched.landing_page_services)&&void 0!==a&&null!==(n=a[l])&&void 0!==n&&n.image?(0,N.jsx)("p",{className:"mt-2 error md:text-xs-15",children:s(null===L||void 0===L||null===(o=L[l])||void 0===o?void 0:o.image)}):""]}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:s("Enter Collection Title"),label:"Collection Title",required:!0,name:"landing_page_services[".concat(l,"].title"),id:"title-".concat(l),onChange:q.handleChange,value:e.title,error:null!==L&&void 0!==L&&null!==(d=L[l])&&void 0!==d&&d.title&&null!==(c=q.touched.landing_page_services)&&void 0!==c&&null!==(v=c[l])&&void 0!==v&&v.title?null===L||void 0===L||null===(p=L[l])||void 0===p?void 0:p.title:""})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:s("Enter Collection Description"),label:"Collection Description",required:!0,name:"landing_page_services[".concat(l,"].description"),id:"description-".concat(l),onChange:q.handleChange,value:e.description,error:null!==L&&void 0!==L&&null!==(m=L[l])&&void 0!==m&&m.description&&null!==(g=q.touched.landing_page_services)&&void 0!==g&&null!==(b=g[l])&&void 0!==b&&b.description?null===L||void 0===L||null===(h=L[l])||void 0===h?void 0:h.description:""})})]})},e.uuid)}))]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:s("Submit"),onClick:()=>q.handleSubmit(),title:"".concat(s("Submit"))})}),(0,N.jsx)(W.l,{className:"custom-dialog",header:"Crop Image",visible:S,style:{width:"50vw",borderRadius:"12px"},onHide:()=>D(!1),footer:()=>I(),children:j&&(0,N.jsx)(_.I,{ref:V,style:{height:400,width:"100%"},zoomTo:.5,preview:".img-preview",src:j,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,cropBoxResizable:!0})})]})};var te;const ae=(0,m.J1)(te||(te=(0,p.A)(["\nmutation UpdateStatisticDetailsForWebsite($inputData: UpdateLandingPageStatisticDto!) {\n  updateStatisticDetailsForWebsite(inputData: $inputData) {\n    message\n   \n  }\n}"])));var ne;const oe=(0,m.J1)(ne||(ne=(0,p.A)(["\nquery GetStatisticsForWebsite {\n    getStatisticsForWebsite {\n      message\n      data {\n        uuid\n        title\n        description\n        order\n        type\n      }\n    }\n  }"])));const se=function(){var e,l,i;const{t:t}=(0,d.Bd)(),[a]=(0,c.n)(ae),{data:o,refetch:s}=(0,v.I)(oe),{ratingValidationSchema:p}=(0,C.A)();(0,n.useEffect)((()=>{var e,l;if((null===o||void 0===o||null===(e=o.getStatisticsForWebsite)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)>0){var i;const e=null===o||void 0===o||null===(i=o.getStatisticsForWebsite)||void 0===i?void 0:i.data.map((e=>{let{__typename:l,type:i,...t}=e;return t}));m.setFieldValue("rating",e)}}),[o]);const m=(0,f.Wx)({validationSchema:p,initialValues:{rating:[{description:"",order:0,title:"",image:""}]},onSubmit:async e=>{const l=e.rating.map((e=>a({variables:{inputData:e}})));try{var i,t,n;const e=await Promise.all(l);w.oR.success(null===(i=e[0])||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.updateStatisticDetailsForWebsite)||void 0===n?void 0:n.message),s()}catch(u){var o,r,d;w.oR.error(null===u||void 0===u||null===(o=u.networkError)||void 0===o||null===(r=o.result)||void 0===r||null===(d=r.errors[0])||void 0===d?void 0:d.message)}}}),g=null===m||void 0===m||null===(e=m.errors)||void 0===e?void 0:e.rating;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[null===m||void 0===m||null===(l=m.values)||void 0===l||null===(i=l.rating)||void 0===i?void 0:i.map(((e,l)=>{var i,a,n,o,s,r,d,c;return(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsxs)("h4",{className:"w-full mb-2",children:[t("Rating")," ",l+1," :"]}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Rating"),label:"Rating",required:!0,name:"rating[".concat(l,"].title"),id:"title-".concat(l),onChange:m.handleChange,value:e.title,error:null!==g&&void 0!==g&&null!==(i=g[l])&&void 0!==i&&i.title&&null!==(a=m.touched.rating)&&void 0!==a&&null!==(n=a[l])&&void 0!==n&&n.title?null===g||void 0===g||null===(o=g[l])||void 0===o?void 0:o.title:""})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Description"),label:"Description",required:!0,name:"rating[".concat(l,"].description"),id:"description-".concat(l),onChange:m.handleChange,value:e.description,error:null!==g&&void 0!==g&&null!==(s=g[l])&&void 0!==s&&s.description&&null!==(r=m.touched.rating)&&void 0!==r&&null!==(d=r[l])&&void 0!==d&&d.description?null===g||void 0===g||null===(c=g[l])||void 0===c?void 0:c.description:""})})]},"".concat(l+1))})),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Submit"),onClick:()=>m.handleSubmit(),title:"".concat(t("Submit"))})})]})};var re;const de=(0,m.J1)(re||(re=(0,p.A)(["\nmutation UpdateWhyChooseUsDetailsForWebsite($inputData: UpdateLandingPageWhyChooseUsDto!) {\n    updateWhyChooseUsDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));var ue;const ce=(0,m.J1)(ue||(ue=(0,p.A)(["\nquery GetWhyChooseUsForWebsite {\n    getWhyChooseUsForWebsite {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        order\n        type\n      }\n    }\n  }"])));const ve=function(){var e,l,i,t,a;const{t:o}=(0,d.Bd)(),[s]=(0,c.n)(de),{data:p,refetch:m}=(0,v.I)(ce),[g,b]=(0,n.useState)(!1),[h,x]=(0,n.useState)(T),[j,y]=(0,n.useState)(!1),S=(0,n.useRef)(null),D=(0,n.createRef)(),{whyChooseValidationSchema:F}=(0,C.A)(),P=(0,f.Wx)({validationSchema:F,initialValues:{title:"",description:"",image:"",order:0},onSubmit:async e=>{s({variables:{inputData:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image,order:null===e||void 0===e?void 0:e.order}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateWhyChooseUsDetailsForWebsite)||void 0===i?void 0:i.message),P.resetForm(),m()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}});(0,n.useEffect)((()=>{var e;if(null!==p&&void 0!==p&&null!==(e=p.getWhyChooseUsForWebsite)&&void 0!==e&&e.data){var l;const e=null===p||void 0===p||null===(l=p.getWhyChooseUsForWebsite)||void 0===l?void 0:l.data;P.resetForm({values:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image}})}}),[p]);const k=(0,n.useCallback)((()=>{const e={fileName:P.values.image};A.A.delete("".concat(E.hV,"/remove"),{data:e}).then((()=>{P.setFieldValue("image","")})).catch((e=>{var l,i;w.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)}))}),[P]),U=()=>(0,N.jsxs)("div",{className:"flex justify-end gap-3 md:gap-5",children:[(0,N.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Cancel",onClick:()=>y(!1),title:"".concat(o("Cancel"))}),(0,N.jsx)(r.A,{className:"btn-primary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Save",onClick:()=>(async()=>{var e;if("undefined"!==typeof(null===(e=D.current)||void 0===e?void 0:e.cropper)){var l;let e=null;const i=(0,E.Si)(null===(l=D.current)||void 0===l?void 0:l.cropper.getCroppedCanvas().toDataURL(),"image.image.png"),t=new FormData;t.append("image",i),b(!0),e=await(0,E.V6)(t,"website"),e&&(b(!1),P.setFieldValue("image",e),y(!1))}})(),disabled:g,title:"".concat(o("Save"))})]});return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:o("Enter Title"),label:"Title",required:!0,name:"title",id:"title",value:P.values.title,onChange:P.handleChange,error:P.errors.title})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:o("Enter Description"),label:"Description",required:!0,name:"description",id:"description",value:P.values.description,onChange:P.handleChange,error:P.errors.description})}),(0,N.jsxs)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:[(0,N.jsx)("label",{htmlFor:"image",children:o("Image")}),(0,N.jsxs)("div",{className:"box-border border border-solid aspect-video border-border-primary rounded-xl relative flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsxs)("label",{htmlFor:"image",className:"relative flex flex-col h-full w-full items-center justify-center",children:[(0,N.jsx)("div",{className:"flex items-center justify-center overflow-hidden border border-solid w-full h-full cursor-pointer border-border-primary",children:(0,N.jsx)("img",{src:null!==(e=P.values)&&void 0!==e&&null!==(l=e.image)&&void 0!==l&&l.includes(E.sT)?null===(i=P.values)||void 0===i?void 0:i.image:E.sT+(null===(t=P.values)||void 0===t?void 0:t.image),alt:"service_image",className:"object-contain w-full h-full bg-black"})}),(0,N.jsx)("input",{type:"file",multiple:!0,className:"focus:bg-transparent absolute top-1/2 opacity-0",accept:"image/*",id:"image",name:"image",ref:S,onChange:e=>(e=>{let l;if(e.preventDefault(),e.dataTransfer?l=e.dataTransfer.files:e.target&&(l=e.target.files),l&&l.length>0){const e=l[0];if(e.type.startsWith("image/"))if(e.size>E.w3)w.oR.error("Image size must be less than 5MB");else{const l=new FileReader;l.onload=()=>{x(l.result),y(!0)},l.readAsDataURL(e)}else w.oR.error("Please select a valid image file")}S.current&&(S.current.value="")})(e)}),(0,N.jsx)("div",{className:"absolute bottom-0 p-2 text-2xl font-bold text-white rounded-full right-1 sm:right-2 bg-primary",children:(0,N.jsx)(R.i7,{})})]}),(null===(a=P.values)||void 0===a?void 0:a.image)&&(0,N.jsx)(r.A,{className:"absolute p-[6px] rounded-full cursor-pointer top-4 right-4 md:top-3 md:right-4 bg-error text-lg md:text-xl",type:"button",label:"",onClick:()=>k(),title:"".concat(o("Close")),children:(0,N.jsx)(R.YY,{className:"fill-white"})})]}),(0,N.jsx)("p",{className:"mt-2 error md:text-xs-15",children:P.errors.image})]})]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:o("Submit"),onClick:()=>P.handleSubmit(),title:"".concat(o("Submit"))})}),(0,N.jsx)(W.l,{className:"custom-dialog",header:"Crop Image",visible:j,style:{width:"50vw",borderRadius:"12px"},onHide:()=>y(!1),footer:()=>U(),children:h&&(0,N.jsx)(_.I,{ref:D,style:{height:400,width:"100%"},zoomTo:.5,preview:".img-preview",src:h,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,cropBoxResizable:!0})})]})};var pe;const me=(0,m.J1)(pe||(pe=(0,p.A)(["\nquery GetLearnAboutCoursesForWebsite {\n    getLearnAboutCoursesForWebsite {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        order\n        type\n        landing_page_points {\n          uuid\n          title\n          order\n          type\n        }   \n      }\n    }\n  }"])));var ge,be;const he=(0,m.J1)(ge||(ge=(0,p.A)(["\nmutation UpdateAboutCourseDetailsForWebsite($inputData: UpdateLandingPageAboutCourseDto!) {\n    updateAboutCourseDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),xe=(0,m.J1)(be||(be=(0,p.A)(["\n  mutation UpdateAboutCoursePointForWebsite($inputData: UpdateLandingPagePointsDto!) {\n    updateAboutCoursePointForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));const fe=function(){var e,l,i;const{t:t}=(0,d.Bd)(),{data:a,refetch:o}=(0,v.I)(me),[s]=(0,c.n)(he),[p]=(0,c.n)(xe),{aboutCourseValidationSchema:m}=(0,C.A)();(0,n.useEffect)((()=>{var e;if(null!==a&&void 0!==a&&null!==(e=a.getLearnAboutCoursesForWebsite)&&void 0!==e&&e.data){var l,i,t,n;const e=null===a||void 0===a||null===(l=a.getLearnAboutCoursesForWebsite)||void 0===l?void 0:l.data,o=null===a||void 0===a||null===(i=a.getLearnAboutCoursesForWebsite)||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.landing_page_points)||void 0===n?void 0:n.map((e=>({title:e.title,order:null===e||void 0===e?void 0:e.order,uuid:e.uuid})));g.resetForm({values:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,order:null===e||void 0===e?void 0:e.order,image:null===e||void 0===e?void 0:e.image,aboutCoursePoint:o}})}}),[null===a||void 0===a||null===(e=a.getLearnAboutCoursesForWebsite)||void 0===e?void 0:e.data]);const g=(0,f.Wx)({validationSchema:m,initialValues:{title:"",description:"",image:"",order:0,aboutCoursePoint:[{uuid:"",landing_page_id:"",title:"",order:0}]},onSubmit:async e=>{s({variables:{inputData:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,image:"",order:null===e||void 0===e?void 0:e.order}}}).then((e=>{var l,i;w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateAboutCourseDetailsForWebsite)||void 0===i?void 0:i.message),g.resetForm(),(async()=>{var e;const l=null===g||void 0===g||null===(e=g.values)||void 0===e?void 0:e.aboutCoursePoint.map((e=>{const l={uuid:null===e||void 0===e?void 0:e.uuid,title:null===e||void 0===e?void 0:e.title,order:null===e||void 0===e?void 0:e.order,landing_page_id:""};return p({variables:{inputData:l}})}));try{await Promise.all(l),g.resetForm(),o()}catch(n){var i,t,a;w.oR.error(null===n||void 0===n||null===(i=n.networkError)||void 0===i||null===(t=i.result)||void 0===t||null===(a=t.errors[0])||void 0===a?void 0:a.message)}})(),o()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}}),b=null===g||void 0===g||null===(l=g.errors)||void 0===l?void 0:l.aboutCoursePoint;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Title"),label:"Title",required:!0,name:"title",id:"title",value:g.values.title,onChange:g.handleChange,error:g.errors.title})}),(0,N.jsx)("div",{className:"w-full 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Description"),label:"Description",required:!0,name:"description",id:"description",value:g.values.description,onChange:g.handleChange,error:g.errors.description})}),null===g||void 0===g||null===(i=g.values)||void 0===i?void 0:i.aboutCoursePoint.map(((e,l)=>{var i,a,n,o;return(0,N.jsxs)("div",{className:"w-full",children:[(0,N.jsxs)("label",{className:"w-full",children:[t("Check Points")," ",l+1,(0,N.jsx)("span",{className:"error",children:" *"})]}),(0,N.jsx)("div",{className:"flex flex-wrap gap-x-5 gap-y-3.5",children:(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Check Points 1"),required:!0,name:"aboutCoursePoint[".concat(l,"].title"),value:null===e||void 0===e?void 0:e.title,onChange:null===g||void 0===g?void 0:g.handleChange,id:"title-".concat(l),error:null!==b&&void 0!==b&&null!==(i=b[l])&&void 0!==i&&i.title&&null!==(a=g.touched.aboutCoursePoint)&&void 0!==a&&null!==(n=a[l])&&void 0!==n&&n.title?null===b||void 0===b||null===(o=b[l])||void 0===o?void 0:o.title:""})})})]},"".concat(l+1))}))]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Submit"),onClick:()=>g.handleSubmit(),title:"".concat(t("Submit"))})})]})};var we,je,ye,Ce;const Ne=(0,m.J1)(we||(we=(0,p.A)(["\nmutation UpdateTestimonialDetailsForWebsite($inputData: UpdateLandingPageTestimonialDto!) {\n    updateTestimonialDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),Se=(0,m.J1)(je||(je=(0,p.A)(["\nmutation UpdateTestimonialPointForWebsite($inputData: UpdateLandingPageTestimonialPointDto!) {\n    updateTestimonialPointForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),De=(0,m.J1)(ye||(ye=(0,p.A)(["\nmutation AddTestimonialPointForWebsite($inputData: AddLandingPageTestimonialPointDto!) {\n  addTestimonialPointForWebsite(inputData: $inputData) {\n      message\n    }\n  }"]))),Fe=(0,m.J1)(Ce||(Ce=(0,p.A)(["\nmutation DeleteTestimonialPointForWebsite($deleteIds: [String!]!) {\n  deleteTestimonialPointForWebsite(delete_ids: $deleteIds) {\n    message\n  }\n}\n"])));var Ae;const _e=(0,m.J1)(Ae||(Ae=(0,p.A)(["\nquery GetTestimonialsForWebsite {\n    getTestimonialsForWebsite {\n      message\n      data {\n        title\n        uuid\n        order\n        landing_page_testimonials {\n          uuid\n          name\n          description\n          image\n          order\n          tag\n          type\n        }\n       \n      }\n    }\n  }"])));const We=function(){var e,l,i;const{t:t}=(0,d.Bd)(),{data:a,refetch:o}=(0,v.I)(_e),[s]=(0,c.n)(Ne),[p]=(0,c.n)(Se),[m]=(0,c.n)(De),[g]=(0,c.n)(Fe),[b,h]=(0,n.useState)(0),[x,j]=(0,n.useState)([]),[y,S]=(0,n.useState)(T),[D,F]=(0,n.useState)(!1),P=(0,n.useRef)(null),[k,U]=(0,n.useState)(!1),{testimonialValidationSchema:V}=(0,C.A)(),q=(0,n.createRef)(),$=(0,f.Wx)({validationSchema:V,initialValues:{title:"",description:"",image:"",order:0,landing_page_testimonials:[{uuid:"",name:"",description:"",image:"",order:0,tag:""}]},onSubmit:async e=>{s({variables:{inputData:{title:null===e||void 0===e?void 0:e.title,order:null===e||void 0===e?void 0:e.order}}}).then((async e=>{var l,i;await I(),w.oR.success(null===e||void 0===e||null===(l=e.data)||void 0===l||null===(i=l.updateTestimonialDetailsForWebsite)||void 0===i?void 0:i.message),$.resetForm(),o()})).catch((e=>{w.oR.error(e.networkError.result.errors[0].message)}))}});(0,n.useEffect)((()=>{if(null!==a&&void 0!==a&&a.getTestimonialsForWebsite){var e,l,i,t;const n=null===a||void 0===a||null===(e=a.getTestimonialsForWebsite)||void 0===e?void 0:e.data,o=null===a||void 0===a||null===(l=a.getTestimonialsForWebsite)||void 0===l||null===(i=l.data)||void 0===i||null===(t=i.landing_page_testimonials)||void 0===t?void 0:t.map((e=>({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,image:null===e||void 0===e?void 0:e.image,tag:null===e||void 0===e?void 0:e.tag,order:null===e||void 0===e?void 0:e.order,uuid:null===e||void 0===e?void 0:e.uuid})));$.resetForm({values:{title:null===n||void 0===n?void 0:n.title,order:null===n||void 0===n?void 0:n.order,landing_page_testimonials:o}})}}),[null===a||void 0===a?void 0:a.getTestimonialsForWebsite]);const I=async()=>{var e,l;const i=null===$||void 0===$||null===(e=$.values)||void 0===e||null===(l=e.landing_page_testimonials)||void 0===l?void 0:l.map((e=>{if(null!==e&&void 0!==e&&e.uuid){const l={uuid:null===e||void 0===e?void 0:e.uuid,name:null===e||void 0===e?void 0:e.name,tag:null===e||void 0===e?void 0:e.tag,order:null===e||void 0===e?void 0:e.order,image:null===e||void 0===e?void 0:e.image,description:null===e||void 0===e?void 0:e.description};return p({variables:{inputData:l}})}{const l={name:null===e||void 0===e?void 0:e.name,tag:null===e||void 0===e?void 0:e.tag,order:null===e||void 0===e?void 0:e.order,image:null===e||void 0===e?void 0:e.image,description:null===e||void 0===e?void 0:e.description};return m({variables:{inputData:l}})}}));i.push(g({variables:{deleteIds:x}}));try{await Promise.all(i),$.resetForm(),o()}catch(s){var t,a,n;w.oR.error(null===s||void 0===s||null===(t=s.networkError)||void 0===t||null===(a=t.result)||void 0===a||null===(n=a.errors[0])||void 0===n?void 0:n.message)}return!0},L=(0,n.useCallback)((async e=>{var l;const i=null===$||void 0===$||null===(l=$.values)||void 0===l?void 0:l.landing_page_testimonials;if(null!==i&&void 0!==i&&i[e]){const l={fileName:i[e].image};A.A.delete("".concat(E.hV,"/remove"),{data:l}).then((()=>{$.setFieldValue("landing_page_testimonials[".concat(e,"].image"),"")})).catch((e=>{var l,i;w.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.message)}))}}),[$]),B=()=>(0,N.jsxs)("div",{className:"flex justify-end gap-3 md:gap-5",children:[(0,N.jsx)(r.A,{className:"btn-secondary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Cancel",onClick:()=>F(!1),title:"".concat(t("Cancel"))}),(0,N.jsx)(r.A,{className:"btn-primary btn-normal w-full md:w-[160px] whitespace-nowrap",type:"button",label:"Save",onClick:()=>(async()=>{var e;if("undefined"!==typeof(null===(e=q.current)||void 0===e?void 0:e.cropper)){var l;let e=null;const i=(0,E.Si)(null===(l=q.current)||void 0===l?void 0:l.cropper.getCroppedCanvas().toDataURL(),"landing_page_testimonials[".concat(b,"].image.png")),t=new FormData;t.append("image",i),U(!0),e=await(0,E.V6)(t,"website"),e&&(U(!1),$.setFieldValue("landing_page_testimonials[".concat(b,"].image"),e),F(!1),h(0))}})(),disabled:k,title:"".concat(t("Save"))})]}),J=null===$||void 0===$||null===(e=$.errors)||void 0===e?void 0:e.landing_page_testimonials;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Title"),label:"Title",required:!0,id:"title",name:"title",value:$.values.title,onChange:$.handleChange,error:$.errors.title})}),(0,N.jsxs)("div",{className:"w-full my-4",children:[(0,N.jsx)("h4",{className:"w-full mb-5",children:t("Author Details")}),null===$||void 0===$||null===(l=$.values)||void 0===l||null===(i=l.landing_page_testimonials)||void 0===i?void 0:i.map(((e,l)=>{var i,a,n,o,s;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"w-full flex py-5 mt-auto justify-end",children:(0,N.jsx)(r.A,{className:"btn-error btn-normal whitespace-nowrap md:w-[120px]",type:"button",label:t("Delete"),onClick:()=>((e,l)=>{var i;const t=[...(null===$||void 0===$||null===(i=$.values)||void 0===i?void 0:i.landing_page_testimonials)||[]];t.splice(e,1),$.setFieldValue("landing_page_testimonials",t),null!==l&&void 0!==l&&l.uuid&&j([...x||[],null===l||void 0===l?void 0:l.uuid])})(l,e),title:"".concat(t("Delete"))})}),(0,N.jsxs)("div",{className:"flex flex-wrap gap-x-5 gap-y-3.5",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Name"),label:"Name",required:!0,name:"landing_page_testimonials[".concat(l,"].name"),id:"name-".concat(l),onChange:$.handleChange,value:e.name,error:null===J||void 0===J||null===(i=J[l])||void 0===i?void 0:i.name})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Description"),label:"Description",required:!0,name:"landing_page_testimonials[".concat(l,"].description"),id:"description-".concat(l),onChange:$.handleChange,value:e.description,error:null===J||void 0===J||null===(a=J[l])||void 0===a?void 0:a.description})}),(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Tag"),label:"Tag",required:!0,name:"landing_page_testimonials[".concat(l,"].tag"),id:"tag-".concat(l),onChange:$.handleChange,value:e.tag,error:null===J||void 0===J||null===(n=J[l])||void 0===n?void 0:n.tag})}),(0,N.jsxs)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:[(0,N.jsx)("label",{htmlFor:"image-".concat(l),children:t("Author Image")}),(0,N.jsxs)("div",{className:"box-border border border-solid aspect-video border-border-primary rounded-xl relative flex flex-col items-center justify-center overflow-hidden",children:[(0,N.jsxs)("label",{htmlFor:"image-".concat(l),className:"relative flex flex-col h-full w-full items-center justify-center",children:[(0,N.jsx)("div",{className:"flex items-center justify-center overflow-hidden border border-solid w-full h-full cursor-pointer border-border-primary",children:(0,N.jsx)("img",{src:null!==e&&void 0!==e&&null!==(o=e.image)&&void 0!==o&&o.includes(E.sT)?e.image:E.sT+e.image,alt:"service_image",className:"object-contain w-full h-full bg-black"})}),(0,N.jsx)("input",{type:"file",multiple:!0,className:"focus:bg-transparent absolute top-1/2 opacity-0",accept:"image/*",id:"image-".concat(l),name:"landing_page_testimonials[".concat(l,"].image"),ref:P,onChange:e=>((e,l)=>{let i;if(e.preventDefault(),h(l),e.dataTransfer?i=e.dataTransfer.files:e.target&&(i=e.target.files),i&&i.length>0){const e=i[0];if(e.type.startsWith("image/"))if(e.size>E.w3)w.oR.error("Image size must be less than 5MB");else{const l=new FileReader;l.onload=()=>{S(l.result),F(!0)},l.readAsDataURL(e)}else w.oR.error("Please select a valid image file")}P.current&&(P.current.value="")})(e,l)}),(0,N.jsx)("div",{className:"absolute bottom-0 p-2 text-2xl font-bold text-white rounded-full right-1 sm:right-2 bg-primary",children:(0,N.jsx)(R.i7,{})})]}),e.image&&(0,N.jsx)(r.A,{className:"absolute p-[6px] rounded-full cursor-pointer top-4 right-4 md:top-3 md:right-4 bg-error text-lg md:text-xl",type:"button",label:"",onClick:()=>L(l),children:(0,N.jsx)(R.YY,{className:"fill-white"})})]}),(0,N.jsx)("p",{className:"mt-2 error md:text-xs-15",children:t(null===J||void 0===J||null===(s=J[l])||void 0===s?void 0:s.image)})]})]},"".concat(l+1))]})}))]})]}),(0,N.jsxs)("div",{className:"flex py-5 mt-auto",children:[(0,N.jsx)(r.A,{className:"w-full btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Add More"),onClick:()=>function(){var e,l,i;$.setFieldValue("landing_page_testimonials",[...(null===$||void 0===$||null===(e=$.values)||void 0===e?void 0:e.landing_page_testimonials)||[],{uuid:"",name:"",description:"",image:"",order:(null===$||void 0===$||null===(l=$.values)||void 0===l||null===(i=l.landing_page_testimonials)||void 0===i?void 0:i.length)||1,tag:""}])}(),title:"".concat(t("Add More"))}),(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Submit"),onClick:()=>$.handleSubmit(),title:"".concat(t("Submit"))})]}),(0,N.jsx)(W.l,{className:"custom-dialog",header:"Crop Image",visible:D,style:{width:"50vw",borderRadius:"12px"},onHide:()=>F(!1),footer:()=>B(),children:y&&(0,N.jsx)(_.I,{ref:q,style:{height:400,width:"100%"},zoomTo:.5,aspectRatio:1,preview:".img-preview",src:y,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,guides:!0,cropBoxResizable:!1})})]})};var Te;const Re=(0,m.J1)(Te||(Te=(0,p.A)(["\nquery GetSubscriptionPlansForWebsite {\n    getSubscriptionPlansForWebsite {\n      message\n      data {\n        title\n        uuid\n        subscription_plans {\n          uuid\n          name\n          price\n          order\n          tag\n          type\n          subscription_plan_points {\n            uuid\n            title\n            description\n            order\n          }\n        }\n      }\n    }\n  }"])));var Pe;const ke=(0,m.J1)(Pe||(Pe=(0,p.A)(["\nmutation UpdateSubscriptionPlanDetailsForWebsite($inputData: UpdateLandingPageSubscriptionPlanDto!) {\n    updateSubscriptionPlanDetailsForWebsite(inputData: $inputData) {\n      message\n    }\n  }"])));const Ue=function(){var e,l,i,t;const{t:a}=(0,d.Bd)(),{data:o,refetch:s}=(0,v.I)(Re),[p]=(0,c.n)(ke),{planValidationSchema:m}=(0,C.A)(),g=(0,f.Wx)({validationSchema:m,initialValues:{uuid:"",title:"",subscription_plans:[{uuid:"",name:"",price:"",subscription_plan_points:[{title:"",uuid:""}]}]},onSubmit:async e=>{var l;const{title:i}=e,t=null===e||void 0===e||null===(l=e.subscription_plans)||void 0===l?void 0:l.map((l=>{var t,a;const{name:n,price:s,subscription_plan_points:r}=l,d=null===r||void 0===r?void 0:r.map((e=>({...e,uuid:null===e||void 0===e?void 0:e.uuid,title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description})));return p({variables:{inputData:{uuid:null===o||void 0===o||null===(t=o.getSubscriptionPlansForWebsite)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.uuid,title:i,subscription_plans:[{uuid:l.uuid,name:n,price:s,subscription_plan_points:d}],description:e.description}}})}));try{var a,n,r;const e=await Promise.all(t);w.oR.success(null===(a=e[0])||void 0===a||null===(n=a.data)||void 0===n||null===(r=n.updateSubscriptionPlanDetailsForWebsite)||void 0===r?void 0:r.message),g.resetForm(),s()}catch(v){var d,u,c;w.oR.error(null===v||void 0===v||null===(d=v.networkError)||void 0===d||null===(u=d.result)||void 0===u||null===(c=u.errors[0])||void 0===c?void 0:c.message)}}});(0,n.useEffect)((()=>{var e;if(null!==o&&void 0!==o&&null!==(e=o.getSubscriptionPlansForWebsite)&&void 0!==e&&e.data){var l,i,t,a,n;const e=null===o||void 0===o||null===(l=o.getSubscriptionPlansForWebsite)||void 0===l||null===(i=l.data)||void 0===i?void 0:i.title,s=null===o||void 0===o||null===(t=o.getSubscriptionPlansForWebsite)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.subscription_plans)||void 0===n?void 0:n.map((e=>{var l;const i=null===(l=e.subscription_plan_points)||void 0===l?void 0:l.map((e=>({title:e.title,uuid:e.uuid})));return{name:e.name,price:e.price,uuid:e.uuid,subscription_plan_points:i}}));g.resetForm({values:{title:e,subscription_plans:s}})}}),[null===o||void 0===o||null===(e=o.getSubscriptionPlansForWebsite)||void 0===e?void 0:e.data]);const b=null===g||void 0===g||null===(l=g.errors)||void 0===l?void 0:l.subscription_plans;return(0,N.jsxs)("div",{className:"flex flex-col h-full px-5 py-2",children:[(0,N.jsxs)("div",{className:"flex flex-wrap mb-5 gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:a("Enter Title"),label:"Title",required:!0,name:"title",id:"title",value:g.values.title,onChange:g.handleChange})}),(0,N.jsx)("div",{className:"w-full",children:(0,N.jsx)("div",{className:"my-5 ",children:null===g||void 0===g||null===(i=g.values)||void 0===i||null===(t=i.subscription_plans)||void 0===t?void 0:t.map(((e,l)=>{var i,t,n;return(0,N.jsxs)("div",{children:[(0,N.jsxs)("h4",{className:"w-full mb-4",children:[a("Plan")," ",l+1," :"]},"".concat(l+1)),(0,N.jsxs)("div",{className:"w-full grid grid-cols-2 gap-x-5 gap-y-3.5 ",children:[(0,N.jsx)("div",{className:"w-full ",children:(0,N.jsx)(u.A,{placeholder:a("Enter Plan"),label:"Plan",required:!0,name:"subscription_plans[".concat(l,"].name"),id:"name-".concat(l),onChange:g.handleChange,value:null===e||void 0===e?void 0:e.name,error:null===b||void 0===b||null===(i=b[l])||void 0===i?void 0:i.name})}),(0,N.jsx)("div",{className:"w-full ",children:(0,N.jsx)(u.A,{placeholder:a("Enter Price"),label:"Price",required:!0,name:"subscription_plans[".concat(l,"].price"),id:"price-".concat(l),onChange:g.handleChange,value:null===e||void 0===e?void 0:e.price,error:null===b||void 0===b||null===(t=b[l])||void 0===t?void 0:t.price})}),null===e||void 0===e||null===(n=e.subscription_plan_points)||void 0===n?void 0:n.map(((e,i)=>{var t,n,o;return(0,N.jsxs)("div",{className:"w-full mt-3",children:[(0,N.jsxs)("label",{className:"w-full",children:[a("Key Points")," ",i+1," ",(0,N.jsx)("span",{className:"error",children:" *"})]}),(0,N.jsx)("div",{className:"flex flex-wrap gap-x-5 gap-y-3.5",children:(0,N.jsx)("div",{className:"w-full ",children:(0,N.jsx)(u.A,{placeholder:a("Enter Key Points"),required:!0,name:"subscription_plans[".concat(l,"]subscription_plan_points[").concat(i,"]title"),id:"title-[".concat(i,"]"),onChange:g.handleChange,value:null===e||void 0===e?void 0:e.title,error:null===b||void 0===b||null===(t=b[l])||void 0===t||null===(n=t.subscription_plan_points)||void 0===n||null===(o=n[i])||void 0===o?void 0:o.title})})})]},"".concat(l+1))}))]})]},"serviceData-".concat(l+1))}))})})]}),(0,N.jsx)("div",{className:"flex py-5 mt-auto",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:a("Submit"),onClick:()=>g.handleSubmit(),title:"".concat(a("Submit"))})})]})};var Ee;const Ve=(0,m.J1)(Ee||(Ee=(0,p.A)(["\nquery GetTags {\n    getTags {\n      message\n      data {\n        uuid\n        title\n        description\n        image\n        type\n      }\n    }\n  }"])));var qe;const $e=(0,m.J1)(qe||(qe=(0,p.A)(["\nmutation UpdateTag($tagData: UpdateTagsDto!) {\n    updateTag(tagData: $tagData) {\n      message\n    }\n  }"])));const Ie=function(){var e,l,i;const{t:t}=(0,d.Bd)(),{data:a,refetch:o}=(0,v.I)(Ve),[s]=(0,c.n)($e),{tagValidationSchema:p}=(0,C.A)();(0,n.useEffect)((()=>{var e,l;if((null===a||void 0===a||null===(e=a.getTags)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.length)>0){var i;const e=null===a||void 0===a||null===(i=a.getTags)||void 0===i?void 0:i.data.map((e=>{let{__typename:l,...i}=e;return i}));m.setFieldValue("type",e)}}),[a]);const m=(0,f.Wx)({validationSchema:p,initialValues:{type:[{title:"",description:"",type:"",uuid:"",image:""}]},onSubmit:async e=>{const l=e.type.map((e=>(e.image="null",s({variables:{tagData:{updateTags:e}}}))));try{var i,t,a;const e=await Promise.all(l);w.oR.success(null===(i=e[0])||void 0===i||null===(t=i.data)||void 0===t||null===(a=t.updateTag)||void 0===a?void 0:a.message),o()}catch(u){var n,r,d;w.oR.error(null===u||void 0===u||null===(n=u.networkError)||void 0===n||null===(r=n.result)||void 0===r||null===(d=r.errors[0])||void 0===d?void 0:d.message)}}}),g=null===m||void 0===m||null===(e=m.errors)||void 0===e?void 0:e.type;return(0,N.jsxs)("div",{className:"px-5 pt-2 pb-5",children:[null===m||void 0===m||null===(l=m.values)||void 0===l||null===(i=l.type)||void 0===i?void 0:i.map(((e,l)=>{var i,a,n,o,s,r,d,c,v,p,b,h;return(0,N.jsxs)("div",{className:"mb-5",children:[(0,N.jsxs)("h4",{className:"mb-5",children:[t("Tag ".concat(l+1)),":"]}),(0,N.jsxs)("div",{className:"flex flex-wrap gap-x-5 gap-y-3",children:[(0,N.jsx)("div",{className:"w-full 2lg:w-[calc(50%-10px)] 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Title"),label:"Title",required:!0,name:"type[".concat(l,"].title"),id:"title-".concat(l),onChange:m.handleChange,value:e.title,error:null!==g&&void 0!==g&&null!==(i=g[l])&&void 0!==i&&i.title&&null!==(a=m.touched.type)&&void 0!==a&&null!==(n=a[l])&&void 0!==n&&n.title?null===g||void 0===g||null===(o=g[l])||void 0===o?void 0:o.title:""})}),(0,N.jsx)("div",{className:"w-full 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Description"),label:"Description",required:!0,name:"type[".concat(l,"].description"),id:"description-".concat(l),onChange:m.handleChange,value:e.description,error:null!==g&&void 0!==g&&null!==(s=g[l])&&void 0!==s&&s.description&&null!==(r=m.touched.type)&&void 0!==r&&null!==(d=r[l])&&void 0!==d&&d.description?null===g||void 0===g||null===(c=g[l])||void 0===c?void 0:c.description:""})}),(0,N.jsx)("div",{className:"w-full 2xl:w-[calc(33.3%-13px)]",children:(0,N.jsx)(u.A,{placeholder:t("Enter Type"),label:"Type",required:!0,name:"type[".concat(l,"].type"),id:"type-".concat(l),onChange:m.handleChange,value:e.type,error:null!==g&&void 0!==g&&null!==(v=g[l])&&void 0!==v&&v.type&&null!==(p=m.touched.type)&&void 0!==p&&null!==(b=p[l])&&void 0!==b&&b.type?null===g||void 0===g||null===(h=g[l])||void 0===h?void 0:h.type:""})})]})]},null===e||void 0===e?void 0:e.uuid)})),(0,N.jsx)("div",{className:"flex",children:(0,N.jsx)(r.A,{className:"w-full ml-auto btn btn-primary whitespace-nowrap md:w-[140px]",type:"button",label:t("Submit"),onClick:()=>m.handleSubmit(),title:"".concat(t("Submit"))})})]})},Le=()=>{const e=[{label:"Title & Sub-Title",content:(0,N.jsx)(D,{}),id:1},{label:"Services",content:(0,N.jsx)(V,{}),id:2},{label:"About Us",content:(0,N.jsx)(z,{}),id:3},{label:"Our Client",content:(0,N.jsx)(O,{}),id:4},{label:"Waste Collection",content:(0,N.jsx)(ie,{}),id:5},{label:"Company Rating",content:(0,N.jsx)(se,{}),id:6},{label:"Why Choose Us",content:(0,N.jsx)(ve,{}),id:7},{label:"About Course",content:(0,N.jsx)(fe,{}),id:8},{label:"Testimonials",content:(0,N.jsx)(We,{}),id:9},{label:"Subscription Plan",content:(0,N.jsx)(Ue,{}),id:10},{label:"Tag",content:(0,N.jsx)(Ie,{}),id:11}];return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{}),(0,N.jsx)("div",{className:"mb-5 [&>.tab]:h-full [&_.tab-item]:w-auto [&_.active]:h-full md:h-[calc(100%-155px)] h-[calc(100%-118px)] [&_.tab-content]:overflow-auto [&_.tab-list]:whitespace-nowrap [&_.tab-list]:pb-2 [&_.tab-item]:px-4 [&_.tab-list]:overflow-auto [&_.tab-content]:h-[calc(100%-70px)]",children:(0,N.jsx)(s.A,{tabs:e,containerMinimize:!1})})]})}},25263:(e,l,i)=>{e.exports=i.p+"static/media/sidebar-logo.d6fce7850bbfb0f38fbe.png"}}]);
//# sourceMappingURL=608.7f676e8c.chunk.js.map
"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[8933],{12440:(e,n,a)=>{a.d(n,{A:()=>i});var t=a(65043),s=a(3248),l=(a(40471),a(70579));const r=e=>{let{onChange:n,value:a=""}=e;const r=(0,t.useCallback)((e=>{n(e)}),[]);return(0,l.jsx)("div",{className:"App",children:(0,l.jsx)(s.A,{onChange:r,config:{readonly:!1,autofocus:!1,tabIndex:1,askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_clear_html",placeholder:"Write something awesome ...",beautyHTML:!0,toolbarButtonSize:"large",uploader:{insertImageAsBase64URI:!0},height:596},defaultValue:a})})},i=t.memo(r)},36238:(e,n,a)=>{a.d(n,{A:()=>r});var t=a(65043),s=a(74117),l=a(70579);const r=e=>{let{errors:n,touched:a,setFieldTouched:r,children:i}=e;return((e,n,a)=>{const{i18n:l}=(0,s.Bd)();(0,t.useEffect)((()=>(l.on("languageChanged",(()=>{Object.keys(e).forEach((e=>{Object.keys(n).includes(e)&&a(e)}))})),()=>{l.off("languageChanged",(()=>{}))})),[e])})(n,a,r),(0,l.jsx)(l.Fragment,{children:i})}},77941:(e,n,a)=>{a.d(n,{Z:()=>i,i:()=>d});var t,s,l=a(57528),r=a(70459);const i=(0,r.J1)(t||(t=(0,l.A)(["\nmutation CreateAnnouncement($title: String, $description: String, $announcementType: String, $emailAttachment: String, $pushImage: String, $platform: String, $userType: String, $userFilter: String, $userToExclude: [Int], $onlySendTo: [Int], $startDate: Date, $endDate: Date) {\n  createAnnouncement(title: $title, description: $description, announcement_type: $announcementType, email_attachment: $emailAttachment, push_image: $pushImage, platform: $platform, userType: $userType, userFilter: $userFilter, userToExclude: $userToExclude, onlySendTo: $onlySendTo, start_date: $startDate, end_date: $endDate) {\n    data {\n      id\n      uuid\n      user_id\n      title\n      description\n      announcement_type\n      email_attachment\n      push_image\n      platform\n      userType\n      userFilter\n      userToExclude\n      onlySendTo\n      start_date\n      end_date\n      status\n      created_at\n      updated_at\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}"]))),d=(0,r.J1)(s||(s=(0,l.A)(["\n  mutation UpdateReadAnnouncementsForUser {\n    updateReadAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))},80909:(e,n,a)=>{a.d(n,{NV:()=>m,bg:()=>u,tT:()=>h});var t,s,l,r,i,d,o=a(57528),c=a(70459);(0,c.J1)(t||(t=(0,o.A)(["\n  query FetchAnnouncementsWithFilters($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $title: String, $startDate: String, $endDate: String, $announcementType: String, $platform: String, $status: Int) {\n    fetchAnnouncementsWithFilters(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, title: $title, start_date: $startDate, end_date: $endDate, announcement_type: $announcementType, platform: $platform, status: $status) {\n      data {\n        announcementData {\n          id\n          uuid\n          user_id\n          title\n          description\n          announcement_type\n          email_attachment\n          push_image\n          platform\n          userType\n          userFilter\n          userToExclude\n          onlySendTo\n          start_date\n          end_date\n          status\n          created_at\n          updated_at\n        }\n        count\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }"])));const m=(0,c.J1)(s||(s=(0,o.A)(["\nquery GetUsersWithPagination($page: Int, $limit: Int, $sortBy: String, $sortOrder: String, $firstName: String, $lastName: String, $email: String, $status: Int, $gender: Int, $phoneNo: String) {\n  getUsersWithPagination(page: $page, limit: $limit, sortBy: $sortBy, sortOrder: $sortOrder, first_name: $firstName, last_name: $lastName, email: $email, status: $status, gender: $gender, phone_no: $phoneNo) {\n    data {\n      userList {\n        id\n        uuid\n        first_name\n        middle_name\n        last_name\n        user_name\n        email\n        gender\n        date_of_birth\n        phone_no\n        phone_country_id\n        role\n        profile_img\n        device_type\n        status\n        user_role_id\n        created_at\n        updated_at\n      }\n      count\n    }\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}\n"]))),u=((0,c.J1)(l||(l=(0,o.A)(["\n  query GetAnnouncementHistoryForUser($sortOrder: String!, $sortField: String!, $limit: Float!, $page: Float!, $search: String!) {\n    getAnnouncementHistoryForUser(sortOrder: $sortOrder, sortField: $sortField, limit: $limit, page: $page, search: $search) {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"]))),(0,c.J1)(r||(r=(0,o.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n          createdAt\n        }\n        count\n      }\n    }\n  }\n"])))),h=(0,c.J1)(i||(i=(0,o.A)(["\n  query GetAnnouncementById($announcementId: String!) {\n    getAnnouncementById(announcementId: $announcementId) {\n      message\n      data {\n        title\n        uuid\n        description\n        createdAt\n      }\n    }\n  }\n"])));(0,c.J1)(d||(d=(0,o.A)(["\n  query GetAnnouncementsForUser {\n    getAnnouncementsForUser {\n      message\n      data {\n        announcements {\n          uuid\n          title\n          description\n        }\n        count\n      }\n    }\n  }\n"])))},28933:(e,n,a)=>{a.r(n),a.d(n,{default:()=>_});var t=a(65043),s=a(64526),l=a(74117),r=a(73216),i=(a(87151),a(74864),a(98139)),d=a.n(i),o=a(42145),c=a(33556),m=a(65886),u=a(41290),h=a(34764),p=a(12440),x=a(91188),g=a(77654),v=a(32254),j=a(36238),b=a(77941),f=a(80909),N=a(12352),y=a(30469),A=a(66925),S=a(63516),T=a(88250),$=a(31881),C=a(70579);const _=()=>{var e,n,a,i,_,F,k;const{t:w}=(0,l.Bd)(),{data:I,refetch:D}=(0,T.I)(f.NV),[E]=(0,$.n)(b.Z),[U,O]=(0,t.useState)("all"),[B,P]=(0,t.useState)("all"),[W,R]=(0,t.useState)("all"),[L,J]=(0,t.useState)(""),[q,V]=(0,t.useState)({}),[G,H]=(0,t.useState)([]),[M,Z]=(0,t.useState)([]),[X,Y]=(0,t.useState)(!0),{addAnnouncementValidationSchema:z}=(0,N.A)(),K=(0,r.Zp)(),Q=(0,r.g)(),[ee,ne]=(0,t.useState)(""),[ae,te]=(0,t.useState)({limit:10,page:1,sortBy:"",sortOrder:""}),se=[{name:"Sr.No",sortable:!1},{name:w("First Name"),sortable:!0,fieldName:"first_name"},{name:w("Email"),sortable:!0,fieldName:"email"},{name:w("Device Type"),sortable:!0,fieldName:"device_type"},{name:w("Role"),sortable:!0,fieldName:"role"},{name:w("Registration At"),sortable:!0,fieldName:"created_at"}],[le,re]=(0,t.useState)(ae.limit),ie=(null===q||void 0===q?void 0:q.count)||0,de=Math.ceil(ie/le),oe=(0,t.useCallback)((e=>{const n={...ae,page:e};te(n),v.A.saveState("filterAddAnnouncement",JSON.stringify(n))}),[]);(0,t.useEffect)((()=>{const e=v.A.getState("filterAddAnnouncement",JSON.stringify(ae));if(e){const n=JSON.parse(e);te(n)}}),[]),(0,t.useEffect)((()=>{var e;null!==I&&void 0!==I&&I.getUsersWithPagination&&V(null===I||void 0===I||null===(e=I.getUsersWithPagination)||void 0===e?void 0:e.data)}),[null===I||void 0===I?void 0:I.getUsersWithPagination]);const ce=(0,S.Wx)({initialValues:{title:"",announcementType:"0",status:"",description:"",pushImage:"",platform:"",userType:"",userFilter:"",startDate:"",endDate:"",userToExclude:[],onlySendTo:[]},validationSchema:z,onSubmit:async e=>{let n=ce.values.pushImage;"string"!==typeof e.pushImage&&e.pushImage&&(n=await(0,m.A)(null===e||void 0===e?void 0:e.pushImage));let a="";a="1"===ce.values.announcementType?"push":"2"===ce.values.announcementType?"sms":"email",E({variables:{title:null===e||void 0===e?void 0:e.title,announcementType:a,description:null===e||void 0===e?void 0:e.description,pushImage:n,platform:U,userType:B,userFilter:W,startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate,userToExclude:G,onlySendTo:M}}).then((e=>{const n=e.data;201===n.createAnnouncement.meta.statusCode?(s.oR.success(n.createAnnouncement.meta.message),ce.resetForm(),me()):s.oR.error(n.createAnnouncement.meta.message)})).catch((()=>{s.oR.error(w("Failed to create"))}))}}),me=(0,t.useCallback)((()=>{K("/".concat(o.bw.app,"/").concat(o.bw.announcement,"/list"))}),[]),ue=e=>{const n=e.target;"0"===n.value&&O("all"),"1"===n.value&&O("android"),"2"===n.value&&O("ios"),"3"===n.value&&O("web")},he=e=>{const n=e.target;"0"===n.value&&P("all"),"1"===n.value&&P("customer"),"2"===n.value&&P("admin"),"3"===n.value&&P("subAdmin")},pe=e=>{const n=e.target;"0"===n.value&&R("all"),"1"===n.value&&R("userToExclude"),"2"===n.value&&R("onlySendTo")};(0,t.useEffect)((()=>{ae&&D(ae).catch((e=>{s.oR.error(e)}))}),[ae]);const xe=e=>{var n;return null===(n=o.IA.filter((n=>parseInt(n.key)===e))[0])||void 0===n?void 0:n.name},ge=e=>{if(Y(!0),G.includes(e.id)){const n=G.filter((n=>n!==e.id));H(n)}else H((n=>[...n,e.id]))},ve=e=>{if(Y(!0),M.includes(e.id)){const n=M.filter((n=>n!==e.id));Z(n)}else Z((n=>[...n,e.id]))},je=(0,t.useCallback)((e=>{var n;const a=null===(n=e.target.files)||void 0===n?void 0:n[0];a&&(ce.setFieldValue("pushImage",a),ne(URL.createObjectURL(a)))}),[]),[be,fe]=(0,t.useState)(""),Ne=(0,t.useCallback)((()=>{ne(""),fe(""),ce.setFieldValue("pushImage.name","");const e=document.getElementById("image");e&&(e.value="")}),[ne,fe]),[ye,Ae]=(0,t.useState)([]),Se=null===I||void 0===I||null===(e=I.getUsersWithPagination)||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.userList)||void 0===a?void 0:a.filter((e=>{var n;return null===(n=e.first_name)||void 0===n?void 0:n.toLowerCase().includes(null===L||void 0===L?void 0:L.toLowerCase())})),Te=(0,t.useCallback)((()=>{var e,n,a;const t=null===I||void 0===I||null===(e=I.getUsersWithPagination)||void 0===e||null===(n=e.data)||void 0===n||null===(a=n.userList)||void 0===a?void 0:a.filter((e=>{var n;return null===(n=e.first_name)||void 0===n?void 0:n.toLowerCase().includes(null===L||void 0===L?void 0:L.toLowerCase())}));Ae(t)}),[Ae]),$e=(0,t.useCallback)((()=>{J(""),Ae([])}),[J,Ae]);(0,t.useEffect)((()=>{G.length===(null===Se||void 0===Se?void 0:Se.length)&&Y(!1)}),[G]),(0,t.useEffect)((()=>{M.length===(null===Se||void 0===Se?void 0:Se.length)&&Y(!1)}),[M]);const Ce=(0,t.useCallback)((e=>{ce.setFieldValue(e.target.name,(0,A.AW)(e))}),[]),_e=(0,t.useCallback)((e=>{ce.setFieldValue("description",e)}),[]);(0,t.useEffect)((()=>{re(ae.limit)}),[ae.limit]);const Fe=(0,t.useCallback)((e=>{J(e.target.value)}),[]);return(0,C.jsx)("div",{className:"w-full mb-4",children:(0,C.jsx)(j.A,{errors:ce.errors,touched:ce.touched,setFieldTouched:ce.setFieldTouched,children:(0,C.jsxs)("form",{className:"bg-white shadow-md rounded  pt-6  border border-[#c8ced3]",onSubmit:ce.handleSubmit,children:[(0,C.jsx)("div",{className:"flex justify-end pr-8 pb-2",children:(0,C.jsxs)("p",{children:[w("Fields marked with")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})," ",w("are mandatory.")]})}),(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 l:grid-cols-4 gap-6 px-8",children:[(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(h.A,{placeholder:w("Title"),name:"title",onChange:ce.handleChange,onBlur:Ce,label:w("Title"),value:ce.values.title,error:ce.errors.title&&ce.touched.title&&ce.errors.title,required:!0})}),(0,C.jsx)("div",{children:(0,C.jsx)(x.A,{id:"announcementType",required:!0,checked:ce.values.announcementType,onChange:ce.handleChange,name:"announcementType",radioOptions:[{name:w("Email"),key:0},{name:w("Push"),key:1},{name:w("SMS"),key:2}],label:w("Type"),error:ce.touched.announcementType&&ce.errors.announcementType||""})})]}),(0,C.jsx)("div",{className:"mb-4 px-8",children:"0"===ce.values.announcementType?(0,C.jsxs)("div",{children:[(0,C.jsxs)("p",{className:"font-normal text-sm text-gray-700 mb-3",children:[w("Description")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsx)(p.A,{value:ce.values.description,onChange:_e}),ce.errors.description&&ce.touched.description&&(0,C.jsx)("p",{className:"error",children:w(ce.errors.description)})]}):(0,C.jsx)(h.A,{placeholder:w("Description"),name:"description",onChange:ce.handleChange,onBlur:Ce,label:w("Description"),value:ce.values.description,error:ce.errors.description&&ce.touched.description&&ce.errors.description,required:!0})}),"0"===ce.values.announcementType&&(0,C.jsx)("p",{className:"font-normal text-sm px-8 mb-3",children:w("Email Attachment")}),"1"===ce.values.announcementType&&(0,C.jsx)("p",{className:"font-normal text-sm px-8 mb-3",children:w("Push Image")}),"2"!==ce.values.announcementType&&(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"flex justify-start px-8 mb-4",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{htmlFor:"image",className:"after:content-['Browse'] after:text-black-500  after:bg-slate-200 block text-sm font-normal md:p-2 border border-solid h-9 w-full relative after:top-[3px] after:right-0 rounded-sm after:bottom-0 mr-28 after:absolute after:ml-2  after:border after:h-9 after:-translate-y-1 after:inline-flex after:items-center after:md:p-2 ",children:w("Choose file")}),(0,C.jsx)(h.A,{type:"file",id:"image",name:"image",value:(0,A.Tx)(be),placeholder:"",onChange:je,hidden:!0})]}),(0,C.jsx)("div",{className:" px-8 ",children:(0,C.jsx)(u.A,{className:"btn-pink btn-normal",onClick:Ne,label:w("Reset"),title:"".concat(w("Reset"))})}),!ce.touched.pushImage&&(0,C.jsxs)("div",{className:"flex items-center text-center ".concat(ce.touched.pushImage?"px-8":""),children:[" ",!be&&"0"===ce.values.announcementType&&ce.values.pushImage.name," "]})]}),"1"===ce.values.announcementType&&ee&&(0,C.jsx)(C.Fragment,{children:ce.errors.pushImage?null:(0,C.jsx)("div",{className:"flex items-center justify-center h-[150px] w-[200px] mb-2 ",children:(0,C.jsx)("img",{src:ee,alt:"Image Preview",className:"object-fill  w-full aspect-auto rounded-md"})})})]}),(0,C.jsxs)("div",{className:"mx-8 w-full md:w-auto bg-white  rounded-sm mb-5 border border-[#c8ced3]",children:[(0,C.jsx)("div",{className:"bg-[#f0f3f5] py-3 px-5 flex items-center justify-between border-b border-[#c8ced3]",children:(0,C.jsx)("div",{className:"flex items-center",children:(0,C.jsx)("span",{className:"text-sm font-normal",children:w("Filter")})})}),(0,C.jsxs)("div",{className:"w-full grid grid-cols-1 lg:grid-cols-2  gap-6 p-5 ",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("label",{className:"font-normal",children:[w("Platform")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)("div",{className:"radio-btn-group flex mr-6 mt-4 ",children:[(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"all",value:"0",defaultChecked:!0,name:"platFormStatus",onChange:ue}),(0,C.jsx)("span",{className:"ml-2",children:w("All")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"android",value:"1",name:"platFormStatus",onChange:ue}),(0,C.jsx)("span",{className:"ml-2",children:w("Android")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"ios",value:"2",name:"platFormStatus",onChange:ue}),(0,C.jsx)("span",{className:"ml-2",children:w("IOS")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"web",value:"3",name:"platFormStatus",onChange:ue}),(0,C.jsx)("span",{className:"ml-2",children:w("WEB")})]})})})})]})]}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"mb-4",children:[(0,C.jsxs)("label",{className:"font-normal",children:[w("User Type")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)("div",{className:"flex items-center mr-6 mt-4 ",children:[(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"all",value:"0",defaultChecked:!0,name:"userType",onChange:he}),(0,C.jsx)("span",{className:"ml-2",children:w("All")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"customer",value:"1",name:"userType",onChange:he}),(0,C.jsx)("span",{className:"ml-2",children:w("Customer")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"admin",value:"2",name:"userType",onChange:he}),(0,C.jsx)("span",{className:"ml-2",children:w("Admin")})]})})})}),(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"subAdmin",value:"3",name:"userType",onChange:he}),(0,C.jsx)("span",{className:"ml-2",children:w("SubAdmin")})]})})})})]})]})}),(0,C.jsxs)("div",{children:[(0,C.jsxs)("label",{className:"font-normal",children:[w("Advanced Filters")," ",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)("div",{className:"flex flex-wrap ",children:[(0,C.jsx)("div",{className:"flex items-center mr-6 mt-4 ",children:(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"userToExclude",value:"1",name:"advanceFilter",onChange:pe}),(0,C.jsx)("span",{className:"ml-2",children:w("User To Exclude")})]})})})})}),(0,C.jsx)("div",{className:"flex items-center mr-4 mt-4",children:(0,C.jsx)("div",{className:"radio-btn",children:(0,C.jsx)("div",{className:d()(y.A["form-group"]),children:(0,C.jsx)("div",{className:d()(y.A["radio-btn-group"]),children:(0,C.jsxs)("label",{className:d()(y.A["radio-btn"]),children:[(0,C.jsx)("input",{type:"radio",id:"onlySendTo",value:"2",name:"advanceFilter",onChange:pe}),(0,C.jsx)("span",{className:"ml-2",children:w("Only Send To")})]})})})})})]})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{className:"font-normal",children:w("Registered Between")}),(0,C.jsx)("div",{className:"mb-4 mt-3",children:(0,C.jsx)(h.A,{placeholder:w("Start Date"),type:"date",name:"startDate",onChange:ce.handleChange,label:w("Start Date"),value:ce.values.startDate})}),(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(h.A,{placeholder:w("End Date"),type:"date",name:"endDate",onChange:ce.handleChange,label:w("End Date"),value:ce.values.endDate})})]})]}),"userToExclude"===W||"onlySendTo"===W?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 l:grid-cols-4 gap-6 p-5 ",children:[(0,C.jsx)(h.A,{type:"text",id:"table-search",value:L,placeholder:w("Search..."),onChange:Fe}),(0,C.jsxs)("div",{className:"btn-group  ",children:[(0,C.jsx)(u.A,{className:"btn-primary",type:"button",label:w("Search"),onClick:Te,title:"".concat(w("Search")),children:(0,C.jsx)(c.vj,{className:"mr-1"})}),(0,C.jsx)(u.A,{className:"btn-warning btn-normal",label:w("Reset"),onClick:$e,title:"".concat(w("Refresh")),children:(0,C.jsx)(c.C4,{className:"mr-1"})})]})]}),"userToExclude"===W?(0,C.jsxs)("p",{className:"mb-8 mt-4 px-5",children:[(0,C.jsx)("span",{className:"text-red-500",children:" *"})," ",w("notification will be sent to users excepted selected")]}):(0,C.jsxs)("p",{className:"mb-8 mt-4 px-5",children:[(0,C.jsx)("span",{className:"text-red-500",children:" *"})," ",w("notification will be sent to selected users only")]}),(0,C.jsx)("div",{className:"flex items-center justify-between pb-2",children:(0,C.jsxs)("div",{className:"p-3 flex items-center justify-start mb-3",children:[(0,C.jsx)("span",{className:" text-sm text-gray-900 font-normal ",children:w("Show")}),(0,C.jsx)("select",{className:"border border-[#e4e7ea] rounded px-3 text-sm py-1.5 text-gray-500 mx-1 w-[75px] bg-white",onChange:e=>(e=>{re(Number(e));const n={...ae,limit:parseInt(e),page:1};te(n),v.A.saveState("filterAddAnnouncement",JSON.stringify(n))})(e.target.value),value:ae.limit,children:null===o.aj||void 0===o.aj?void 0:o.aj.map(((e,n)=>(0,C.jsx)("option",{children:e},"".concat(n+1))))}),(0,C.jsx)("span",{className:" text-sm text-gray-900 font-normal",children:w("entries")})]})}),(0,C.jsx)("div",{className:"p-3 overflow-auto custom-dataTable ",children:(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsxs)("th",{scope:"col",className:"text-center",children:["userToExclude"===W&&(0,C.jsx)("input",{type:"checkbox",checked:!X,onChange:()=>{var e,n;Y((e=>!e)),null===I||void 0===I||null===(e=I.getUsersWithPagination)||void 0===e||null===(n=e.data)||void 0===n||n.userList.map((e=>{H((n=>[...n,null===e||void 0===e?void 0:e.id]))})),X||H([])}}),"onlySendTo"===W&&(0,C.jsx)("input",{type:"checkbox",checked:!X,onChange:()=>{var e,n;Y((e=>!e)),null===I||void 0===I||null===(e=I.getUsersWithPagination)||void 0===e||null===(n=e.data)||void 0===n||n.userList.map((e=>{Z((n=>[...n,null===e||void 0===e?void 0:e.id]))})),X||Z([])}})]}),null===se||void 0===se?void 0:se.map((e=>(0,C.jsx)("th",{scope:"col",children:(0,C.jsxs)("div",{className:"flex items-center",children:[e.name,e.sortable&&(0,C.jsxs)("a",{onClick:()=>{return n=e.fieldName,void te({...ae,sortBy:n,sortOrder:"asc"===ae.sortOrder?"desc":"asc"});var n},children:[(""===ae.sortOrder||ae.sortBy!==e.fieldName)&&(0,C.jsx)(c.xs,{}),"asc"===ae.sortOrder&&ae.sortBy===e.fieldName&&(0,C.jsx)(c.Re,{}),"desc"===ae.sortOrder&&ae.sortBy===e.fieldName&&(0,C.jsx)(c.nG,{})]})]})},e.fieldName)))]})}),(0,C.jsx)("tbody",{children:(null===ye||void 0===ye?void 0:ye.length)>0?ye.map(((e,n)=>(0,C.jsxs)("tr",{children:["userToExclude"===W?(0,C.jsxs)("td",{className:"text-center",children:[(0,C.jsx)("input",{type:"checkbox",checked:!!G.includes(e.id),onClick:()=>ge(e)})," "]}):"","onlySendTo"===W?(0,C.jsxs)("td",{className:"text-center",children:[(0,C.jsx)("input",{type:"checkbox",checked:!!M.includes(e.id),onClick:()=>ve(e)})," "]}):"",(0,C.jsx)("td",{className:"text-center",children:n+1}),(0,C.jsx)("td",{children:e.first_name+" "+e.last_name}),(0,C.jsx)("td",{children:e.email}),null!==e.device_type?(0,C.jsx)("td",{children:e.device_type}):(0,C.jsx)("td",{children:" none"}),(0,C.jsx)("td",{children:xe(e.role)}),(0,C.jsx)("td",{children:"".concat((0,A.eW)(e.created_at,o.DX.momentDateTime24Format)," ")})]},e.id))):null===I||void 0===I||null===(i=I.getUsersWithPagination)||void 0===i||null===(_=i.data)||void 0===_||null===(F=_.userList)||void 0===F?void 0:F.map(((e,n)=>(0,C.jsxs)("tr",{children:["userToExclude"===W?(0,C.jsxs)("td",{className:"text-center",children:[(0,C.jsx)("input",{type:"checkbox",checked:!!G.includes(e.id),onClick:()=>ge(e)})," "]}):"","onlySendTo"===W?(0,C.jsxs)("td",{className:"text-center",children:[(0,C.jsx)("input",{type:"checkbox",checked:!!M.includes(e.id),onClick:()=>ve(e)})," "]}):"",(0,C.jsx)("td",{className:" text-center",children:n+1}),(0,C.jsx)("td",{children:e.first_name+" "+e.last_name}),(0,C.jsx)("td",{children:e.email}),null!==e.device_type?(0,C.jsx)("td",{children:e.device_type}):(0,C.jsx)("td",{children:" none"}),(0,C.jsx)("td",{children:xe(e.role)}),(0,C.jsx)("td",{children:"".concat((0,A.eW)(e.created_at,o.DX.momentDateTime24Format)," ")})]},e.id)))})]})}),(0,C.jsxs)("div",{className:"p-3 flex items-center justify-between mt-8",children:[(0,C.jsxs)("span",{className:"text-slate-400 text-xs",children:[null!==I&&void 0!==I&&null!==(k=I.getUsersWithPagination)&&void 0!==k&&k.data?"".concat(null===q||void 0===q?void 0:q.count):0,(0,C.jsx)("span",{className:"ml-1",children:w("Total Records")})]}),(0,C.jsx)(g.A,{currentPage:ae.page,totalPages:de,onPageChange:oe,recordsPerPage:le})]})]}):""]}),(0,C.jsx)("div",{className:"flex  bg-[#f0f3f5] py-2 px-7 border border-[#c8ced3]",children:(0,C.jsxs)("div",{className:"btn-group",children:[(0,C.jsx)(u.A,{type:"submit",className:"btn-primary btn-normal",label:Q.id?w("Update"):w("Save"),title:"".concat(Q.id?w("Update"):w("Save")),children:(0,C.jsx)("div",{className:"mr-1",children:(0,C.jsx)(c.rA,{})})}),(0,C.jsx)(u.A,{className:"btn-warning btn-normal",label:w("Cancel"),onClick:me,title:"".concat(w("Cancel")),children:(0,C.jsx)("div",{className:"mr-1",children:(0,C.jsx)(c.YY,{className:"mr-1 fill-white"})})})]})})]})})})}},87151:()=>{},74864:()=>{}}]);
//# sourceMappingURL=8933.85e43767.chunk.js.map
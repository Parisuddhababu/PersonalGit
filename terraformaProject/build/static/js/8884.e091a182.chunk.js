"use strict";(self.webpackChunkterraforma_systems=self.webpackChunkterraforma_systems||[]).push([[8884],{86607:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(65043),s=t(73216),o=t(41290),l=t(33556),r=t(42145),i=t(70579);const d=e=>{let{data:n,route:t}=e;const d=(0,s.Zp)(),c=(0,a.useCallback)((()=>{d("/".concat(r.bw.app,"/").concat(t,"/edit/").concat(null===n||void 0===n?void 0:n.uuid))}),[]);return(0,i.jsx)(o.A,{className:"bg-transparent btn-default btn-icon",onClick:c,label:"",title:"Edit",children:(0,i.jsx)(l.ff,{})})}},75289:(e,n,t)=>{t.d(n,{A:()=>i});var a=t(65043),s=t(74117),o=t(41290),l=t(33556),r=t(70579);const i=e=>{let{onClose:n,action:t,show:i,warningText:d,disabled:c,isLoading:u}=e;const{t:m}=(0,s.Bd)(),[p,x]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{i&&setTimeout((()=>{x(!0)}),100)}),[i]),(0,r.jsxs)(r.Fragment,{children:[u&&(0,r.jsx)("div",{className:"w-12 h-12 mx-auto rounded-[50%] border-solid border-4 border-[#E8E8EA] border-r-[#2575d6] animate-spin absolute left-[58%] top-[40%]"}),(0,r.jsxs)("div",{className:"".concat(i?"":"hidden"," absolute top-0 left-0 right-0 z-[1000] h-full bg-modal"),children:["Are you sure want to delete this record ?"!==d&&"Are you sure want to change status ?"!==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[780px]",children:(0,r.jsxs)("div",{className:"relative bg-white shadow rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-6 border-b bg-accents-2 rounded-t-xl",children:[(0,r.jsxs)("div",{className:"flex items-center ",children:[(0,r.jsx)(l.io,{className:"inline-block mr-3 fill-baseColor",fontSize:"20"}),(0,r.jsx)("span",{className:"text-xl font-bold text-baseColor",children:m("Confirmation")})]}),(0,r.jsx)(o.A,{onClick:n,label:"",children:(0,r.jsx)(l.YY,{className:"text-error",fontSize:"14"})})]}),(0,r.jsx)("div",{className:"p-5 space-y-6 font-normal text-center border-b border-solid border-border-primary",children:(0,r.jsx)("p",{children:m(d)})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-end p-5 md:space-x-3 md:flex-row",children:[(0,r.jsx)(o.A,{className:"btn-primary btn-normal mb-2 md:mb-0 w-full md:w-auto min-w-[160px]",onClick:t,label:m("Yes"),disabled:c,title:"Yes"}),(0,r.jsx)(o.A,{className:"btn-secondary btn-normal w-full md:w-auto min-w-[160px]",onClick:n,label:m("No"),title:"No"})]})]})})}),"Are you sure want to change status ?"==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center mb-3",children:[(0,r.jsx)("span",{className:"p-[10px] bg-primary min-w-min rounded-full mb-3 overflow-hidden text-xl-44 md:text-6xl",children:(0,r.jsx)(l.ZI,{className:"fill-white bg-primary"})}),(0,r.jsx)("h4",{children:m("Confirmation")})]}),(0,r.jsx)("h6",{className:"font-semibold text-center mb-7 md:mb-10",children:m(d)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(o.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:t,label:m("Yes"),disabled:c,title:"Yes"}),(0,r.jsx)(o.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:n,label:m("No"),title:"No"})]})]})})}),"Are you sure want to delete this record ?"==d&&(0,r.jsx)("div",{id:"changeUserStatusModel",tabIndex:-1,"data-modal-show":!0,"aria-hidden":"false",className:"py-5 flex items-center justify-center h-full ".concat(p?"":"opacity-0 transform -translate-y-full scale-150 ","  transition-all duration-300 "),children:(0,r.jsx)("div",{className:"w-full mx-5 sm:max-w-[640px]",children:(0,r.jsxs)("div",{className:"relative p-5 text-center bg-white shadow rounded-xl md:p-7",children:[(0,r.jsx)("div",{className:"flex justify-center mb-5",children:(0,r.jsx)("span",{className:"p-[22px] md:p-[26px] rounded-full bg-error text-xl-35 md:text-5xl",children:(0,r.jsx)(l.Vl,{className:"stroke-2 fill-white"})})}),(0,r.jsx)("h6",{className:"font-bold text-center mb-7 md:mb-10",children:m(d)}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-5 md:flex-row",children:[(0,r.jsx)(o.A,{className:"btn-primary btn-normal min-w-[86px]",onClick:t,label:m("Yes"),disabled:c,title:"Yes"}),(0,r.jsx)(o.A,{className:"btn-secondary btn-normal min-w-[86px]",onClick:n,label:m("No"),title:"No"})]})]})})})]})]})}},62500:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(65043),s=t(41290),o=t(33556),l=t(70579);const r=e=>{let{data:n,setObj:t,setIsDelete:r,className:i,customClick:d}=e;const c=(0,a.useCallback)((()=>{t(n),!d&&r(!0),d&&d(n)}),[]);return(0,l.jsx)(s.A,{className:"bg-transparent cursor-pointer btn-default btn-icon ".concat(i),onClick:c,label:"",title:"Delete",children:(0,l.jsx)(o.lM,{className:"fill-error"})})}},10463:(e,n,t)=>{t.d(n,{AL:()=>p,D2:()=>u,L4:()=>m,Pn:()=>c,f9:()=>x});var a,s,o,l,r,i=t(57528),d=t(70459);const c=(0,d.J1)(a||(a=(0,i.A)(["\n  mutation Mutation($deleteCouponId: Int) {\n    deleteCoupon(id: $deleteCouponId) {\n      data {\n        id\n        uuid\n        coupon_name\n        coupon_code\n        coupon_type\n        percentage\n        start_time\n        expire_time\n        applicable\n        total_usage\n        status\n        created_by\n        created_at\n        updated_at\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"]))),u=(0,d.J1)(s||(s=(0,i.A)(["\n  mutation UpdateCouponStatus($updateCouponStatusId: Int!, $status: Int) {\n    updateCouponStatus(id: $updateCouponStatusId, status: $status) {\n      data {\n        id\n        uuid\n        coupon_name\n        coupon_code\n        coupon_type\n        percentage\n        start_time\n        expire_time\n        applicable\n        total_usage\n        status\n        created_by\n        created_at\n        updated_at\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"]))),m=(0,d.J1)(o||(o=(0,i.A)(["\n  mutation Mutation(\n    $updateCouponId: Int\n    $couponName: String\n    $couponCode: String\n    $couponType: Int\n    $percentage: Float\n    $startTime: Date\n    $expireTime: Date\n    $isReusable: Int\n    $applicable: Int\n    $selectedUsers: [Int]\n  ) {\n    updateCoupon(\n      id: $updateCouponId\n      coupon_name: $couponName\n      coupon_code: $couponCode\n      coupon_type: $couponType\n      percentage: $percentage\n      start_time: $startTime\n      expire_time: $expireTime\n      is_reusable: $isReusable\n      applicable: $applicable\n      selected_users: $selectedUsers\n    ) {\n      data {\n        id\n        uuid\n        coupon_name\n        coupon_code\n        coupon_type\n        percentage\n        start_time\n        expire_time\n        applicable\n        is_reusable\n        selected_users\n\n        created_by\n        created_at\n        updated_at\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"]))),p=(0,d.J1)(l||(l=(0,i.A)(["\n  mutation Mutation(\n    $couponName: String\n    $couponCode: String\n    $couponType: Int\n    $percentage: Float\n    $startTime: Date\n    $expireTime: Date\n    $applicable: Int\n    $status: Int\n    $createdBy: Int\n    $selectedUsers: [Int]\n    $isReusable: Int\n  ) {\n    createCoupon(\n      coupon_name: $couponName\n      coupon_code: $couponCode\n      coupon_type: $couponType\n      percentage: $percentage\n      start_time: $startTime\n      expire_time: $expireTime\n      applicable: $applicable\n      status: $status\n      created_by: $createdBy\n      selected_users: $selectedUsers\n      is_reusable: $isReusable\n    ) {\n      data {\n        id\n        uuid\n        coupon_name\n        coupon_code\n        coupon_type\n        percentage\n        start_time\n        expire_time\n        applicable\n        status\n        created_by\n        created_at\n        updated_at\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"]))),x=(0,d.J1)(r||(r=(0,i.A)([" mutation GroupDeleteCoupons($groupDeleteCouponsId: [Int]) {\n  groupDeleteCoupons(id: $groupDeleteCouponsId) {\n    meta {\n      message\n      messageCode\n      statusCode\n      status\n      type\n      errors {\n        errorField\n        error\n      }\n      errorType\n    }\n  }\n}"])))},82887:(e,n,t)=>{t.d(n,{I:()=>i,L:()=>r});var a,s,o=t(57528),l=t(70459);const r=(0,l.J1)(a||(a=(0,o.A)(["\n  query FetchCoupons(\n    $page: Int\n    $limit: Int\n    $sortBy: String\n    $sortOrder: String\n    $couponName: String\n    $startTime: Date\n    $expireTime: Date\n    $status: Int\n  ) {\n    fetchCoupons(\n      page: $page\n      limit: $limit\n      sortBy: $sortBy\n      sortOrder: $sortOrder\n      coupon_name: $couponName\n      start_time: $startTime\n      expire_time: $expireTime\n      status: $status\n    ) {\n      data {\n        Coupondata {\n          id\n          uuid\n          coupon_name\n          coupon_code\n          coupon_type\n          percentage\n          start_time\n          expire_time\n          applicable\n          is_reusable\n          total_usage\n          selected_users\n          status\n          created_by\n          created_at\n          updated_at\n        }\n        count\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"]))),i=(0,l.J1)(s||(s=(0,o.A)(["\n  query GetSingleCoupon($getSingleCouponId: Int) {\n    getSingleCoupon(id: $getSingleCouponId) {\n      data {\n        coupon {\n          id\n          uuid\n          coupon_name\n          coupon_code\n          coupon_type\n          percentage\n          start_time\n          expire_time\n          applicable\n          is_reusable\n          total_usage\n          selected_users\n          status\n          created_by\n          created_at\n          updated_at\n        }\n        userList {\n          id\n          uuid\n          first_name\n          middle_name\n          last_name\n          user_name\n          email\n          gender\n          date_of_birth\n          phone_no\n          phone_country_id\n          role\n          profile_img\n          device_type\n          status\n          user_role_id\n          created_at\n          updated_at\n        }\n      }\n      meta {\n        message\n        messageCode\n        statusCode\n        status\n        type\n        errors {\n          errorField\n          error\n        }\n        errorType\n      }\n    }\n  }\n"])))},18884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>$});var a=t(88250),s=t(31881),o=t(42145),l=t(82887),r=t(65043),i=t(74117),d=t(73216),c=t(64526),u=t(33556),m=t(10463),p=t(41290),x=t(8848),h=t(34764),v=t(63516),b=(t(87151),t(74864),t(66925)),f=t(84256),g=(t(15675),t(59140),t(70579));const j=e=>{let{onSearchCoupon:n,clearSelectionCoupons:t}=e;const{t:a}=(0,i.Bd)(),s={couponName:"",startTime:"",expireTime:"",status:""},[l,d]=(0,r.useState)([]),c=(0,v.Wx)({initialValues:s,onSubmit:e=>{var a,s;(t(),2===l.length)?n({...e,startTime:(0,b.eW)(null===(a=l[0])||void 0===a?void 0:a.toString(),o.DX.simpleDateFormat),expireTime:(0,b.eW)(null===(s=l[1])||void 0===s?void 0:s.toString(),o.DX.simpleDateFormat)}):n(e)}}),m=(0,r.useCallback)((()=>{c.resetForm(),d([]),n(s)}),[]),j=(0,r.useCallback)((e=>{d(e.value)}),[d]);return(0,g.jsx)(r.Fragment,{children:(0,g.jsx)("form",{className:"w-full md:w-auto md:h-[15vh] bg-white shadow-lg rounded-sm p-6 mb-5   border border-[#c8ced3]",onSubmit:c.handleSubmit,children:(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 ",children:[(0,g.jsx)("div",{children:(0,g.jsx)(h.A,{placeholder:a("Offer Name"),name:"couponName",type:"text",onChange:c.handleChange,value:c.values.couponName})}),(0,g.jsx)("div",{children:(0,g.jsx)(f.V,{placeholder:"".concat(a("Offer Start"),"  ").concat(a("To")," ").concat(a("End Date")),value:l,numberOfMonths:2,onChange:j,selectionMode:"range"})}),(0,g.jsx)("div",{children:(0,g.jsx)(x.A,{placeholder:a("Select Status"),name:"status",onChange:c.handleChange,value:c.values.status,options:[{name:"Active",key:"1"},{name:"Inactive",key:"0"}],id:"status"})}),(0,g.jsx)("div",{className:" md:col-span-3 ",children:(0,g.jsxs)("div",{className:"btn-group col-span-3 flex items-start justify-end ",children:[(0,g.jsx)(p.A,{className:"btn-primary btn-normal ",type:"submit",label:a("Search"),title:"".concat(a("Search")),children:(0,g.jsx)(u.vj,{})}),(0,g.jsx)(p.A,{className:"btn-warning btn-normal",onClick:m,label:a("Reset"),title:"".concat(a("Reset")),children:(0,g.jsx)(u.C4,{})})]})})]})})})};var C=t(75289),N=t(77654),y=t(32254),_=t(86607),w=t(62500);const $=()=>{var e,n,t,x,h,v,f,$,S,k,I,A,T,D,O,F,R;const{t:B}=(0,i.Bd)(),{data:E,refetch:M}=(0,a.I)(l.L),[J]=(0,s.n)(m.Pn),[U]=(0,s.n)(m.D2),[P]=(0,s.n)(m.f9),Y=(0,d.Zp)(),[L,W]=(0,r.useState)({limit:10,page:1,sortBy:"",sortOrder:"",couponName:"",startTime:"",expireTime:"",status:null}),[z,V]=(0,r.useState)({}),[X,q]=(0,r.useState)(!1),[Z,G]=(0,r.useState)(!1),H=[{name:"Sr.No",sortable:!1},{name:B("Offer Name"),sortable:!0,fieldName:"coupon_name"},{name:B("Offer Code"),sortable:!1,fieldName:"coupon_code"},{name:B("Type"),sortable:!1,fieldName:"coupon_type"},{name:B("Value"),sortable:!0,fieldName:"percentage"},{name:B("Usage"),sortable:!1,fieldName:"is_reusable"},{name:B("Total Usage"),sortable:!1,fieldName:"total_usage"},{name:B("Start Date"),sortable:!0,fieldName:"start_time"},{name:B("End Date"),sortable:!0,fieldName:"end_time"},{name:B("Status"),sortable:!0,fieldName:"status"}],[K,Q]=(0,r.useState)(!1),[ee,ne]=(0,r.useState)(!1),[te,ae]=(0,r.useState)([]),[se,oe]=(0,r.useState)(L.limit),le=(null===E||void 0===E||null===(e=E.fetchCoupons)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)||0,re=Math.ceil(le/se),ie=(0,r.useCallback)((e=>{const n={...L,page:e};W(n),y.A.saveState("filterCoupon",JSON.stringify(n))}),[]);(0,r.useEffect)((()=>{const e=y.A.getState("filterCoupon",JSON.stringify(L));if(e){const n=JSON.parse(e);W(n)}}),[]),(0,r.useEffect)((()=>{if(null===te||void 0===te||!te.length){var e,n;const t=Math.ceil((null===E||void 0===E||null===(e=E.fetchCoupons)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.count)/(null===L||void 0===L?void 0:L.limit)),a=[];for(let e=0;e<t;e++)a.push([]);ae(a)}}),[null===E||void 0===E?void 0:E.fetchCoupons]),(0,r.useEffect)((()=>{ee&&M().then((e=>{var n,t,a,s;ae(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.fetchCoupons)||void 0===t||null===(a=t.data)||void 0===a||null===(s=a.Coupondata)||void 0===s?void 0:s.map((e=>parseInt(e.id))))}))}),[null===E||void 0===E?void 0:E.fetchCoupons]),(0,r.useEffect)((()=>{L&&M(L).catch((e=>{c.oR.error(e)}))}),[L]);const de=(0,r.useCallback)((()=>{J({variables:{deleteCouponId:z.id}}).then((e=>{var n,t;const a=e.data;var s,o;200===(null===a||void 0===a||null===(n=a.deleteCoupon)||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.statusCode)&&(c.oR.success(null===a||void 0===a||null===(s=a.deleteCoupon)||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.message),q(!1),M(L).catch((e=>{c.oR.error(e)})))})).catch((()=>{c.oR.error(B("Failed to update"))}))}),[X]),ce=(0,r.useCallback)((()=>{G(!1),q(!1),Q(!1)}),[]);const ue=(0,r.useCallback)((()=>{U({variables:{updateCouponStatusId:null===z||void 0===z?void 0:z.id,status:1===z.status?0:1}}).then((e=>{var n,t;const a=e.data;var s,o;200===(null===a||void 0===a||null===(n=a.updateCouponStatus)||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.statusCode)&&(c.oR.success(null===a||void 0===a||null===(s=a.updateCouponStatus)||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.message),G(!1),M(L).catch((e=>{c.oR.error(e)})))})).catch((()=>{c.oR.error(B("Failed to update"))}))}),[Z]),me=(0,r.useCallback)((e=>{W({...L,couponName:e.couponName,status:parseInt(e.status),startTime:e.startTime,expireTime:e.expireTime})}),[L]),pe=(0,r.useCallback)((()=>{P({variables:{groupDeleteCouponsId:te[L.page-1]}}).then((e=>{var n,t;const a=null===e||void 0===e?void 0:e.data;var s,o;200===(null===a||void 0===a||null===(n=a.groupDeleteCoupons)||void 0===n||null===(t=n.meta)||void 0===t?void 0:t.statusCode)&&(c.oR.success(null===a||void 0===a||null===(s=a.groupDeleteCoupons)||void 0===s||null===(o=s.meta)||void 0===o?void 0:o.message),Q(!1),M(L).catch((e=>{c.oR.error(e)})))})).catch((()=>{c.oR.error(B("Failed to delete coupons"))})),te[L.page-1]=[]}),[te]);(0,r.useEffect)((()=>{var e,n,t;(null===te||void 0===te?void 0:te.length)===(null===E||void 0===E||null===(e=E.fetchCoupons)||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.Coupondata)||void 0===t?void 0:t.length)?ne(!0):ne(!1)}),[te]);const xe=(0,r.useCallback)((()=>{var e;(null===(e=te[L.page-1])||void 0===e?void 0:e.length)>0?Q(!0):c.oR.error("Please select atleast one record")}),[te]);(0,r.useEffect)((()=>{oe(L.limit)}),[L.limit]);const he=(0,r.useCallback)((()=>{Y("/".concat(o.bw.app,"/").concat(o.bw.manageOffer,"/add"))}),[]);return(0,g.jsxs)("div",{children:[(0,g.jsx)(j,{onSearchCoupon:me,clearSelectionCoupons:()=>{ae([])}}),(0,g.jsxs)("div",{className:" mb-3 w-full bg-white shadow-lg rounded-sm overflow-auto   border  border-[#c8ced3]",children:[(0,g.jsxs)("div",{className:"bg-[#f0f3f5] py-3 px-5 flex items-center justify-between border-b border-[#c8ced3]",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)(u.pD,{className:"mr-2 text-gray-800",fontSize:"12px"})," ",(0,g.jsx)("span",{className:"text-sm font-normal",children:B("Offer List")})]}),(0,g.jsxs)("div",{className:"btn-group col-span-3 flex items-start justify-end ",children:[(0,g.jsxs)(p.A,{className:"btn-primary btn-normal ",onClick:xe,type:"button",label:"",title:"".concat(B("Delete")),children:[(0,g.jsx)(u.lM,{className:"mr-1"}),B("Delete Selected")]}),(0,g.jsxs)(p.A,{className:"btn-primary btn-normal  ",onClick:he,type:"button",label:"",title:"".concat(B("Add New")),children:[(0,g.jsx)(u.yq,{className:"mr-1"})," ",B("Add New")]})]})]}),(0,g.jsxs)("div",{className:"p-5 flex items-center justify-start ",children:[(0,g.jsx)("span",{className:" text-sm text-gray-900 font-normal ",children:B("Show")}),(0,g.jsx)("select",{className:"border border-[#e4e7ea] rounded px-3 text-sm py-1.5 text-gray-500 mx-1 w-[75px] bg-white",onChange:e=>(e=>{oe(Number(e));const n={...L,limit:parseInt(e),page:1};W(n),y.A.saveState("filterCoupon",JSON.stringify(n))})(e.target.value),value:L.limit,children:null===o.aj||void 0===o.aj?void 0:o.aj.map((e=>(0,g.jsx)("option",{children:e},e)))}),(0,g.jsx)("span",{className:" text-sm text-gray-900 font-normal",children:B("entries")})]}),(0,g.jsxs)("div",{className:" p-3 overflow-auto custom-dataTable ",children:[(0,g.jsxs)("table",{children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"text-center",children:(0,g.jsx)("input",{type:"checkbox",className:"checkbox",checked:(null===(t=te[L.page-1])||void 0===t?void 0:t.length)===(null===E||void 0===E||null===(x=E.fetchCoupons)||void 0===x||null===(h=x.data)||void 0===h||null===(v=h.Coupondata)||void 0===v?void 0:v.length),onChange:e=>{const n=[...te];var t,a,s;e.target.checked?(n[L.page-1]=null===E||void 0===E||null===(t=E.fetchCoupons)||void 0===t||null===(a=t.data)||void 0===a||null===(s=a.Coupondata)||void 0===s?void 0:s.map((e=>parseInt(e.id))),ae(n)):(n[L.page-1]=[],ae(n))}})}),null===H||void 0===H?void 0:H.map((e=>(0,g.jsx)("th",{scope:"col",children:(0,g.jsxs)("div",{className:"flex items-center ".concat(e.name===B("Status")||"Sr.No"===e.name?"justify-center":""),children:[e.name,e.sortable&&(0,g.jsxs)("a",{onClick:()=>{return n=e.fieldName,void W({...L,sortBy:n,sortOrder:"asc"===L.sortOrder?"desc":"asc"});var n},children:[(""===L.sortOrder||L.sortBy!==e.fieldName)&&(0,g.jsx)(u.xs,{}),"asc"===L.sortOrder&&L.sortBy===e.fieldName&&(0,g.jsx)(u.R2,{}),"desc"===L.sortOrder&&L.sortBy===e.fieldName&&(0,g.jsx)(u.IN,{})]})]})},e.fieldName))),(0,g.jsx)("th",{scope:"col",children:(0,g.jsx)("div",{className:"flex  justify-center",children:B("Action")})})]})}),(0,g.jsx)("tbody",{children:null===E||void 0===E||null===(f=E.fetchCoupons)||void 0===f||null===($=f.data)||void 0===$||null===(S=$.Coupondata)||void 0===S?void 0:S.map(((e,n)=>{var t;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"text-center",children:(0,g.jsx)("input",{type:"checkbox",className:"checkbox",id:e.id,checked:null===te||void 0===te||null===(t=te[L.page-1])||void 0===t?void 0:t.includes(parseInt(e.id)),onChange:()=>(e=>{var n;const t=[...te],a=null===t||void 0===t||null===(n=t[L.page-1])||void 0===n?void 0:n.includes(e);t[L.page-1]=a?t[L.page-1].filter((n=>n!==e)):[...t[L.page-1],e],ae(t)})(parseInt(e.id))})}),(0,g.jsx)("th",{scope:"row",className:" text-center font-normal text-gray-700 whitespace-nowrap dark:text-white",children:n+1}),(0,g.jsxs)("td",{children:[" ",e.coupon_name]}),(0,g.jsx)("td",{children:e.coupon_code}),(0,g.jsx)("td",{children:0===e.coupon_type?"Percentage":"Amount"}),(0,g.jsx)("td",{children:parseFloat("".concat(e.percentage)).toFixed(2)}),(0,g.jsx)("td",{children:0===e.is_reusable?"One Time":"Multiple Times"}),(0,g.jsx)("td",{className:"text-center",children:e.total_usage}),(0,g.jsx)("td",{children:(0,b.eW)(e.start_time,o.DX.momentDateTime24Format)}),(0,g.jsx)("td",{children:(0,b.eW)(e.expire_time,o.DX.momentDateTime24Format)}),(0,g.jsx)("td",{children:(0,g.jsx)("div",{className:" flex justify-center",children:1===e.status?(0,g.jsx)("span",{className:"badge badge-success rounded",children:"Active"}):(0,g.jsx)("span",{className:"badge badge-danger rounded",children:"InActive"})})}),(0,g.jsx)("td",{children:(0,g.jsxs)("div",{className:"btn-group  flex justify-center",children:[(0,g.jsx)(_.A,{data:e,route:o.bw.manageOffer}),(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)("span",{onClick:()=>function(e){G(!0),V(e)}(e),className:"font-medium text-blue-600 mt-2 dark:text-blue-500 hover:underline",children:(0,g.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,g.jsx)("input",{type:"checkbox",className:"sr-only peer",value:e.status,checked:1===e.status}),(0,g.jsx)("div",{className:"w-7 h-4 bg-gray-200 rounded-full peer peer-focus:ring-3 peer-focus:ring-red-200 dark:peer-focus:ring-blue-800 dark:bg-whute peer-checked:after:translate-x-full peer-checked:after:border-white after:content- after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-3 after:w-3 after:transition-all dark:border-gray-600 peer-checked:bg-primary"})]})})}),(0,g.jsx)(w.A,{data:e,setObj:V,setIsDelete:q})]})})]},e.id)}))})]}),(null===(null===E||void 0===E||null===(k=E.fetchCoupons)||void 0===k?void 0:k.data)||void 0===(null===E||void 0===E||null===(I=E.fetchCoupons)||void 0===I?void 0:I.data))&&(0,g.jsx)("div",{className:"flex justify-center",children:(0,g.jsx)("div",{children:B("No Data")})})]}),(0,g.jsxs)("div",{className:"px-6 mb-4 flex items-center justify-between ",children:[(0,g.jsxs)("span",{className:"text-slate-400 text-xs",children:["".concat(null===(null===E||void 0===E||null===(A=E.fetchCoupons)||void 0===A||null===(T=A.data)||void 0===T?void 0:T.count)||void 0===(null===E||void 0===E||null===(D=E.fetchCoupons)||void 0===D||null===(O=D.data)||void 0===O?void 0:O.count)?"0":null===E||void 0===E||null===(F=E.fetchCoupons)||void 0===F||null===(R=F.data)||void 0===R?void 0:R.count),(0,g.jsx)("span",{className:"ml-1",children:B("Total Records")})]}),(0,g.jsx)(N.A,{currentPage:L.page,totalPages:re,onPageChange:ie,recordsPerPage:se})]})]}),Z&&(0,g.jsx)(C.A,{warningText:o.lN,onClose:ce,action:ue,show:Z}),X&&(0,g.jsx)(C.A,{warningText:o.jl,onClose:ce,action:de,show:X}),K&&(0,g.jsx)(C.A,{warningText:o.DF,onClose:ce,action:pe,show:K})]})}},87151:()=>{},74864:()=>{}}]);
//# sourceMappingURL=8884.e091a182.chunk.js.map